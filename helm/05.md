# Helm — Introduction & Architecture

## 5. Chart Values & Customization

In Helm, **values** define the customizable configuration for a chart. This section explains how to work with `values.yaml` files, override defaults, and use multiple values files.

---

### 5.1 Understanding `values.yaml`

* Each chart has a **default `values.yaml`** inside its chart directory.
* It stores default configuration parameters like replica counts, image versions, service types, etc.

Example from `nginx` chart:

```yaml
replicaCount: 2
image:
  repository: nginx
  tag: 1.21
service:
  type: ClusterIP
  port: 80
```

---

### 5.2 Overriding Values at Install Time

You can override values from `values.yaml` without editing the file.

**Option 1 — Inline `--set` flag:**

```bash
helm install mynginx bitnami/nginx --set replicaCount=3,image.tag=1.23
```

**Option 2 — Custom values file:**

```bash
# custom-values.yaml
replicaCount: 4
image:
  tag: 1.22
```

```bash
helm install mynginx bitnami/nginx -f custom-values.yaml
```

---

### 5.3 Using Multiple Values Files

When using multiple `-f` flags, Helm merges them in order — later files override earlier ones.

```bash
helm install myapp ./mychart -f base.yaml -f prod.yaml
```

---

### 5.4 Viewing Effective Values

To see what values were applied to a release:

```bash
helm get values mynginx
```

To see all values, including defaults:

```bash
helm get values mynginx --all
```

---

### 5.5 Updating Values After Installation

You can change values without reinstalling:

```bash
helm upgrade mynginx bitnami/nginx -f new-values.yaml
```

Or with inline:

```bash
helm upgrade mynginx bitnami/nginx --set replicaCount=5
```

---

### 5.6 Real-World Example — Changing NGINX Service Type

1. Install with default `ClusterIP`:

```bash
helm install mynginx bitnami/nginx
```

2. Change service type to `LoadBalancer`:

```bash
helm upgrade mynginx bitnami/nginx --set service.type=LoadBalancer
```

3. Verify:

```bash
kubectl get svc
```

---

**Exam Tip:** Be comfortable switching between `--set` and `-f` methods quickly, and remember `helm get values` for troubleshooting.

---
