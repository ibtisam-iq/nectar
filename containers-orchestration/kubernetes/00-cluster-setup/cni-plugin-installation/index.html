<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Nectar is a living engineering knowledge system where I document how I reason about infrastructure and distributed systems in production. It focuses on understanding why systems behave the way they do, exploring trade-offs, failure modes, and real-world constraints — not just listing tools or tutorials."><meta name=author content="Muhammad Ibtisam"><link href=https://nectar.ibtisam-iq.com/containers-orchestration/kubernetes/00-cluster-setup/cni-plugin-installation/ rel=canonical><link href=../kubeconfig-setup/ rel=prev><link href=../cni-working/ rel=next><link rel=icon href=../../../../docs/images/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>CNI Plugin Installation - Nectar</title><link rel=stylesheet href=../../../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../docs/stylesheets/extra.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title=Nectar class="md-header__button md-logo" aria-label=Nectar data-md-component=logo> <img src=../../../../docs/images/favicon.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Nectar </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> CNI Plugin Installation </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ibtisam-iq/nectar title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ibtisam-iq/nectar </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title=Nectar class="md-nav__button md-logo" aria-label=Nectar data-md-component=logo> <img src=../../../../docs/images/favicon.svg alt=logo> </a> Nectar </label> <div class=md-nav__source> <a href=https://github.com/ibtisam-iq/nectar title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ibtisam-iq/nectar </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Containers & Orchestration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Containers & Orchestration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../docker/ class=md-nav__link> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../docker-compose/Compose/ class=md-nav__link> <span class=md-ellipsis> Docker Compose </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Kubernetes </span> </a> <label class="md-nav__link " for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../master-key/ class=md-nav__link> <span class=md-ellipsis> Master Key </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Cluster Setup </span> </a> <label class="md-nav__link " for=__nav_2_3_3 id=__nav_2_3_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_3_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3_3> <span class="md-nav__icon md-icon"></span> Cluster Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../kind-cluster-setup-guide/ class=md-nav__link> <span class=md-ellipsis> Kind Cluster Setup Guide </span> </a> </li> <li class=md-nav__item> <a href=../kind-cluster-setup-calico-guide/ class=md-nav__link> <span class=md-ellipsis> Kind Cluster Setup with Calico </span> </a> </li> <li class=md-nav__item> <a href=../kubeadm-cluster-setup-guide/ class=md-nav__link> <span class=md-ellipsis> Kubeadm Cluster Setup Guide </span> </a> </li> <li class=md-nav__item> <a href=../kubeadm-init-flags-and-kind-config/ class=md-nav__link> <span class=md-ellipsis> Kubeadm Init Flags and Kind Config </span> </a> </li> <li class=md-nav__item> <a href=../kubeadm-init-working/ class=md-nav__link> <span class=md-ellipsis> Kubeadm Init Working </span> </a> </li> <li class=md-nav__item> <a href=../kubeadmConfigPatches/ class=md-nav__link> <span class=md-ellipsis> Kubeadm Config Patches </span> </a> </li> <li class=md-nav__item> <a href=../containerdConfigPatches/ class=md-nav__link> <span class=md-ellipsis> Containerd Config Patches </span> </a> </li> <li class=md-nav__item> <a href=../extraPortMappings/ class=md-nav__link> <span class=md-ellipsis> Extra Port Mappings </span> </a> </li> <li class=md-nav__item> <a href=../kubeconfig-setup/ class=md-nav__link> <span class=md-ellipsis> Kubeconfig Setup </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> CNI Plugin Installation </span> </a> </li> <li class=md-nav__item> <a href=../cni-working/ class=md-nav__link> <span class=md-ellipsis> CNI Working </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../01-core-concepts/architecture/ class=md-nav__link> <span class=md-ellipsis> Core Concepts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../02-cli-operations/kubectl-flags/ class=md-nav__link> <span class=md-ellipsis> CLI Operations </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../03-networking/networking-in-k8s/ class=md-nav__link> <span class=md-ellipsis> Networking </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../04-storage/ class=md-nav__link> <span class=md-ellipsis> Storage </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../05-scheduling-and-affinity/taints-affinity-guide-a/ class=md-nav__link> <span class=md-ellipsis> Scheduling & Affinity </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../06-resource-management/01-resource-quota-guide/ class=md-nav__link> <span class=md-ellipsis> Resource Management </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../07-security/rbac/ class=md-nav__link> <span class=md-ellipsis> Security </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../08-debugging-monitoring/probe/ class=md-nav__link> <span class=md-ellipsis> Debugging & Monitoring </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../09-workloads/pod-guide/ class=md-nav__link> <span class=md-ellipsis> Workloads </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../10-references/imperative-commands/ class=md-nav__link> <span class=md-ellipsis> References </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../unorganized/k8s/ class=md-nav__link> <span class=md-ellipsis> Unorganized </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../../CKA-KodeKloud-Complete-Notes.pdf class=md-nav__link> <span class=md-ellipsis> CKA KodeKloud Complete Notes </span> </a> </li> <li class=md-nav__item> <a href=../../practice-checklist/ class=md-nav__link> <span class=md-ellipsis> Practice Checklist </span> </a> </li> <li class=md-nav__item> <a href=../../error-logs/ class=md-nav__link> <span class=md-ellipsis> Error Logs </span> </a> </li> <li class=md-nav__item> <a href=../../wazahat-nama/ class=md-nav__link> <span class=md-ellipsis> Wazahat Nama </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../helm/ class=md-nav__link> <span class=md-ellipsis> Helm </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../kustomize/ class=md-nav__link> <span class=md-ellipsis> Kustomize </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../containerd/ class=md-nav__link> <span class=md-ellipsis> Containerd </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../delivery/git/gitCheatSheet/ class=md-nav__link> <span class=md-ellipsis> CI/CD & Software Delivery </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../cloud-infrastructure/aws/introduction/ class=md-nav__link> <span class=md-ellipsis> Cloud & Infrastructure </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../servers/ class=md-nav__link> <span class=md-ellipsis> Servers & Runtime Systems </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../observability-security/trivy/Trivy/ class=md-nav__link> <span class=md-ellipsis> Observability & Security </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../operations/ class=md-nav__link> <span class=md-ellipsis> Operations & Self-Managed Systems </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../scratchpad/ class=md-nav__link> <span class=md-ellipsis> Engineering Scratchpad </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../technical-grounding/ class=md-nav__link> <span class=md-ellipsis> Technical Grounding </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=../../../.. class=md-path__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-path__item> <a href=../../../docker/ class=md-path__link> <span class=md-ellipsis> Containers & Orchestration </span> </a> </li> <li class=md-path__item> <a href=../../ class=md-path__link> <span class=md-ellipsis> Kubernetes </span> </a> </li> <li class=md-path__item> <a href=../ class=md-path__link> <span class=md-ellipsis> Cluster Setup </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1 id=comprehensive-guide-to-cni-plugins-for-kubernetes-cluster-networking>Comprehensive Guide to CNI Plugins for Kubernetes Cluster Networking<a class=headerlink href=#comprehensive-guide-to-cni-plugins-for-kubernetes-cluster-networking title="Link to this section">&para;</a></h1> <p>This guide provides an in-depth exploration of Container Network Interface (CNI) plugins, essential for enabling pod communication in Kubernetes clusters. Tailored for seamless cluster setup using <code>kubeadm</code> on Ubuntu 24.04 with Calico as the primary CNI, it covers why CNIs are necessary, their purpose, types, configurations, and troubleshooting. Designed for learners and practitioners, it addresses common pitfalls (e.g., Calico’s commented-out CIDR) and aligns with your setup (e.g., <code>--pod-network-cidr=10.244.0.0/16</code>). By the end, you’ll understand how to choose, configure, and deploy CNI plugins to ensure robust cluster networking.</p> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Link to this section">&para;</a></h2> <p>Kubernetes relies on a Container Network Interface (CNI) plugin to provide networking for pods, enabling communication within and across nodes. Without a CNI, pods cannot communicate, rendering the cluster non-functional. This guide explains the CNI standard, its role, available plugins (e.g., Calico, Flannel, Weave, Cilium), their configurations, and how they integrate with <code>kubeadm init</code>’s <code>--pod-network-cidr</code>. It builds on your <code>cluster-set</code> repository’s networking step, enhancing it with practical examples, troubleshooting, and best practices.</p> <h2 id=your-setup-context>Your Setup Context<a class=headerlink href=#your-setup-context title="Link to this section">&para;</a></h2> <p>Your cluster setup uses: - <strong>kubeadm</strong>: Initializes clusters with <code>--pod-network-cidr=10.244.0.0/16</code> (preferred over <code>192.168.0.0/16</code> to avoid VPC conflicts). - <strong>Kind</strong>: Configures <code>podSubnet: "10.244.0.0/16"</code> and <code>disableDefaultCNI: true</code>. - <strong>Calico</strong>: Primary CNI, requiring <code>CALICO_IPV4POOL_CIDR: "10.244.0.0/16"</code>. - <strong>Environment</strong>: Ubuntu 24.04, containerd, Kubernetes v1.32. - <strong>Past Issue</strong>: Errors with Calico due to commented-out <code>CALICO_IPV4POOL_CIDR</code> when using <code>--pod-network-cidr=192.168.0.0/16</code>; resolved by switching to Weave.</p> <p>This guide prioritizes <code>10.244.0.0/16</code>, addresses your Calico experience, and compares other CNIs for clarity.</p> <h2 id=what-is-a-cni>What is a CNI?<a class=headerlink href=#what-is-a-cni title="Link to this section">&para;</a></h2> <p>The <strong>Container Network Interface (CNI)</strong> is a standardized specification for configuring network interfaces in containerized environments. Developed by CoreOS and adopted by Kubernetes, it defines how container runtimes (e.g., containerd) interact with networking plugins to set up pod networking.</p> <ul> <li><strong>Purpose</strong>:</li> <li>Assigns IP addresses to pods.</li> <li>Configures routes and network interfaces for pod communication.</li> <li>Enables network policies, security, and advanced features (e.g., service mesh).</li> <li><strong>Location</strong>: In Kubernetes, CNI configurations reside in <code>/etc/cni/net.d/</code> (e.g., <code>10-calico.conflist</code> for Calico).</li> <li><strong>Role</strong>: Acts as a bridge between Kubernetes’ kubelet, container runtime, and the CNI plugin.</li> </ul> <h3 id=why-is-a-cni-necessary>Why is a CNI Necessary?<a class=headerlink href=#why-is-a-cni-necessary title="Link to this section">&para;</a></h3> <p>Kubernetes does not provide built-in networking for pods. Without a CNI plugin: - Pods are created but remain isolated, unable to communicate. - No IP addresses are assigned to pods (<code>kubectl describe pod</code> shows no IP). - Services, DNS, and ingress fail, as they rely on pod networking. - Pods stay in <code>Pending</code> or <code>CrashLoopBackOff</code>, with errors like <code>networkPlugin cni failed to set up pod</code>.</p> <p><strong>Example Impact</strong>: Deploying an nginx pod without a CNI: <div class="language-bash highlight"><pre><span></span><code><span id=__span-0-1>kubectl<span class=w> </span>run<span class=w> </span>nginx<span class=w> </span>--image<span class=o>=</span>nginx
</span><span id=__span-0-2>kubectl<span class=w> </span>get<span class=w> </span>pods
</span></code></pre></div> <strong>Output</strong>: <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1>NAME    READY   STATUS    RESTARTS   AGE
</span><span id=__span-1-2>nginx   0/1     Pending   0          5m
</span></code></pre></div> <strong>Error</strong> (from <code>kubectl describe pod nginx</code>): <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1>Failed to create pod sandbox: rpc error: code = Unknown desc = failed to set up sandbox container: networkPlugin cni failed
</span></code></pre></div></p> <h3 id=how-cni-works>How CNI Works<a class=headerlink href=#how-cni-works title="Link to this section">&para;</a></h3> <p>The Container Network Interface (CNI) enables Kubernetes to configure pod networking, assigning IPs and enabling communication. Here’s how it works:</p> <ol> <li><strong>Kubelet Initiates Pod Creation</strong>:</li> <li> <p>The kubelet, Kubernetes’ node agent, schedules a pod (e.g., <code>nginx</code>) and instructs the container runtime (e.g., containerd) to create a pod <strong>sandbox</strong>—a network namespace isolating the pod’s networking.</p> </li> <li> <p><strong>Container Runtime Requests Networking</strong>:</p> </li> <li> <p>The runtime calls the CNI interface, passing pod details (e.g., name, namespace, container ID) via <code>/etc/cni/net.d/</code> configuration files (e.g., <code>10-calico.conflist</code>).</p> </li> <li> <p><strong>CNI Interface Triggers the Plugin</strong>:</p> </li> <li> <p>The CNI interface invokes the configured plugin (e.g., Calico, Flannel) to set up networking.</p> </li> <li> <p><strong>CNI Plugin Configures Networking</strong>:</p> </li> <li> <p>The plugin:</p> <ul> <li>Assigns an IP (e.g., <code>10.244.0.5</code>) from the configured range (e.g., <code>10.244.0.0/16</code>).</li> <li>Creates a <strong>virtual ethernet (veth)</strong> pair, linking the pod’s namespace to the host’s network.</li> <li>Configures routes (e.g., via BGP for Calico) for pod-to-pod and node communication.</li> <li>Applies firewall rules or network policies.</li> </ul> </li> <li> <p><strong>Pod Joins the Cluster Network</strong>:</p> </li> <li>The pod receives its IP and is fully connected, enabling communication with other pods, services, and external resources.</li> </ol> <p><strong>Example</strong> (Calico): - Pod gets IP <code>10.244.0.5</code> from <code>CALICO_IPV4POOL_CIDR: "10.244.0.0/16"</code>. - Routes are set via BGP or VXLAN for inter-node communication.</p> <blockquote> <p>Click <a href=../cni-working/ >here</a> to see a detailed, step-by-step example of how CNI works.</p> </blockquote> <h2 id=types-of-cni-plugins>Types of CNI Plugins<a class=headerlink href=#types-of-cni-plugins title="Link to this section">&para;</a></h2> <p>CNI plugins vary in networking models, features, and use cases. Below is a comparison of popular plugins, including Calico, Flannel, Weave, and Cilium, with their configurations and suitability for your setup.</p> <table> <thead> <tr> <th>CNI Plugin</th> <th>Networking Model</th> <th>Key Features</th> <th>Default CIDR</th> <th>Use Case</th> <th>Complexity</th> </tr> </thead> <tbody> <tr> <td><strong>Calico</strong></td> <td>Layer 3 (Routing)</td> <td>Network policies, BGP, IP-in-IP or VXLAN, scalability</td> <td><code>192.168.0.0/16</code></td> <td>Security, enterprise, hybrid clouds</td> <td>Moderate</td> </tr> <tr> <td><strong>Flannel</strong></td> <td>Layer 2 (Overlay)</td> <td>Simple, VXLAN or host-gw, lightweight</td> <td><code>10.244.0.0/16</code></td> <td>Basic clusters, ease of use</td> <td>Low</td> </tr> <tr> <td><strong>Weave</strong></td> <td>Layer 2 (Overlay)</td> <td>Auto peer discovery, encryption, simple setup</td> <td><code>10.32.0.0/12</code></td> <td>Small clusters, quick setup</td> <td>Low</td> </tr> <tr> <td><strong>Cilium</strong></td> <td>eBPF-based</td> <td>Network policies, service mesh, observability, high performance</td> <td><code>10.0.0.0/16</code></td> <td>Advanced networking, security</td> <td>High</td> </tr> </tbody> </table> <h3 id=1-calico>1. Calico<a class=headerlink href=#1-calico title="Link to this section">&para;</a></h3> <ul> <li><strong>Overview</strong>: A Layer 3 CNI using BGP or IP-in-IP for routing. Excels in network policies and enterprise-grade security.</li> <li><strong>Configuration</strong>:</li> <li>YAML: <code>https://raw.githubusercontent.com/projectcalico/calico/v3.28.0/manifests/calico.yaml</code></li> <li>Key Setting: <code>CALICO_IPV4POOL_CIDR</code> in <code>calico-config</code> ConfigMap.</li> <li>Default: <code>192.168.0.0/16</code> (commented out by default, must uncomment).</li> <li>Your Setup: Set to <code>10.244.0.0/16</code> to match <code>--pod-network-cidr</code>.</li> <li><strong>Your Experience</strong>:</li> <li>Errors occurred with <code>--pod-network-cidr=192.168.0.0/16</code> due to commented-out <code>CALICO_IPV4POOL_CIDR</code>, preventing IP pool creation.</li> <li>Fix: Uncomment and set: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-3-1><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">CALICO_IPV4POOL_CIDR</span>
</span><span id=__span-3-2><span class=w>  </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;10.244.0.0/16&quot;</span>
</span></code></pre></div></li> <li><strong>Use Case</strong>: Ideal for clusters requiring network policies, scalability, or hybrid cloud integration.</li> <li><strong>Official Documentation</strong>: <a href=https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises#install-calico>Calico CNI</a></li> </ul> <h3 id=2-flannel>2. Flannel<a class=headerlink href=#2-flannel title="Link to this section">&para;</a></h3> <ul> <li><strong>Overview</strong>: A simple Layer 2 overlay CNI using VXLAN or host-gateway modes. Lightweight and easy to deploy.</li> <li><strong>Configuration</strong>:</li> <li>YAML: <code>curl -LO kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml</code></li> <li>Default CIDR: <code>10.244.0.0/16</code> (set in <code>net-conf.json</code> within the YAML).</li> <li>To Change: Edit <code>net-conf.json</code>: <div class="language-json highlight"><pre><span></span><code><span id=__span-4-1><span class=p>{</span>
</span><span id=__span-4-2><span class=w>  </span><span class=nt>&quot;Network&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;10.244.0.0/16&quot;</span><span class=p>,</span><span class=w> </span><span class=err>#</span><span class=w> </span><span class=err>kubeadm</span><span class=w> </span><span class=err>i</span><span class=kc>n</span><span class=err>i</span><span class=kc>t</span><span class=w> </span><span class=mi>--</span><span class=err>pod</span><span class=mi>-</span><span class=kc>net</span><span class=err>work</span><span class=mi>-</span><span class=err>cidr</span><span class=w> </span><span class=mf>10.244.0.0</span><span class=err>/</span><span class=mi>16</span>
</span><span id=__span-4-3><span class=w>  </span><span class=nt>&quot;Backend&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-4-4><span class=w>    </span><span class=nt>&quot;Type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;vxlan&quot;</span>
</span><span id=__span-4-5><span class=w>  </span><span class=p>}</span>
</span><span id=__span-4-6><span class=p>}</span>
</span></code></pre></div><ul> <li>Locate the args section within the kube-flannel container definition. Add the additional argument <code>- --iface=eth0</code> to the existing list of arguments.</li> </ul> </li> <li><strong>Use Case</strong>: Small to medium clusters needing simple networking without advanced policies.</li> <li><strong>In Your Setup</strong>: Matches your preferred <code>10.244.0.0/16</code>, requiring no edits if <code>--pod-network-cidr=10.244.0.0/16</code>.</li> </ul> <h3 id=3-weave>3. Weave<a class=headerlink href=#3-weave title="Link to this section">&para;</a></h3> <ul> <li><strong>Overview</strong>: A Layer 2 overlay CNI with automatic peer discovery and encryption. Simpler than Calico, worked in your past setup.</li> <li><strong>Configuration</strong>:</li> <li>Replace v1.29 with the version on Kubernetes on your cluster.</li> <li>Default CIDR: Auto-configured (e.g., <code>10.32.0.0/12</code>), adaptable to <code>--pod-network-cidr</code>.</li> <li> <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1>kubectl<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span>https://reweave.azurewebsites.net/k8s/v1.29/net.yaml
</span></code></pre></div> </li> <li><strong>Why It Worked for You</strong>: Weave’s auto-configuration likely adapted to <code>192.168.0.0/16</code> or used a non-conflicting default, avoiding Calico’s IP pool issue.</li> <li><strong>Use Case</strong>: Quick setups, small clusters, or environments needing encryption.</li> </ul> <h3 id=4-cilium>4. Cilium<a class=headerlink href=#4-cilium title="Link to this section">&para;</a></h3> <ul> <li><strong>Overview</strong>: An eBPF-based CNI offering high performance, network policies, and observability via Hubble.</li> <li><strong>Configuration</strong>:</li> <li>YAML: <code>https://raw.githubusercontent.com/cilium/cilium/v1.14/install/kubernetes/cilium.yaml</code></li> <li>Default CIDR: <code>10.0.0.0/16</code> (configurable via Helm or YAML).</li> <li>To Change: Edit <code>cluster-pool-ipv4-cidr</code> in the Cilium ConfigMap.</li> <li><strong>Use Case</strong>: Advanced networking, service mesh integration, or performance-critical clusters.</li> <li><strong>Complexity</strong>: Higher due to eBPF requirements (modern kernel, e.g., Ubuntu 22.04’s 5.15+).</li> </ul> <h2 id=cni-configuration-and-use-cases>CNI Configuration and Use Cases<a class=headerlink href=#cni-configuration-and-use-cases title="Link to this section">&para;</a></h2> <p>CNI plugins require configuration to align with <code>--pod-network-cidr</code> (kubeadm) or <code>podSubnet</code> (Kind), set during cluster initialization. Misconfigurations (e.g., your Calico issue) cause networking failures. Below are key considerations and use-case-driven configurations.</p> <h3 id=key-configuration-steps>Key Configuration Steps<a class=headerlink href=#key-configuration-steps title="Link to this section">&para;</a></h3> <ol> <li><strong>Match CIDR</strong>:</li> <li>Ensure the CNI’s CIDR matches <code>--pod-network-cidr</code> or <code>podSubnet</code>.</li> <li>Example: Your <code>kubeadm init --pod-network-cidr=10.244.0.0/16</code> requires Calico’s <code>CALICO_IPV4POOL_CIDR: "10.244.0.0/16"</code>.</li> <li><strong>Avoid Overlaps</strong>:</li> <li><code>--pod-network-cidr</code> must not overlap with <code>--service-cidr</code> (default <code>10.96.0.0/12</code>) or node IPs (e.g., <code>10.0.138.123</code>).</li> <li>Your Choice: <code>10.244.0.0/16</code> is safe, avoiding <code>192.168.0.0/16</code>’s VPC conflicts.</li> <li><strong>Explicit Settings</strong>:</li> <li>Uncomment or set CIDRs explicitly (e.g., Calico’s <code>CALICO_IPV4POOL_CIDR</code>) to avoid defaults.</li> <li>Your Lesson: Commented-out <code>CALICO_IPV4POOL_CIDR</code> caused errors with <code>192.168.0.0/16</code>.</li> </ol> <h3 id=use-case-examples>Use Case Examples<a class=headerlink href=#use-case-examples title="Link to this section">&para;</a></h3> <ul> <li><strong>Security-Focused Cluster (Calico)</strong>:</li> <li>Use Case: Enforce network policies to restrict pod communication.</li> <li>Config: <div class="language-bash highlight"><pre><span></span><code><span id=__span-6-1>kubeadm<span class=w> </span>init<span class=w> </span>--pod-network-cidr<span class=o>=</span><span class=m>10</span>.244.0.0/16<span class=w> </span>...
</span></code></pre></div> Edit <code>calico.yaml</code>: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-7-1><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">CALICO_IPV4POOL_CIDR</span>
</span><span id=__span-7-2><span class=w>  </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;10.244.0.0/16&quot;</span>
</span></code></pre></div> Apply network policy: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-8-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
</span><span id=__span-8-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">NetworkPolicy</span>
</span><span id=__span-8-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-8-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deny-all</span>
</span><span id=__span-8-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-8-6><span class=w>  </span><span class=nt>podSelector</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{}</span>
</span><span id=__span-8-7><span class=w>  </span><span class=nt>policyTypes</span><span class=p>:</span>
</span><span id=__span-8-8><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
</span><span id=__span-8-9><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Egress</span>
</span></code></pre></div></li> <li><strong>Simple Cluster (Flannel)</strong>:</li> <li>Use Case: Quick setup for development.</li> <li>Config: <div class="language-bash highlight"><pre><span></span><code><span id=__span-9-1>kubeadm<span class=w> </span>init<span class=w> </span>--pod-network-cidr<span class=o>=</span><span class=m>10</span>.244.0.0/16<span class=w> </span>...
</span><span id=__span-9-2>kubectl<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span>https://raw.githubusercontent.com/flannel-io/flannel/master/Documentation/kube-flannel.yml
</span></code></pre></div> No edits needed if CIDR matches.</li> <li><strong>Encrypted Networking (Weave)</strong>:</li> <li>Use Case: Small cluster with encryption.</li> <li>Config: <div class="language-bash highlight"><pre><span></span><code><span id=__span-10-1>kubeadm<span class=w> </span>init<span class=w> </span>--pod-network-cidr<span class=o>=</span><span class=m>10</span>.244.0.0/16<span class=w> </span>...
</span><span id=__span-10-2>kubectl<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span><span class=s2>&quot;https://cloud.weave.works/k8s/net?env.IPALLOC_RANGE=10.244.0.0/16&quot;</span>
</span></code></pre></div></li> </ul> <h2 id=installing-a-cni-plugin>Installing a CNI Plugin<a class=headerlink href=#installing-a-cni-plugin title="Link to this section">&para;</a></h2> <p>Below are steps to install and configure Calico (your primary CNI), with notes on Flannel and Weave, aligning with your <code>kubeadm init --pod-network-cidr=10.244.0.0/16</code>.</p> <h3 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Link to this section">&para;</a></h3> <ul> <li>Cluster initialized with: <div class="language-bash highlight"><pre><span></span><code><span id=__span-11-1>kubeadm<span class=w> </span>init<span class=w> </span>--pod-network-cidr<span class=o>=</span><span class=m>10</span>.244.0.0/16<span class=w> </span>...
</span></code></pre></div></li> <li>kubectl configured: <div class="language-bash highlight"><pre><span></span><code><span id=__span-12-1>mkdir<span class=w> </span>-p<span class=w> </span><span class=nv>$HOME</span>/.kube
</span><span id=__span-12-2>sudo<span class=w> </span>cp<span class=w> </span>-i<span class=w> </span>/etc/kubernetes/admin.conf<span class=w> </span><span class=nv>$HOME</span>/.kube/config
</span><span id=__span-12-3>sudo<span class=w> </span>chown<span class=w> </span><span class=k>$(</span>id<span class=w> </span>-u<span class=k>)</span>:<span class=k>$(</span>id<span class=w> </span>-g<span class=k>)</span><span class=w> </span><span class=nv>$HOME</span>/.kube/config
</span></code></pre></div></li> </ul> <h3 id=step-by-step-installing-calico>Step-by-Step: Installing Calico<a class=headerlink href=#step-by-step-installing-calico title="Link to this section">&para;</a></h3> <ol> <li> <p><strong>Download Calico YAML</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-13-1>curl<span class=w> </span>-O<span class=w> </span>https://raw.githubusercontent.com/projectcalico/calico/v3.28.0/manifests/calico.yaml
</span></code></pre></div></p> </li> <li> <p><strong>Configure CIDR</strong>:</p> </li> <li>Open <code>calico.yaml</code> (e.g., <code>nano calico.yaml</code>).</li> <li>Find the <code>calico-config</code> ConfigMap (around line 400–500).</li> <li>Uncomment and set: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-14-1><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">CALICO_IPV4POOL_CIDR</span>
</span><span id=__span-14-2><span class=w>  </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&quot;10.244.0.0/16&quot;</span>
</span></code></pre></div></li> <li> <p><strong>Note</strong>: The default <code>192.168.0.0/16</code> is commented out. Uncommenting and changing to <code>10.244.0.0/16</code> prevents your past errors.</p> </li> <li> <p><strong>Apply Calico</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-15-1>kubectl<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span>calico.yaml
</span></code></pre></div></p> </li> <li> <p><strong>Verify Installation</strong>:</p> </li> <li>Check Calico pods: <div class="language-bash highlight"><pre><span></span><code><span id=__span-16-1>kubectl<span class=w> </span>get<span class=w> </span>pods<span class=w> </span>-n<span class=w> </span>kube-system<span class=w> </span>-l<span class=w> </span>k8s-app<span class=o>=</span>calico-node
</span></code></pre></div> <strong>Expected Output</strong>: All pods in <code>Running</code> state.</li> <li> <p>Verify IP pool: <div class="language-bash highlight"><pre><span></span><code><span id=__span-17-1>kubectl<span class=w> </span>get<span class=w> </span>ippool<span class=w> </span>-o<span class=w> </span>yaml
</span></code></pre></div> <strong>Expected Output</strong> (partial): <div class="language-yaml highlight"><pre><span></span><code><span id=__span-18-1><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-18-2><span class=w>  </span><span class=nt>cidr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10.244.0.0/16</span>
</span></code></pre></div></p> </li> <li> <p><strong>Test Networking</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-19-1>kubectl<span class=w> </span>run<span class=w> </span>nginx<span class=w> </span>--image<span class=o>=</span>nginx<span class=w> </span>--port<span class=o>=</span><span class=m>80</span>
</span><span id=__span-19-2>kubectl<span class=w> </span>expose<span class=w> </span>pod<span class=w> </span>nginx<span class=w> </span>--type<span class=o>=</span>NodePort
</span><span id=__span-19-3>kubectl<span class=w> </span>get<span class=w> </span>svc<span class=w> </span>nginx
</span></code></pre></div> Access <code>http://&lt;worker-ip&gt;:&lt;nodeport&gt;</code> to confirm pod connectivity.</p> </li> </ol> <h3 id=alternative-installing-flannel>Alternative: Installing Flannel<a class=headerlink href=#alternative-installing-flannel title="Link to this section">&para;</a></h3> <ul> <li><strong>When</strong>: For simpler setups.</li> <li><strong>Steps</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-20-1>kubectl<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span>https://raw.githubusercontent.com/flannel-io/flannel/master/Documentation/kube-flannel.yml
</span></code></pre></div></li> <li>No edits needed if <code>--pod-network-cidr=10.244.0.0/16</code> (Flannel’s default).</li> <li>Verify: <div class="language-bash highlight"><pre><span></span><code><span id=__span-21-1>kubectl<span class=w> </span>get<span class=w> </span>pods<span class=w> </span>-n<span class=w> </span>kube-system<span class=w> </span>-l<span class=w> </span><span class=nv>app</span><span class=o>=</span>flannel
</span></code></pre></div></li> </ul> <h3 id=alternative-installing-weave>Alternative: Installing Weave<a class=headerlink href=#alternative-installing-weave title="Link to this section">&para;</a></h3> <ul> <li><strong>When</strong>: For quick, encrypted networking (your successful fallback).</li> <li><strong>Steps</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-22-1>kubectl<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span><span class=s2>&quot;https://cloud.weave.works/k8s/net?env.IPALLOC_RANGE=10.244.0.0/16&quot;</span>
</span></code></pre></div></li> <li>Verify: <div class="language-bash highlight"><pre><span></span><code><span id=__span-23-1>kubectl<span class=w> </span>get<span class=w> </span>pods<span class=w> </span>-n<span class=w> </span>kube-system<span class=w> </span>-l<span class=w> </span><span class=nv>name</span><span class=o>=</span>weave-net
</span></code></pre></div></li> </ul> <h3 id=important-notes>Important Notes<a class=headerlink href=#important-notes title="Link to this section">&para;</a></h3> <ul> <li><strong>Run Once</strong>: Apply the CNI YAML only on the first control plane node, after <code>kubeadm init</code>.</li> <li><strong>One CNI</strong>: Deploy only one CNI plugin to avoid conflicts.</li> <li><strong>CIDR Match</strong>: Always align the CNI’s CIDR with <code>--pod-network-cidr</code> or <code>podSubnet</code>.</li> </ul> <h2 id=troubleshooting-cni-issues>Troubleshooting CNI Issues<a class=headerlink href=#troubleshooting-cni-issues title="Link to this section">&para;</a></h2> <p>Your past Calico errors highlight common CNI pitfalls. Below are troubleshooting steps for networking issues.</p> <ol> <li><strong>Pods in <code>Pending</code> or <code>CrashLoopBackOff</code></strong>:</li> <li><strong>Cause</strong>: No IP pool or CIDR mismatch.</li> <li> <p><strong>Fix</strong>:</p> <ul> <li>Verify IP pool: <div class="language-bash highlight"><pre><span></span><code><span id=__span-24-1>kubectl<span class=w> </span>get<span class=w> </span>ippool<span class=w> </span>-o<span class=w> </span>yaml
</span></code></pre></div> Ensure <code>spec.cidr</code> matches <code>--pod-network-cidr</code>.</li> <li>Check Calico logs: <div class="language-bash highlight"><pre><span></span><code><span id=__span-25-1>kubectl<span class=w> </span>logs<span class=w> </span>-n<span class=w> </span>kube-system<span class=w> </span>-l<span class=w> </span>k8s-app<span class=o>=</span>calico-node
</span></code></pre></div></li> <li>Reapply <code>calico.yaml</code> with correct <code>CALICO_IPV4POOL_CIDR</code>.</li> </ul> </li> <li> <p><strong>Pods Not Communicating</strong>:</p> </li> <li><strong>Cause</strong>: CIDR overlap or routing issues.</li> <li> <p><strong>Fix</strong>:</p> <ul> <li>Confirm non-overlapping CIDRs: <div class="language-bash highlight"><pre><span></span><code><span id=__span-26-1>kubectl<span class=w> </span>get<span class=w> </span>cm<span class=w> </span>kubeadm-config<span class=w> </span>-n<span class=w> </span>kube-system<span class=w> </span>-o<span class=w> </span>yaml
</span></code></pre></div> Check <code>--pod-network-cidr</code> and <code>--service-cidr</code>.</li> <li>Verify kube-controller-manager: <div class="language-bash highlight"><pre><span></span><code><span id=__span-27-1>kubectl<span class=w> </span>get<span class=w> </span>pod<span class=w> </span>-n<span class=w> </span>kube-system<span class=w> </span>-l<span class=w> </span><span class=nv>component</span><span class=o>=</span>kube-controller-manager<span class=w> </span>-o<span class=w> </span>yaml
</span></code></pre></div> Look for <code>--cluster-cidr=10.244.0.0/16</code>.</li> </ul> </li> <li> <p><strong>CNI Plugin Pods Failing</strong>:</p> </li> <li><strong>Cause</strong>: Misconfigured YAML or resource constraints.</li> <li> <p><strong>Fix</strong>:</p> <ul> <li>Check pod status: <div class="language-bash highlight"><pre><span></span><code><span id=__span-28-1>kubectl<span class=w> </span>describe<span class=w> </span>pod<span class=w> </span>-n<span class=w> </span>kube-system<span class=w> </span>-l<span class=w> </span>k8s-app<span class=o>=</span>calico-node
</span></code></pre></div></li> <li>Increase node resources if needed (e.g., 2 CPUs, 4 GB RAM for control plane).</li> </ul> </li> <li> <p><strong>Your Calico Issue</strong>:</p> </li> <li><strong>Cause</strong>: Commented-out <code>CALICO_IPV4POOL_CIDR</code> with <code>--pod-network-cidr=192.168.0.0/16</code>.</li> <li><strong>Fix</strong>: Uncomment and set <code>CALICO_IPV4POOL_CIDR: "10.244.0.0/16"</code>, as done in your updated guide.</li> </ol> <h2 id=best-practices>Best Practices<a class=headerlink href=#best-practices title="Link to this section">&para;</a></h2> <ul> <li><strong>Choose the Right CNI</strong>:</li> <li>Calico for security and scalability.</li> <li>Flannel or Weave for simplicity.</li> <li>Cilium for advanced networking.</li> <li><strong>Explicit CIDR Configuration</strong>:</li> <li>Always set CNI CIDRs explicitly (e.g., uncomment <code>CALICO_IPV4POOL_CIDR</code>).</li> <li>Use <code>10.244.0.0/16</code> to avoid conflicts with <code>192.168.0.0/16</code>.</li> <li><strong>Verify CIDR Alignment</strong>:</li> <li>Match <code>--pod-network-cidr</code>, <code>podSubnet</code>, and CNI CIDR.</li> <li>Check <code>ippool</code> or CNI configs post-deployment.</li> <li><strong>Test Networking</strong>:</li> <li>Deploy test pods to confirm connectivity.</li> <li><strong>Document Configurations</strong>:</li> <li>Note CIDRs and CNI choices in your repository (e.g., <code>cluster-set</code> README).</li> <li><strong>Monitor Resources</strong>:</li> <li>Ensure nodes have sufficient CPU/memory for CNI pods (e.g., Calico requires ~0.5 CPU).</li> </ul> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Link to this section">&para;</a></h2> <p>CNI plugins are the backbone of Kubernetes networking, enabling pod communication and cluster functionality. Calico, Flannel, Weave, and Cilium offer diverse solutions, each with unique configurations and use cases. Your experience with Calico’s commented-out <code>CALICO_IPV4POOL_CIDR</code> underscores the importance of explicit CIDR alignment with <code>--pod-network-cidr</code>. By using <code>10.244.0.0/16</code> and following this guide’s steps, you can deploy a robust CNI (e.g., Calico) seamlessly, avoiding past errors. This guide enhances your <code>cluster-set</code> repository, empowering you to set up Kubernetes clusters confidently.</p> <p>For further details, refer to the <a href=https://kubernetes.io/docs/concepts/cluster-administration/addons/#networking-and-network-policy>Kubernetes Networking Add-ons</a>.</p> <hr> <div class="language-text highlight"><pre><span></span><code><span id=__span-29-1>ubuntu@control:~$ kubectl describe node control | grep -A 10 Conditions
</span><span id=__span-29-2>Conditions:
</span><span id=__span-29-3>  Type                 Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message
</span><span id=__span-29-4>  ----                 ------  -----------------                 ------------------                ------                       -------
</span><span id=__span-29-5>  NetworkUnavailable   False   Wed, 19 Mar 2025 19:57:30 +0000   Wed, 19 Mar 2025 19:57:30 +0000   FlannelIsUp                  Flannel is running on this node
</span><span id=__span-29-6>  MemoryPressure       False   Wed, 19 Mar 2025 20:13:12 +0000   Wed, 19 Mar 2025 19:36:20 +0000   KubeletHasSufficientMemory   kubelet has sufficient memory available
</span><span id=__span-29-7>  DiskPressure         False   Wed, 19 Mar 2025 20:13:12 +0000   Wed, 19 Mar 2025 19:36:20 +0000   KubeletHasNoDiskPressure     kubelet has no disk pressure
</span><span id=__span-29-8>  PIDPressure          False   Wed, 19 Mar 2025 20:13:12 +0000   Wed, 19 Mar 2025 19:36:20 +0000   KubeletHasSufficientPID      kubelet has sufficient PID available
</span><span id=__span-29-9>  Ready                False   Wed, 19 Mar 2025 20:13:12 +0000   Wed, 19 Mar 2025 19:36:20 +0000   KubeletNotReady              container runtime network not ready: NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized
</span><span id=__span-29-10>Addresses:
</span><span id=__span-29-11>  InternalIP:  172.31.91.107
</span><span id=__span-29-12>  Hostname:    control
</span><span id=__span-29-13>ubuntu@control:~$ kubectl logs -n kube-flannel -l app=flannel
</span><span id=__span-29-14>Defaulted container &quot;kube-flannel&quot; out of: kube-flannel, install-cni-plugin (init), install-cni (init)
</span><span id=__span-29-15>Defaulted container &quot;kube-flannel&quot; out of: kube-flannel, install-cni-plugin (init), install-cni (init)
</span><span id=__span-29-16>I0319 19:57:30.272295       1 iptables.go:226] Changing default FORWARD chain policy to ACCEPT
</span><span id=__span-29-17>I0319 19:57:30.276057       1 main.go:412] Wrote subnet file to /run/flannel/subnet.env
</span><span id=__span-29-18>I0319 19:57:30.276069       1 main.go:416] Running backend.
</span><span id=__span-29-19>I0319 19:57:30.293227       1 vxlan_network.go:65] watching for new subnet leases
</span><span id=__span-29-20>I0319 19:57:30.295224       1 main.go:437] Waiting for all goroutines to exit
</span><span id=__span-29-21>I0319 19:57:30.298358       1 iptables.go:372] bootstrap done
</span><span id=__span-29-22>I0319 19:57:30.298674       1 iptables.go:372] bootstrap done
</span><span id=__span-29-23>I0319 20:04:47.705674       1 kube.go:490] Creating the node lease for IPv4. This is the n.Spec.PodCIDRs: [10.244.1.0/24]
</span><span id=__span-29-24>I0319 20:04:47.705707       1 subnet.go:152] Batch elem [0] is { lease.Event{Type:0, Lease:lease.Lease{EnableIPv4:true, EnableIPv6:false, Subnet:ip.IP4Net{IP:0xaf40100, PrefixLen:0x18}, IPv6Subnet:ip.IP6Net{IP:(*ip.IP6)(nil), PrefixLen:0x0}, Attrs:lease.LeaseAttrs{PublicIP:0xac1f17d2, PublicIPv6:(*ip.IP6)(nil), BackendType:&quot;vxlan&quot;, BackendData:json.RawMessage{0x7b, 0x22, 0x56, 0x4e, 0x49, 0x22, 0x3a, 0x31, 0x2c, 0x22, 0x56, 0x74, 0x65, 0x70, 0x4d, 0x41, 0x43, 0x22, 0x3a, 0x22, 0x37, 0x65, 0x3a, 0x64, 0x62, 0x3a, 0x62, 0x32, 0x3a, 0x36, 0x39, 0x3a, 0x62, 0x63, 0x3a, 0x36, 0x34, 0x22, 0x7d}, BackendV6Data:json.RawMessage(nil)}, Expiration:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Asof:0}} }
</span><span id=__span-29-25>I0319 20:04:47.705787       1 vxlan_network.go:100] Received Subnet Event with VxLan: BackendType: vxlan, PublicIP: 172.31.23.210, PublicIPv6: (nil), BackendData: {&quot;VNI&quot;:1,&quot;VtepMAC&quot;:&quot;7e:db:b2:69:bc:64&quot;}, BackendV6Data: (nil)
</span><span id=__span-29-26>I0319 20:04:47.724022       1 iptables.go:125] Setting up masking rules
</span><span id=__span-29-27>I0319 20:04:47.727019       1 iptables.go:226] Changing default FORWARD chain policy to ACCEPT
</span><span id=__span-29-28>I0319 20:04:47.728902       1 main.go:412] Wrote subnet file to /run/flannel/subnet.env
</span><span id=__span-29-29>I0319 20:04:47.728937       1 main.go:416] Running backend.
</span><span id=__span-29-30>I0319 20:04:47.737285       1 vxlan_network.go:65] watching for new subnet leases
</span><span id=__span-29-31>I0319 20:04:47.737337       1 subnet.go:152] Batch elem [0] is { lease.Event{Type:0, Lease:lease.Lease{EnableIPv4:true, EnableIPv6:false, Subnet:ip.IP4Net{IP:0xaf40000, PrefixLen:0x18}, IPv6Subnet:ip.IP6Net{IP:(*ip.IP6)(nil), PrefixLen:0x0}, Attrs:lease.LeaseAttrs{PublicIP:0xac1f5b6b, PublicIPv6:(*ip.IP6)(nil), BackendType:&quot;vxlan&quot;, BackendData:json.RawMessage{0x7b, 0x22, 0x56, 0x4e, 0x49, 0x22, 0x3a, 0x31, 0x2c, 0x22, 0x56, 0x74, 0x65, 0x70, 0x4d, 0x41, 0x43, 0x22, 0x3a, 0x22, 0x64, 0x36, 0x3a, 0x35, 0x33, 0x3a, 0x35, 0x36, 0x3a, 0x65, 0x65, 0x3a, 0x64, 0x32, 0x3a, 0x34, 0x36, 0x22, 0x7d}, BackendV6Data:json.RawMessage(nil)}, Expiration:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Asof:0}} }
</span><span id=__span-29-32>I0319 20:04:47.737670       1 vxlan_network.go:100] Received Subnet Event with VxLan: BackendType: vxlan, PublicIP: 172.31.91.107, PublicIPv6: (nil), BackendData: {&quot;VNI&quot;:1,&quot;VtepMAC&quot;:&quot;d6:53:56:ee:d2:46&quot;}, BackendV6Data: (nil)
</span><span id=__span-29-33>I0319 20:04:47.741087       1 main.go:437] Waiting for all goroutines to exit
</span><span id=__span-29-34>I0319 20:04:47.758214       1 iptables.go:372] bootstrap done
</span><span id=__span-29-35>I0319 20:04:47.758364       1 iptables.go:372] bootstrap done
</span><span id=__span-29-36>ubuntu@control:~$ ip link show cni0
</span><span id=__span-29-37>Device &quot;cni0&quot; does not exist.
</span><span id=__span-29-38>ubuntu@control:~$ sudo journalctl -u kubelet --no-pager | tail -n 20
</span><span id=__span-29-39>Mar 19 20:13:49 control kubelet[8922]: E0319 20:13:49.830193    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-40>Mar 19 20:13:54 control kubelet[8922]: E0319 20:13:54.831149    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-41>Mar 19 20:13:59 control kubelet[8922]: E0319 20:13:59.832832    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-42>Mar 19 20:14:04 control kubelet[8922]: E0319 20:14:04.834049    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-43>Mar 19 20:14:09 control kubelet[8922]: E0319 20:14:09.834904    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-44>Mar 19 20:14:14 control kubelet[8922]: E0319 20:14:14.836212    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-45>Mar 19 20:14:19 control kubelet[8922]: E0319 20:14:19.837602    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-46>Mar 19 20:14:24 control kubelet[8922]: E0319 20:14:24.838687    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-47>Mar 19 20:14:29 control kubelet[8922]: E0319 20:14:29.839841    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-48>Mar 19 20:14:34 control kubelet[8922]: E0319 20:14:34.841717    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-49>Mar 19 20:14:39 control kubelet[8922]: E0319 20:14:39.842795    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-50>Mar 19 20:14:44 control kubelet[8922]: E0319 20:14:44.844650    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-51>Mar 19 20:14:49 control kubelet[8922]: E0319 20:14:49.845661    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-52>Mar 19 20:14:54 control kubelet[8922]: E0319 20:14:54.847884    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-53>Mar 19 20:14:59 control kubelet[8922]: E0319 20:14:59.849632    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-54>Mar 19 20:15:04 control kubelet[8922]: E0319 20:15:04.851617    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-55>Mar 19 20:15:09 control kubelet[8922]: E0319 20:15:09.853235    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-56>Mar 19 20:15:14 control kubelet[8922]: E0319 20:15:14.854361    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-57>Mar 19 20:15:19 control kubelet[8922]: E0319 20:15:19.855923    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-58>Mar 19 20:15:24 control kubelet[8922]: E0319 20:15:24.857197    8922 kubelet.go:3002] &quot;Container runtime network not ready&quot; networkReady=&quot;NetworkReady=false reason:NetworkPluginNotReady message:Network plugin returns error: cni plugin not initialized&quot;
</span><span id=__span-29-59>ubuntu@control:~$ ls -l /opt/cni/bin/
</span><span id=__span-29-60>total 92544
</span><span id=__span-29-61>-rw-r--r-- 1 root root    11357 Jan  6 16:12 LICENSE
</span><span id=__span-29-62>-rw-r--r-- 1 root root     2343 Jan  6 16:12 README.md
</span><span id=__span-29-63>-rwxr-xr-x 1 root root  4655178 Jan  6 16:12 bandwidth
</span><span id=__span-29-64>-rwxr-xr-x 1 root root  5287212 Jan  6 16:12 bridge
</span><span id=__span-29-65>-rwxr-xr-x 1 root root 12762814 Jan  6 16:12 dhcp
</span><span id=__span-29-66>-rwxr-xr-x 1 root root  4847854 Jan  6 16:12 dummy
</span><span id=__span-29-67>-rwxr-xr-x 1 root root  5315134 Jan  6 16:12 firewall
</span><span id=__span-29-68>-rwxr-xr-x 1 root root  2835118 Mar 19 19:57 flannel
</span><span id=__span-29-69>-rwxr-xr-x 1 root root  4792010 Jan  6 16:12 host-device
</span><span id=__span-29-70>-rwxr-xr-x 1 root root  4060355 Jan  6 16:12 host-local
</span><span id=__span-29-71>-rwxr-xr-x 1 root root  4870719 Jan  6 16:12 ipvlan
</span><span id=__span-29-72>-rwxr-xr-x 1 root root  4114939 Jan  6 16:12 loopback
</span><span id=__span-29-73>-rwxr-xr-x 1 root root  4903324 Jan  6 16:12 macvlan
</span><span id=__span-29-74>-rwxr-xr-x 1 root root  4713429 Jan  6 16:12 portmap
</span><span id=__span-29-75>-rwxr-xr-x 1 root root  5076613 Jan  6 16:12 ptp
</span><span id=__span-29-76>-rwxr-xr-x 1 root root  4333422 Jan  6 16:12 sbr
</span><span id=__span-29-77>-rwxr-xr-x 1 root root  3651755 Jan  6 16:12 static
</span><span id=__span-29-78>-rwxr-xr-x 1 root root  4928874 Jan  6 16:12 tap
</span><span id=__span-29-79>-rwxr-xr-x 1 root root  4208424 Jan  6 16:12 tuning
</span><span id=__span-29-80>-rwxr-xr-x 1 root root  4868252 Jan  6 16:12 vlan
</span><span id=__span-29-81>-rwxr-xr-x 1 root root  4488658 Jan  6 16:12 vrf
</span><span id=__span-29-82>ubuntu@control:~$ ls -l /etc/cni/net.d/
</span><span id=__span-29-83>total 4
</span><span id=__span-29-84>-rw-r--r-- 1 root root 292 Mar 19 19:57 10-flannel.conflist
</span><span id=__span-29-85>ubuntu@control:~$ kubectl delete -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml
</span><span id=__span-29-86>kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml
</span><span id=__span-29-87>namespace &quot;kube-flannel&quot; deleted
</span><span id=__span-29-88>serviceaccount &quot;flannel&quot; deleted
</span><span id=__span-29-89>clusterrole.rbac.authorization.k8s.io &quot;flannel&quot; deleted
</span><span id=__span-29-90>clusterrolebinding.rbac.authorization.k8s.io &quot;flannel&quot; deleted
</span><span id=__span-29-91>configmap &quot;kube-flannel-cfg&quot; deleted
</span><span id=__span-29-92>daemonset.apps &quot;kube-flannel-ds&quot; deleted
</span><span id=__span-29-93>namespace/kube-flannel created
</span><span id=__span-29-94>serviceaccount/flannel created
</span><span id=__span-29-95>clusterrole.rbac.authorization.k8s.io/flannel created
</span><span id=__span-29-96>clusterrolebinding.rbac.authorization.k8s.io/flannel created
</span><span id=__span-29-97>configmap/kube-flannel-cfg created
</span><span id=__span-29-98>daemonset.apps/kube-flannel-ds created
</span><span id=__span-29-99>ubuntu@control:~$ sudo systemctl restart kubelet
</span><span id=__span-29-100>sudo systemctl restart containerd  # or sudo systemctl restart docker (if using Docker)
</span><span id=__span-29-101>ubuntu@control:~$ kubectl get nodes
</span><span id=__span-29-102>kubectl get pods -n kube-flannel
</span><span id=__span-29-103>ip link show cni0
</span><span id=__span-29-104>NAME               STATUS   ROLES           AGE   VERSION
</span><span id=__span-29-105>control            Ready    control-plane   41m   v1.32.3
</span><span id=__span-29-106>ip-172-31-23-210   Ready    &lt;none&gt;          13m   v1.32.3
</span><span id=__span-29-107>NAME                    READY   STATUS    RESTARTS   AGE
</span><span id=__span-29-108>kube-flannel-ds-scr2d   1/1     Running   0          36s
</span><span id=__span-29-109>kube-flannel-ds-wpghp   1/1     Running   0          36s
</span><span id=__span-29-110>Device &quot;cni0&quot; does not exist.
</span><span id=__span-29-111>ubuntu@control:~$ ip link show cni0
</span><span id=__span-29-112>Device &quot;cni0&quot; does not exist.
</span><span id=__span-29-113>ubuntu@control:~$ kubectl logs -n kube-flannel -l app=flannel
</span><span id=__span-29-114>Defaulted container &quot;kube-flannel&quot; out of: kube-flannel, install-cni-plugin (init), install-cni (init)
</span><span id=__span-29-115>Defaulted container &quot;kube-flannel&quot; out of: kube-flannel, install-cni-plugin (init), install-cni (init)
</span><span id=__span-29-116>I0319 20:17:41.017293       1 iptables.go:125] Setting up masking rules
</span><span id=__span-29-117>I0319 20:17:41.028374       1 iptables.go:226] Changing default FORWARD chain policy to ACCEPT
</span><span id=__span-29-118>I0319 20:17:41.030671       1 main.go:412] Wrote subnet file to /run/flannel/subnet.env
</span><span id=__span-29-119>I0319 20:17:41.030778       1 main.go:416] Running backend.
</span><span id=__span-29-120>I0319 20:17:41.046871       1 vxlan_network.go:65] watching for new subnet leases
</span><span id=__span-29-121>I0319 20:17:41.046901       1 subnet.go:152] Batch elem [0] is { lease.Event{Type:0, Lease:lease.Lease{EnableIPv4:true, EnableIPv6:false, Subnet:ip.IP4Net{IP:0xaf40000, PrefixLen:0x18}, IPv6Subnet:ip.IP6Net{IP:(*ip.IP6)(nil), PrefixLen:0x0}, Attrs:lease.LeaseAttrs{PublicIP:0xac1f5b6b, PublicIPv6:(*ip.IP6)(nil), BackendType:&quot;vxlan&quot;, BackendData:json.RawMessage{0x7b, 0x22, 0x56, 0x4e, 0x49, 0x22, 0x3a, 0x31, 0x2c, 0x22, 0x56, 0x74, 0x65, 0x70, 0x4d, 0x41, 0x43, 0x22, 0x3a, 0x22, 0x64, 0x36, 0x3a, 0x35, 0x33, 0x3a, 0x35, 0x36, 0x3a, 0x65, 0x65, 0x3a, 0x64, 0x32, 0x3a, 0x34, 0x36, 0x22, 0x7d}, BackendV6Data:json.RawMessage(nil)}, Expiration:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Asof:0}} }
</span><span id=__span-29-122>I0319 20:17:41.047163       1 vxlan_network.go:100] Received Subnet Event with VxLan: BackendType: vxlan, PublicIP: 172.31.91.107, PublicIPv6: (nil), BackendData: {&quot;VNI&quot;:1,&quot;VtepMAC&quot;:&quot;d6:53:56:ee:d2:46&quot;}, BackendV6Data: (nil)
</span><span id=__span-29-123>I0319 20:17:41.047668       1 main.go:437] Waiting for all goroutines to exit
</span><span id=__span-29-124>I0319 20:17:41.049083       1 iptables.go:372] bootstrap done
</span><span id=__span-29-125>I0319 20:17:41.049805       1 iptables.go:372] bootstrap done
</span><span id=__span-29-126>I0319 20:17:40.774324       1 iptables.go:125] Setting up masking rules
</span><span id=__span-29-127>I0319 20:17:40.781327       1 iptables.go:226] Changing default FORWARD chain policy to ACCEPT
</span><span id=__span-29-128>I0319 20:17:40.785003       1 main.go:412] Wrote subnet file to /run/flannel/subnet.env
</span><span id=__span-29-129>I0319 20:17:40.785114       1 main.go:416] Running backend.
</span><span id=__span-29-130>I0319 20:17:40.797413       1 vxlan_network.go:65] watching for new subnet leases
</span><span id=__span-29-131>I0319 20:17:40.797520       1 subnet.go:152] Batch elem [0] is { lease.Event{Type:0, Lease:lease.Lease{EnableIPv4:true, EnableIPv6:false, Subnet:ip.IP4Net{IP:0xaf40100, PrefixLen:0x18}, IPv6Subnet:ip.IP6Net{IP:(*ip.IP6)(nil), PrefixLen:0x0}, Attrs:lease.LeaseAttrs{PublicIP:0xac1f17d2, PublicIPv6:(*ip.IP6)(nil), BackendType:&quot;vxlan&quot;, BackendData:json.RawMessage{0x7b, 0x22, 0x56, 0x4e, 0x49, 0x22, 0x3a, 0x31, 0x2c, 0x22, 0x56, 0x74, 0x65, 0x70, 0x4d, 0x41, 0x43, 0x22, 0x3a, 0x22, 0x37, 0x65, 0x3a, 0x64, 0x62, 0x3a, 0x62, 0x32, 0x3a, 0x36, 0x39, 0x3a, 0x62, 0x63, 0x3a, 0x36, 0x34, 0x22, 0x7d}, BackendV6Data:json.RawMessage(nil)}, Expiration:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Asof:0}} }
</span><span id=__span-29-132>I0319 20:17:40.797572       1 vxlan_network.go:100] Received Subnet Event with VxLan: BackendType: vxlan, PublicIP: 172.31.23.210, PublicIPv6: (nil), BackendData: {&quot;VNI&quot;:1,&quot;VtepMAC&quot;:&quot;7e:db:b2:69:bc:64&quot;}, BackendV6Data: (nil)
</span><span id=__span-29-133>I0319 20:17:40.799448       1 main.go:437] Waiting for all goroutines to exit
</span><span id=__span-29-134>I0319 20:17:40.801659       1 iptables.go:372] bootstrap done
</span><span id=__span-29-135>I0319 20:17:40.817359       1 iptables.go:372] bootstrap done
</span><span id=__span-29-136>ubuntu@control:~$ cat /etc/cni/net.d/10-flannel.conflist
</span><span id=__span-29-137>{
</span><span id=__span-29-138>  &quot;name&quot;: &quot;cbr0&quot;,
</span><span id=__span-29-139>  &quot;cniVersion&quot;: &quot;0.3.1&quot;,
</span><span id=__span-29-140>  &quot;plugins&quot;: [
</span><span id=__span-29-141>    {
</span><span id=__span-29-142>      &quot;type&quot;: &quot;flannel&quot;,
</span><span id=__span-29-143>      &quot;delegate&quot;: {
</span><span id=__span-29-144>        &quot;hairpinMode&quot;: true,
</span><span id=__span-29-145>        &quot;isDefaultGateway&quot;: true
</span><span id=__span-29-146>      }
</span><span id=__span-29-147>    },
</span><span id=__span-29-148>    {
</span><span id=__span-29-149>      &quot;type&quot;: &quot;portmap&quot;,
</span><span id=__span-29-150>      &quot;capabilities&quot;: {
</span><span id=__span-29-151>        &quot;portMappings&quot;: true
</span><span id=__span-29-152>      }
</span><span id=__span-29-153>    }
</span><span id=__span-29-154>  ]
</span><span id=__span-29-155>}
</span><span id=__span-29-156>ubuntu@control:~$ ip a
</span><span id=__span-29-157>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
</span><span id=__span-29-158>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span><span id=__span-29-159>    inet 127.0.0.1/8 scope host lo
</span><span id=__span-29-160>       valid_lft forever preferred_lft forever
</span><span id=__span-29-161>    inet6 ::1/128 scope host noprefixroute 
</span><span id=__span-29-162>       valid_lft forever preferred_lft forever
</span><span id=__span-29-163>2: enX0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 9001 qdisc mq state UP group default qlen 1000
</span><span id=__span-29-164>    link/ether 12:2e:e4:29:d7:f7 brd ff:ff:ff:ff:ff:ff
</span><span id=__span-29-165>    inet 172.31.91.107/20 metric 100 brd 172.31.95.255 scope global dynamic enX0
</span><span id=__span-29-166>       valid_lft 2637sec preferred_lft 2637sec
</span><span id=__span-29-167>    inet6 fe80::102e:e4ff:fe29:d7f7/64 scope link 
</span><span id=__span-29-168>       valid_lft forever preferred_lft forever
</span><span id=__span-29-169>3: flannel.1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 8951 qdisc noqueue state UNKNOWN group default 
</span><span id=__span-29-170>    link/ether d6:53:56:ee:d2:46 brd ff:ff:ff:ff:ff:ff
</span><span id=__span-29-171>    inet 10.244.0.0/32 scope global flannel.1
</span><span id=__span-29-172>       valid_lft forever preferred_lft forever
</span><span id=__span-29-173>    inet6 fe80::d453:56ff:feee:d246/64 scope link 
</span><span id=__span-29-174>       valid_lft forever preferred_lft forever
</span><span id=__span-29-175>ubuntu@control:~$ sudo ip link delete flannel.1
</span><span id=__span-29-176>ubuntu@control:~$ kubectl delete -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml
</span><span id=__span-29-177>kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml
</span><span id=__span-29-178>namespace &quot;kube-flannel&quot; deleted
</span><span id=__span-29-179>serviceaccount &quot;flannel&quot; deleted
</span><span id=__span-29-180>clusterrole.rbac.authorization.k8s.io &quot;flannel&quot; deleted
</span><span id=__span-29-181>clusterrolebinding.rbac.authorization.k8s.io &quot;flannel&quot; deleted
</span><span id=__span-29-182>configmap &quot;kube-flannel-cfg&quot; deleted
</span><span id=__span-29-183>daemonset.apps &quot;kube-flannel-ds&quot; deleted
</span><span id=__span-29-184>namespace/kube-flannel created
</span><span id=__span-29-185>serviceaccount/flannel created
</span><span id=__span-29-186>clusterrole.rbac.authorization.k8s.io/flannel created
</span><span id=__span-29-187>clusterrolebinding.rbac.authorization.k8s.io/flannel created
</span><span id=__span-29-188>configmap/kube-flannel-cfg created
</span><span id=__span-29-189>daemonset.apps/kube-flannel-ds created
</span><span id=__span-29-190>ubuntu@control:~$ sudo systemctl restart kubelet
</span><span id=__span-29-191>sudo systemctl restart containerd
</span><span id=__span-29-192>ubuntu@control:~$ sudo iptables -L -v -n | grep FLANNEL
</span><span id=__span-29-193>    0     0 FLANNEL-FWD  0    --  *      *       0.0.0.0/0            0.0.0.0/0            /* flanneld forward */
</span><span id=__span-29-194>Chain FLANNEL-FWD (1 references)
</span><span id=__span-29-195>ubuntu@control:~$ kubectl get pods -n kube-system -o wide
</span><span id=__span-29-196>NAME                              READY   STATUS    RESTARTS   AGE   IP              NODE               NOMINATED NODE   READINESS GATES
</span><span id=__span-29-197>coredns-668d6bf9bc-7v4qr          1/1     Running   0          45m   10.244.1.2      ip-172-31-23-210   &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-198>coredns-668d6bf9bc-ghql2          1/1     Running   0          45m   10.244.1.3      ip-172-31-23-210   &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-199>etcd-control                      1/1     Running   0          45m   172.31.91.107   control            &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-200>kube-apiserver-control            1/1     Running   0          45m   172.31.91.107   control            &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-201>kube-controller-manager-control   1/1     Running   0          45m   172.31.91.107   control            &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-202>kube-proxy-78gnx                  1/1     Running   0          45m   172.31.91.107   control            &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-203>kube-proxy-gf2dn                  1/1     Running   0          17m   172.31.23.210   ip-172-31-23-210   &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-204>kube-scheduler-control            1/1     Running   0          45m   172.31.91.107   control            &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-205>ubuntu@control:~$ ip a
</span><span id=__span-29-206>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
</span><span id=__span-29-207>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span><span id=__span-29-208>    inet 127.0.0.1/8 scope host lo
</span><span id=__span-29-209>       valid_lft forever preferred_lft forever
</span><span id=__span-29-210>    inet6 ::1/128 scope host noprefixroute 
</span><span id=__span-29-211>       valid_lft forever preferred_lft forever
</span><span id=__span-29-212>2: enX0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 9001 qdisc mq state UP group default qlen 1000
</span><span id=__span-29-213>    link/ether 12:2e:e4:29:d7:f7 brd ff:ff:ff:ff:ff:ff
</span><span id=__span-29-214>    inet 172.31.91.107/20 metric 100 brd 172.31.95.255 scope global dynamic enX0
</span><span id=__span-29-215>       valid_lft 2501sec preferred_lft 2501sec
</span><span id=__span-29-216>    inet6 fe80::102e:e4ff:fe29:d7f7/64 scope link 
</span><span id=__span-29-217>       valid_lft forever preferred_lft forever
</span><span id=__span-29-218>4: flannel.1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 8951 qdisc noqueue state UNKNOWN group default 
</span><span id=__span-29-219>    link/ether d6:53:56:ee:d2:46 brd ff:ff:ff:ff:ff:ff
</span><span id=__span-29-220>    inet 10.244.0.0/32 scope global flannel.1
</span><span id=__span-29-221>       valid_lft forever preferred_lft forever
</span><span id=__span-29-222>    inet6 fe80::d453:56ff:feee:d246/64 scope link 
</span><span id=__span-29-223>       valid_lft forever preferred_lft forever
</span><span id=__span-29-224>ubuntu@control:~$ kubectl get pods -n kube-flannel -o wide
</span><span id=__span-29-225>NAME                    READY   STATUS    RESTARTS   AGE    IP              NODE               NOMINATED NODE   READINESS GATES
</span><span id=__span-29-226>kube-flannel-ds-9xfsd   1/1     Running   0          3m4s   172.31.91.107   control            &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-227>kube-flannel-ds-m88tx   1/1     Running   0          3m4s   172.31.23.210   ip-172-31-23-210   &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-228>ubuntu@control:~$ kubectl get nodes -o wide
</span><span id=__span-29-229>NAME               STATUS   ROLES           AGE   VERSION   INTERNAL-IP     EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION   CONTAINER-RUNTIME
</span><span id=__span-29-230>control            Ready    control-plane   48m   v1.32.3   172.31.91.107   &lt;none&gt;        Ubuntu 24.04.1 LTS   6.8.0-1021-aws   containerd://1.7.25
</span><span id=__span-29-231>ip-172-31-23-210   Ready    &lt;none&gt;          19m   v1.32.3   172.31.23.210   &lt;none&gt;        Ubuntu 24.04.1 LTS   6.8.0-1021-aws   containerd://1.7.25
</span><span id=__span-29-232>ubuntu@control:~$ kubectl run --rm -it --image=busybox busybox -- /bin/sh
</span><span id=__span-29-233>If you don&#39;t see a command prompt, try pressing enter.
</span><span id=__span-29-234>/ # ping nginx
</span><span id=__span-29-235>PING nginx (10.98.88.224): 56 data bytes
</span><span id=__span-29-236>^C
</span><span id=__span-29-237>--- nginx ping statistics ---
</span><span id=__span-29-238>11 packets transmitted, 0 packets received, 100% packet loss
</span><span id=__span-29-239>/ # ^C
</span><span id=__span-29-240>
</span><span id=__span-29-241>/ # exit
</span><span id=__span-29-242>Session ended, resume using &#39;kubectl attach busybox -c busybox -i -t&#39; command when the pod is running
</span><span id=__span-29-243>pod &quot;busybox&quot; deleted
</span><span id=__span-29-244>ubuntu@control:~$ kubectl get pods
</span><span id=__span-29-245>NAME    READY   STATUS    RESTARTS   AGE
</span><span id=__span-29-246>nginx   1/1     Running   0          18m
</span><span id=__span-29-247>ubuntu@control:~$ kubectl get pods -o wide
</span><span id=__span-29-248>NAME    READY   STATUS    RESTARTS   AGE   IP           NODE               NOMINATED NODE   READINESS GATES
</span><span id=__span-29-249>nginx   1/1     Running   0          18m   10.244.1.4   ip-172-31-23-210   &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-250>ubuntu@control:~$ kubectl run --rm -it --image=busybox busybox -- /bin/sh
</span><span id=__span-29-251>If you don&#39;t see a command prompt, try pressing enter.
</span><span id=__span-29-252>/ # ping 10.244.1.4
</span><span id=__span-29-253>PING 10.244.1.4 (10.244.1.4): 56 data bytes
</span><span id=__span-29-254>64 bytes from 10.244.1.4: seq=0 ttl=64 time=0.087 ms
</span><span id=__span-29-255>64 bytes from 10.244.1.4: seq=1 ttl=64 time=0.076 ms
</span><span id=__span-29-256>64 bytes from 10.244.1.4: seq=2 ttl=64 time=0.073 ms
</span><span id=__span-29-257>64 bytes from 10.244.1.4: seq=3 ttl=64 time=0.073 ms
</span><span id=__span-29-258>64 bytes from 10.244.1.4: seq=4 ttl=64 time=0.074 ms
</span><span id=__span-29-259>64 bytes from 10.244.1.4: seq=5 ttl=64 time=0.075 ms
</span><span id=__span-29-260>64 bytes from 10.244.1.4: seq=6 ttl=64 time=0.076 ms
</span><span id=__span-29-261>^C
</span><span id=__span-29-262>--- 10.244.1.4 ping statistics ---
</span><span id=__span-29-263>7 packets transmitted, 7 packets received, 0% packet loss
</span><span id=__span-29-264>round-trip min/avg/max = 0.073/0.076/0.087 ms
</span><span id=__span-29-265>/ # exit
</span><span id=__span-29-266>Session ended, resume using &#39;kubectl attach busybox -c busybox -i -t&#39; command when the pod is running
</span><span id=__span-29-267>pod &quot;busybox&quot; deleted
</span><span id=__span-29-268>ubuntu@control:~$ sysctl net.ipv4.ip_forward
</span><span id=__span-29-269>net.ipv4.ip_forward = 1
</span><span id=__span-29-270>ubuntu@control:~$ ip route show
</span><span id=__span-29-271>default via 172.31.80.1 dev enX0 proto dhcp src 172.31.91.107 metric 100 
</span><span id=__span-29-272>10.244.1.0/24 via 10.244.1.0 dev flannel.1 onlink 
</span><span id=__span-29-273>172.31.0.2 via 172.31.80.1 dev enX0 proto dhcp src 172.31.91.107 metric 100 
</span><span id=__span-29-274>172.31.80.0/20 dev enX0 proto kernel scope link src 172.31.91.107 metric 100 
</span><span id=__span-29-275>172.31.80.1 dev enX0 proto dhcp scope link src 172.31.91.107 metric 100 
</span><span id=__span-29-276>ubuntu@control:~$ sudo systemctl restart kubelet
</span><span id=__span-29-277>sudo systemctl restart containerd
</span><span id=__span-29-278>ubuntu@control:~$ kubectl logs -n kube-flannel -l app=flannel
</span><span id=__span-29-279>Defaulted container &quot;kube-flannel&quot; out of: kube-flannel, install-cni-plugin (init), install-cni (init)
</span><span id=__span-29-280>Defaulted container &quot;kube-flannel&quot; out of: kube-flannel, install-cni-plugin (init), install-cni (init)
</span><span id=__span-29-281>I0319 20:21:04.587122       1 iptables.go:125] Setting up masking rules
</span><span id=__span-29-282>I0319 20:21:04.609441       1 iptables.go:226] Changing default FORWARD chain policy to ACCEPT
</span><span id=__span-29-283>I0319 20:21:04.617861       1 main.go:412] Wrote subnet file to /run/flannel/subnet.env
</span><span id=__span-29-284>I0319 20:21:04.617874       1 main.go:416] Running backend.
</span><span id=__span-29-285>I0319 20:21:04.631570       1 main.go:437] Waiting for all goroutines to exit
</span><span id=__span-29-286>I0319 20:21:04.635889       1 vxlan_network.go:65] watching for new subnet leases
</span><span id=__span-29-287>I0319 20:21:04.635915       1 subnet.go:152] Batch elem [0] is { lease.Event{Type:0, Lease:lease.Lease{EnableIPv4:true, EnableIPv6:false, Subnet:ip.IP4Net{IP:0xaf40100, PrefixLen:0x18}, IPv6Subnet:ip.IP6Net{IP:(*ip.IP6)(nil), PrefixLen:0x0}, Attrs:lease.LeaseAttrs{PublicIP:0xac1f17d2, PublicIPv6:(*ip.IP6)(nil), BackendType:&quot;vxlan&quot;, BackendData:json.RawMessage{0x7b, 0x22, 0x56, 0x4e, 0x49, 0x22, 0x3a, 0x31, 0x2c, 0x22, 0x56, 0x74, 0x65, 0x70, 0x4d, 0x41, 0x43, 0x22, 0x3a, 0x22, 0x37, 0x65, 0x3a, 0x64, 0x62, 0x3a, 0x62, 0x32, 0x3a, 0x36, 0x39, 0x3a, 0x62, 0x63, 0x3a, 0x36, 0x34, 0x22, 0x7d}, BackendV6Data:json.RawMessage(nil)}, Expiration:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Asof:0}} }
</span><span id=__span-29-288>I0319 20:21:04.636436       1 vxlan_network.go:100] Received Subnet Event with VxLan: BackendType: vxlan, PublicIP: 172.31.23.210, PublicIPv6: (nil), BackendData: {&quot;VNI&quot;:1,&quot;VtepMAC&quot;:&quot;7e:db:b2:69:bc:64&quot;}, BackendV6Data: (nil)
</span><span id=__span-29-289>I0319 20:21:04.644586       1 iptables.go:372] bootstrap done
</span><span id=__span-29-290>I0319 20:21:04.652765       1 iptables.go:372] bootstrap done
</span><span id=__span-29-291>I0319 20:21:04.388723       1 iptables.go:125] Setting up masking rules
</span><span id=__span-29-292>I0319 20:21:04.396863       1 iptables.go:226] Changing default FORWARD chain policy to ACCEPT
</span><span id=__span-29-293>I0319 20:21:04.399328       1 main.go:412] Wrote subnet file to /run/flannel/subnet.env
</span><span id=__span-29-294>I0319 20:21:04.399345       1 main.go:416] Running backend.
</span><span id=__span-29-295>I0319 20:21:04.412566       1 vxlan_network.go:65] watching for new subnet leases
</span><span id=__span-29-296>I0319 20:21:04.412698       1 subnet.go:152] Batch elem [0] is { lease.Event{Type:0, Lease:lease.Lease{EnableIPv4:true, EnableIPv6:false, Subnet:ip.IP4Net{IP:0xaf40000, PrefixLen:0x18}, IPv6Subnet:ip.IP6Net{IP:(*ip.IP6)(nil), PrefixLen:0x0}, Attrs:lease.LeaseAttrs{PublicIP:0xac1f5b6b, PublicIPv6:(*ip.IP6)(nil), BackendType:&quot;vxlan&quot;, BackendData:json.RawMessage{0x7b, 0x22, 0x56, 0x4e, 0x49, 0x22, 0x3a, 0x31, 0x2c, 0x22, 0x56, 0x74, 0x65, 0x70, 0x4d, 0x41, 0x43, 0x22, 0x3a, 0x22, 0x64, 0x36, 0x3a, 0x35, 0x33, 0x3a, 0x35, 0x36, 0x3a, 0x65, 0x65, 0x3a, 0x64, 0x32, 0x3a, 0x34, 0x36, 0x22, 0x7d}, BackendV6Data:json.RawMessage(nil)}, Expiration:time.Date(1, time.January, 1, 0, 0, 0, 0, time.UTC), Asof:0}} }
</span><span id=__span-29-297>I0319 20:21:04.412895       1 vxlan_network.go:100] Received Subnet Event with VxLan: BackendType: vxlan, PublicIP: 172.31.91.107, PublicIPv6: (nil), BackendData: {&quot;VNI&quot;:1,&quot;VtepMAC&quot;:&quot;d6:53:56:ee:d2:46&quot;}, BackendV6Data: (nil)
</span><span id=__span-29-298>I0319 20:21:04.413505       1 main.go:437] Waiting for all goroutines to exit
</span><span id=__span-29-299>I0319 20:21:04.415548       1 iptables.go:372] bootstrap done
</span><span id=__span-29-300>I0319 20:21:04.419112       1 iptables.go:372] bootstrap done
</span><span id=__span-29-301>ubuntu@control:~$ ip a
</span><span id=__span-29-302>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
</span><span id=__span-29-303>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span><span id=__span-29-304>    inet 127.0.0.1/8 scope host lo
</span><span id=__span-29-305>       valid_lft forever preferred_lft forever
</span><span id=__span-29-306>    inet6 ::1/128 scope host noprefixroute 
</span><span id=__span-29-307>       valid_lft forever preferred_lft forever
</span><span id=__span-29-308>2: enX0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 9001 qdisc mq state UP group default qlen 1000
</span><span id=__span-29-309>    link/ether 12:2e:e4:29:d7:f7 brd ff:ff:ff:ff:ff:ff
</span><span id=__span-29-310>    inet 172.31.91.107/20 metric 100 brd 172.31.95.255 scope global dynamic enX0
</span><span id=__span-29-311>       valid_lft 2126sec preferred_lft 2126sec
</span><span id=__span-29-312>    inet6 fe80::102e:e4ff:fe29:d7f7/64 scope link 
</span><span id=__span-29-313>       valid_lft forever preferred_lft forever
</span><span id=__span-29-314>4: flannel.1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 8951 qdisc noqueue state UNKNOWN group default 
</span><span id=__span-29-315>    link/ether d6:53:56:ee:d2:46 brd ff:ff:ff:ff:ff:ff
</span><span id=__span-29-316>    inet 10.244.0.0/32 scope global flannel.1
</span><span id=__span-29-317>       valid_lft forever preferred_lft forever
</span><span id=__span-29-318>    inet6 fe80::d453:56ff:feee:d246/64 scope link 
</span><span id=__span-29-319>       valid_lft forever preferred_lft forever
</span><span id=__span-29-320>ubuntu@control:~$ cat /run/flannel/subnet.env
</span><span id=__span-29-321>FLANNEL_NETWORK=10.244.0.0/16
</span><span id=__span-29-322>FLANNEL_SUBNET=10.244.0.1/24
</span><span id=__span-29-323>FLANNEL_MTU=8951
</span><span id=__span-29-324>FLANNEL_IPMASQ=true
</span><span id=__span-29-325>ubuntu@control:~$ ip link show flannel.1
</span><span id=__span-29-326>4: flannel.1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 8951 qdisc noqueue state UNKNOWN mode DEFAULT group default 
</span><span id=__span-29-327>    link/ether d6:53:56:ee:d2:46 brd ff:ff:ff:ff:ff:ff
</span><span id=__span-29-328>ubuntu@control:~$ ip route show
</span><span id=__span-29-329>default via 172.31.80.1 dev enX0 proto dhcp src 172.31.91.107 metric 100 
</span><span id=__span-29-330>10.244.1.0/24 via 10.244.1.0 dev flannel.1 onlink 
</span><span id=__span-29-331>172.31.0.2 via 172.31.80.1 dev enX0 proto dhcp src 172.31.91.107 metric 100 
</span><span id=__span-29-332>172.31.80.0/20 dev enX0 proto kernel scope link src 172.31.91.107 metric 100 
</span><span id=__span-29-333>172.31.80.1 dev enX0 proto dhcp scope link src 172.31.91.107 metric 100 
</span><span id=__span-29-334>ubuntu@control:~$ kubectl get pods -o wide
</span><span id=__span-29-335>NAME    READY   STATUS    RESTARTS   AGE   IP           NODE               NOMINATED NODE   READINESS GATES
</span><span id=__span-29-336>nginx   1/1     Running   0          25m   10.244.1.4   ip-172-31-23-210   &lt;none&gt;           &lt;none&gt;
</span><span id=__span-29-337>ubuntu@control:~$ kubectl run --rm -it --image=busybox testpod -- /bin/sh
</span><span id=__span-29-338>If you don&#39;t see a command prompt, try pressing enter.
</span><span id=__span-29-339>/ # ping 10.244.1.4
</span><span id=__span-29-340>PING 10.244.1.4 (10.244.1.4): 56 data bytes
</span><span id=__span-29-341>64 bytes from 10.244.1.4: seq=0 ttl=64 time=0.094 ms
</span><span id=__span-29-342>64 bytes from 10.244.1.4: seq=1 ttl=64 time=0.075 ms
</span><span id=__span-29-343>64 bytes from 10.244.1.4: seq=2 ttl=64 time=0.086 ms
</span><span id=__span-29-344>64 bytes from 10.244.1.4: seq=3 ttl=64 time=0.078 ms
</span><span id=__span-29-345>^C
</span><span id=__span-29-346>--- 10.244.1.4 ping statistics ---
</span><span id=__span-29-347>4 packets transmitted, 4 packets received, 0% packet loss
</span><span id=__span-29-348>round-trip min/avg/max = 0.075/0.083/0.094 ms
</span><span id=__span-29-349>/ # exit
</span><span id=__span-29-350>Session ended, resume using &#39;kubectl attach testpod -c testpod -i -t&#39; command when the pod is running
</span><span id=__span-29-351>pod &quot;testpod&quot; deleted
</span><span id=__span-29-352>ubuntu@control:~$ 
</span></code></pre></div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../kubeconfig-setup/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Kubeconfig Setup"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Kubeconfig Setup </div> </div> </a> <a href=../cni-working/ class="md-footer__link md-footer__link--next" aria-label="Next: CNI Working"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> CNI Working </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2026 <a href=https://www.linkedin.com/in/ibtisam-iq/ target=_blank rel=noopener>Muhammad Ibtisam</a>. All rights reserved. </div> </div> <div class=md-social> <a href=https://www.credly.com/users/ibtisam-iq/badges#credly target=_blank rel=noopener title="View my Credly badges" class=md-social__link> <?xml version="1.0" encoding="utf-8"?> <svg width=800px height=800px viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <circle cx=512 cy=512 r=512 style=fill:#f36c21 /> <path style=fill:#fff d="M671.2 371.6h3c3.7.3 7.4 2.1 9.7 5 3.4 4.2 4.3 9.8 4.6 15.1.8 16.1-2.7 32.1-7.3 47.5-5.9 20.4-14.2 40-21 60.1-1.2 3.5-2.4 7.1-3.3 10.7-1.5 6-1.3 12.3-1.5 18.5-.2 5.8.2 11.6 1.3 17.3.6 3.1 1.9 6.4 4.3 8.6 2.2 2 5.4 2.9 8.3 2 3.9-1.2 7-4.2 9.8-7.1 3.9-4.3 7.6-8.7 10.3-13.8 3.8-6.8 6-14.3 7.1-22 1.5-11.6 2.7-23.4 6.9-34.4 1.6-4.2 3.6-8.5 7.4-11.1 5.1-3.6 12.8-2.1 16.7 2.7 1.9 2.4 2.4 5.5 2.4 8.4-.2 3.9-1 7.8-2.3 11.5-4.5 13.2-7.1 27.1-6.6 41.1.1 3.2.4 6.6 2.1 9.5 1.4 2.4 3.8 4.3 6.6 4.3 3.2 0 6-1.9 8-4.2 3.1-3.5 5.6-7.5 7.6-11.7 4-8.5 5.9-17.8 7.6-27 1.4-7.8 2.8-15.6 5-23.2 1.2-3.9 2.7-7.8 5.6-10.8 1.9-2.1 4.8-2.9 7.5-2.9 2.8.1 5.4 1.7 7.3 3.8 2.6 2.9 3.1 6.9 2.8 10.6-2.8 22.1-5.9 44.2-8.4 66.3-1.8 13.8-3.4 27.6-4.6 41.4-.1 1.5 1.7 2.4 2.7 1.4 7.2-6.9 14.3-14.1 19.7-22.5 2.5-3.8 4.3-7.9 6.7-11.7 1-1.7 2.2-3.4 4.1-4 2.9-1.4 6.6-1 9.1 1 1.9 1.4 2.9 3.7 3.2 6v2.7c-.6 4.6-3.3 8.5-5.3 12.5-5.5 11-13.1 21-22.6 28.9-6.8 5.8-14.8 10.2-23.2 13.2-.5.2-1.3.3-1.4 1-3.1 12.7-10 24.4-19.3 33.5-10.3 10.2-23.6 17.2-37.7 20.5-7.7 1.7-15.8 2.4-23.6 1-8-1.5-15.8-5.2-21.5-11-5.2-5.2-8.7-12.1-9.3-19.5-.6-6.7 1.1-13.5 4.3-19.4 3.7-6.7 9.3-12.3 15.9-16.2 6.3-3.8 13.5-5.6 20.6-6.5 8.1-.9 16.4-.9 24.6-.2 5.1.4 10.2.9 15.3 1.3 2.8.2 5.9 1.2 8.6-.2 1.9-.9 2.5-3.2 2.8-5.1 1.2-9 3-18.1 1.9-27.3-.2-1.2-.5-3-2-3.1-1.8.8-2.7 2.7-3.7 4.3-3.1 6-8.9 10.6-15.6 11.9-6.7 1.3-14-2.1-17.1-8.1-1.5-2.5-2.2-5.5-4.4-7.6-1.5-1.4-3.7-1.4-5.5-.6-3.2 1.4-5.3 4.3-7.9 6.5-6.8 6.1-15.4 10.7-24.7 11.2-10.8.7-21.9-5.4-26.4-15.4-.6-1.4-1.1-3.4-2.9-3.6-2-.3-3.5 1.3-4.6 2.7-5.3 6.7-10.3 13.9-17.3 18.9-4.5 3.2-9.9 5.4-15.5 5.3-5.9-.1-11.8-3.3-14.6-8.5-1.3-2.3-1.8-5.2-3.9-7-1.6-1.4-4.1-1.2-5.8-.1-2.6 1.5-4.1 4.2-6.2 6.3-5.8 5.8-14.2 8.7-22.3 7.9-9.8-1-18.7-7.8-22.3-17-.5-1.3-1.2-2.8-2.6-3.2-1.1-.4-2 .4-2.7 1.1-5.4 5-10.8 10.1-17.3 13.6-6.6 3.5-13.9 5.8-21.4 5.6-7.9.1-15.8-2.3-22.2-6.8-5.4-3.7-9.7-8.9-12.2-15-.7-1.6-1.6-3.4-3.4-3.8-1.6-.4-3 .8-3.9 2-2.7 3.8-6.2 7.1-10.1 9.6-6 3.9-13 6.6-20.3 6.6-5.6 0-11.2-2.1-15.2-6-4.3-4.2-6.6-10.1-7.5-16-1.1-7.7.5-15.5 2.7-22.8 1.4-4.8 3.2-9.4 4.3-14.3.6-2.5.8-5.2-.3-7.5-.9-1.8-2.8-2.9-4.6-3.7-2-.8-4.1.3-5.5 1.6-1.4 1.3-2.1 3-2.9 4.7-4.9 11.8-11.5 22.9-19.6 32.8-7.8 9.6-17.1 17.9-27.1 25.2-11.4 8.1-24.5 14-38.4 15.9-10.1 1.4-20.6.6-30.4-2.3-5.8-1.7-11.5-4.1-16.5-7.6-8.6-6-15.5-14.3-20.4-23.5-3.8-7.1-6.7-14.7-8.8-22.5-2.9-11.1-3.9-22.5-4.4-33.9v-7.8c.2-8.4 1-16.8 2.7-25 3-14.9 8.4-29.2 15.7-42.5 5.8-10.4 12.7-20.2 21.4-28.3 9.5-8.9 21-15.8 33.7-18.6 12.1-2.7 25.1-2 36.4 3.2 3.4 1.5 6.4 3.7 10 4.8 2.5.8 5.4.5 7.5-1.1 3.2-2.5 4.7-6.5 7.4-9.5 3.4-3.7 8.9-5.2 13.7-3.8 4.5 1.3 8 5.2 9.1 9.7.7 3 .3 6.1-.6 9-1.4 4.1-3.7 7.8-5.9 11.5-7.3 12.6-12.8 26.2-16.3 40.3-1.1 4.3-2 8.8-3.7 12.9-1.6 3.9-4.1 7.6-7.7 10-3.1 2.1-7.2 3.1-10.9 2-3.4-1-6-3.8-7.4-7-1.6-3.4-2.1-7.3-1.6-11.1 1-8.9 5.9-17 6.1-26.1.2-5.1-1.5-10.4-5.5-13.7-5.6-4.8-13.5-6.1-20.6-5.1-8.4 1.1-16.3 5.1-22.5 10.8-6.7 6.2-11.7 14-15.7 22.1-11.6 23.2-16.7 49.8-13.7 75.6 1 8.4 3 16.8 7 24.4 2.5 4.8 5.8 9.1 9.9 12.5 5.3 4.4 11.7 7.4 18.5 8.7 9.7 1.9 19.9.6 29-2.9 12.2-4.7 22.8-13.1 31.2-23 4.5-5.1 8.4-10.7 12.2-16.4 3.8-5.3 7.8-10.9 9.3-17.4 1-4.3.1-8.7-.9-12.9-.7-5.8 1.5-11.7 5.3-16 2.4-2.5 5.4-4.8 8.9-5.5 3.3-.6 7 0 9.8 2.1 3.1 2.2 4.7 6.4 3.6 10.1-.7 2.4-1.5 4.9-.8 7.4.7 2.1 2.8 3.4 4.9 3.5 4.8.4 9.8-.5 14.4 1.1 5.4 2.1 10.2 6.4 12 12.1 1.2 3.8 1.6 8.1.4 11.9-2.1 7.4-4.7 14.7-6.1 22.3-.4 2.5-.8 5.1-.1 7.6.4 1.8 2 3.4 3.9 3.5 3.3.3 6.3-1.5 8.6-3.7 4.7-4.7 7.8-10.7 10-16.9 2.7-7.5 4.1-15.4 6.1-23.1 2.1-7.9 5.3-15.6 10.3-22.1 7.4-9.8 19.4-16.1 31.8-15.8 6.9.1 13.7 2.8 18.6 7.8 4.1 4.2 6.3 9.9 7.2 15.7 1.5 9.8-.3 20.1-4.8 29-6.2 12.2-18.9 20.9-32.6 22-2 .2-4.3.1-5.8 1.6-1.3 1.3-1.2 3.3-1 5 .5 4.6 2 9.3 5.1 12.9 3.6 3.7 9 6.3 14.3 5.1 6.1-1.3 11.3-5.2 15.6-9.4 4.1-4.1 7.7-8.7 11-13.5 4.6-6.6 7.4-14.2 10.2-21.6 2.7-7.3 5.2-14.7 9.7-21.1 3.6-5.4 8.3-10.1 13.9-13.5 6.2-3.9 13.6-5.9 21-5.5 2.3.1 4.9.2 6.8-1.2 1.7-1.3 2.3-3.6 2.3-5.7 0-3.8.4-7.5.7-11.3.5-5.9 1-11.8 1.8-17.6 1.7-14.6 4.7-29 8.6-43.1 2-7.1 4.6-14.3 9.1-20.3 1.9-2.7 4.2-5.3 7.2-6.9 2.9-1.7 6.6-1.6 9.7-.7 4 1.2 6.6 5 8.2 8.6 2.9 7.1 2.1 15 1.5 22.5-.8 11.8-3.6 23.4-6 35-2.1 10.2-3.8 20.5-5.7 30.7-2.6 14-5.1 28.1-7.7 42.1-2.2 11.5-4.7 23.2-3.3 35 .4 3.1.8 6.5 2.9 8.9 1.5 1.7 4 2.1 6 1.4 2.7-.9 4.6-3.3 6-5.7 3.3-5.6 6.2-11.5 9.1-17.4 4.2-8.2 8.4-16.7 9.8-25.9 2.2-14 3.7-28.2 5.7-42.3 1.6-10.5 3.4-21 5.1-31.4 2.1-13.1 4.5-26.1 8.2-38.8 1.8-6 4.2-11.9 8.4-16.6 3.8-3.8 8.3-6.5 13.3-7zM478 487.8c-2 .6-3.6 2.2-4.9 3.8-2.9 3.7-5.1 7.9-6.6 12.4-1.6 4.8-3.1 9.8-2.5 14.8.1 1.5 1.6 2.6 3 2.6 2.7.1 5.1-1.4 7.2-3 4.7-3.3 7.7-8.4 9.8-13.6 1.3-3.3 2.2-6.9 1.9-10.5-.2-2.4-1.4-4.9-3.5-6.1-1.3-.8-3-.9-4.4-.4zm85.7 11.2c-5.6 1-10.6 4.3-14.2 8.7-3.9 4.7-6.6 10.4-8 16.4-2.1 8.5-2.3 17.5 0 26 .7 2.6 1.9 5.2 3.9 7.1 1.3 1.3 3.1 2 4.9 2.1 4.7.7 9.1-1.9 12.7-4.6 4.5-3.3 7.4-8.2 9.2-13.4 1.1-3.2.4-6.6.1-9.9-.5-6.7-.5-13.4-.1-20.1.1-2.3.8-4.5.8-6.8 0-1.8-.7-3.8-2.4-4.8-2.1-1.3-4.6-1.1-6.9-.7zm133.7 119.6c-4.8.3-9.6 1.3-14.1 3.2-4.9 2-9.1 5.7-11.2 10.5-1.4 3-2 6.6-.5 9.6 1.5 3.1 4.3 5.4 7.4 6.8 4.3 1.9 9.1 2.2 13.6 1.7 14.2-1.6 27.7-8.9 36.7-20 1.8-2.2 3.2-4.7 4.7-7.1.4-.8 1-2.1.1-2.8-1.1-.8-2.5-.5-3.7-.5-5.1-.3-10.2-.8-15.3-1-5.9-.3-11.8-.8-17.7-.4z"/> </svg> </a> <a href=https://www.linkedin.com/in/ibtisam-iq/ target=_blank rel=noopener title="Connect with me on LinkedIn" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://github.com/ibtisam-iq target=_blank rel=noopener title="Follow me on GitHub" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://hub.docker.com/u/mibtisam target=_blank rel=noopener title="View my Docker Hub repositories" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg> </a> <a href=https://ibtisam-iq.com target=_blank rel=noopener title="Visit my personal website" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../../../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tabs.sticky", "navigation.path", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "toc.integrate", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.tabs.link", "content.tooltips"], "search": "../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>