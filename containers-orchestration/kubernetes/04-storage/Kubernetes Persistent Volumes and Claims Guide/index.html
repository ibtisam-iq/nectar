<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Nectar is a living engineering knowledge system where I document how I reason about infrastructure and distributed systems in production. It focuses on understanding why systems behave the way they do, exploring trade-offs, failure modes, and real-world constraints — not just listing tools or tutorials."><meta name=author content="Muhammad Ibtisam"><link href=https://nectar.ibtisam-iq.com/containers-orchestration/kubernetes/04-storage/Kubernetes%20Persistent%20Volumes%20and%20Claims%20Guide/ rel=canonical><link href=../pvc-guide/ rel=prev><link href=../Volume%20spec.source%20Options%20in%20PersistentVolume/ rel=next><link rel=icon href=../../../../docs/images/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Kubernetes Persistent Volumes and Claims Guide - Nectar</title><link rel=stylesheet href=../../../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../docs/stylesheets/extra.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title=Nectar class="md-header__button md-logo" aria-label=Nectar data-md-component=logo> <img src=../../../../docs/images/favicon.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Nectar </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Kubernetes Persistent Volumes and Claims Guide </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ibtisam-iq/nectar title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ibtisam-iq/nectar </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title=Nectar class="md-nav__button md-logo" aria-label=Nectar data-md-component=logo> <img src=../../../../docs/images/favicon.svg alt=logo> </a> Nectar </label> <div class=md-nav__source> <a href=https://github.com/ibtisam-iq/nectar title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ibtisam-iq/nectar </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Containers & Orchestration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Containers & Orchestration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../docker/ class=md-nav__link> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../docker-compose/Compose/ class=md-nav__link> <span class=md-ellipsis> Docker Compose </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Kubernetes </span> </a> <label class="md-nav__link " for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../master-key/ class=md-nav__link> <span class=md-ellipsis> Master Key </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../00-cluster-setup/ class=md-nav__link> <span class=md-ellipsis> Cluster Setup </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../01-core-concepts/architecture/ class=md-nav__link> <span class=md-ellipsis> Core Concepts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../02-cli-operations/kubectl-flags/ class=md-nav__link> <span class=md-ellipsis> CLI Operations </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../03-networking/networking-in-k8s/ class=md-nav__link> <span class=md-ellipsis> Networking </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_7 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Storage </span> </a> <label class="md-nav__link " for=__nav_2_3_7 id=__nav_2_3_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_7_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3_7> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../vol-basics/ class=md-nav__link> <span class=md-ellipsis> Volume Basics </span> </a> </li> <li class=md-nav__item> <a href=../Kubernetes%20Volumes%20Guide/ class=md-nav__link> <span class=md-ellipsis> Kubernetes Volumes Guide </span> </a> </li> <li class=md-nav__item> <a href=../Kubernetes%20Ephemeral%20Volumes%20Guide/ class=md-nav__link> <span class=md-ellipsis> Kubernetes Ephemeral Volumes Guide </span> </a> </li> <li class=md-nav__item> <a href=../../../../volumes.yaml class=md-nav__link> <span class=md-ellipsis> Volumes YAML </span> </a> </li> <li class=md-nav__item> <a href=../vol-in-multi-cont/ class=md-nav__link> <span class=md-ellipsis> Volumes in Multi-Container </span> </a> </li> <li class=md-nav__item> <a href=../Mounting%20Volumes%20with%20Multiple%20Files/ class=md-nav__link> <span class=md-ellipsis> Mounting Volumes with Multiple Files </span> </a> </li> <li class=md-nav__item> <a href=../pv-guide/ class=md-nav__link> <span class=md-ellipsis> Persistent Volume Guide </span> </a> </li> <li class=md-nav__item> <a href=../pvc-guide/ class=md-nav__link> <span class=md-ellipsis> Persistent Volume Claim Guide </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Kubernetes Persistent Volumes and Claims Guide </span> </a> </li> <li class=md-nav__item> <a href=../Volume%20spec.source%20Options%20in%20PersistentVolume/ class=md-nav__link> <span class=md-ellipsis> Volume Spec Source Options in PersistentVolume </span> </a> </li> <li class=md-nav__item> <a href=../storage-class/ class=md-nav__link> <span class=md-ellipsis> Storage Class </span> </a> </li> <li class=md-nav__item> <a href=../storageClassName/ class=md-nav__link> <span class=md-ellipsis> Storage Class Name </span> </a> </li> <li class=md-nav__item> <a href=../Kubernetes%20Storage%20Classes%20Guide/ class=md-nav__link> <span class=md-ellipsis> Kubernetes Storage Classes Guide </span> </a> </li> <li class=md-nav__item> <a href=../Kubernetes%20Dynamic%20Volume%20Provisioning%20Guide/ class=md-nav__link> <span class=md-ellipsis> Kubernetes Dynamic Volume Provisioning Guide </span> </a> </li> <li class=md-nav__item> <a href=../rwx-nfs-volume/ class=md-nav__link> <span class=md-ellipsis> RWX NFS Volume </span> </a> </li> <li class=md-nav__item> <a href=../rwx-nfs-volume-example/ class=md-nav__link> <span class=md-ellipsis> RWX NFS Volume Example </span> </a> </li> <li class=md-nav__item> <a href=../csi/ class=md-nav__link> <span class=md-ellipsis> CSI (Container Storage Interface) </span> </a> </li> <li class=md-nav__item> <a href=../Comprehensive%20Guide%20to%20Kubernetes%20Storage%20Management/ class=md-nav__link> <span class=md-ellipsis> Comprehensive Guide to Kubernetes Storage Management </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../05-scheduling-and-affinity/taints-affinity-guide-a/ class=md-nav__link> <span class=md-ellipsis> Scheduling & Affinity </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../06-resource-management/01-resource-quota-guide/ class=md-nav__link> <span class=md-ellipsis> Resource Management </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../07-security/rbac/ class=md-nav__link> <span class=md-ellipsis> Security </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../08-debugging-monitoring/probe/ class=md-nav__link> <span class=md-ellipsis> Debugging & Monitoring </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../09-workloads/pod-guide/ class=md-nav__link> <span class=md-ellipsis> Workloads </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../10-references/imperative-commands/ class=md-nav__link> <span class=md-ellipsis> References </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../unorganized/k8s/ class=md-nav__link> <span class=md-ellipsis> Unorganized </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../../CKA-KodeKloud-Complete-Notes.pdf class=md-nav__link> <span class=md-ellipsis> CKA KodeKloud Complete Notes </span> </a> </li> <li class=md-nav__item> <a href=../../practice-checklist/ class=md-nav__link> <span class=md-ellipsis> Practice Checklist </span> </a> </li> <li class=md-nav__item> <a href=../../error-logs/ class=md-nav__link> <span class=md-ellipsis> Error Logs </span> </a> </li> <li class=md-nav__item> <a href=../../wazahat-nama/ class=md-nav__link> <span class=md-ellipsis> Wazahat Nama </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../helm/ class=md-nav__link> <span class=md-ellipsis> Helm </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../kustomize/ class=md-nav__link> <span class=md-ellipsis> Kustomize </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../containerd/ class=md-nav__link> <span class=md-ellipsis> Containerd </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../delivery/git/gitCheatSheet/ class=md-nav__link> <span class=md-ellipsis> CI/CD & Software Delivery </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../cloud-infrastructure/aws/introduction/ class=md-nav__link> <span class=md-ellipsis> Cloud & Infrastructure </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../servers/ class=md-nav__link> <span class=md-ellipsis> Servers & Runtime Systems </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../observability-security/trivy/Trivy/ class=md-nav__link> <span class=md-ellipsis> Observability & Security </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../operations/ class=md-nav__link> <span class=md-ellipsis> Operations & Self-Managed Systems </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../scratchpad/ class=md-nav__link> <span class=md-ellipsis> Engineering Scratchpad </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../technical-grounding/ class=md-nav__link> <span class=md-ellipsis> Technical Grounding </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=../../../.. class=md-path__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-path__item> <a href=../../../docker/ class=md-path__link> <span class=md-ellipsis> Containers & Orchestration </span> </a> </li> <li class=md-path__item> <a href=../../ class=md-path__link> <span class=md-ellipsis> Kubernetes </span> </a> </li> <li class=md-path__item> <a href=../ class=md-path__link> <span class=md-ellipsis> Storage </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1 id=kubernetes-persistent-volumes-and-claims-a-comprehensive-guide>Kubernetes Persistent Volumes and Claims: A Comprehensive Guide<a class=headerlink href=#kubernetes-persistent-volumes-and-claims-a-comprehensive-guide title="Link to this section">&para;</a></h1> <h2 id=background-understanding-storage-in-kubernetes>Background: Understanding Storage in Kubernetes<a class=headerlink href=#background-understanding-storage-in-kubernetes title="Link to this section">&para;</a></h2> <p>Before diving into Persistent Volumes (PVs) and Persistent Volume Claims (PVCs), let’s establish the foundational concepts that underpin storage management in Kubernetes. These are critical for understanding how PVs and PVCs function and why they are necessary.</p> <h3 id=what-is-storage-in-kubernetes>What is Storage in Kubernetes?<a class=headerlink href=#what-is-storage-in-kubernetes title="Link to this section">&para;</a></h3> <p>Kubernetes is a container orchestration platform that manages compute resources (e.g., CPU, memory) and storage resources separately. While containers are ephemeral by design—meaning their local files are lost upon restart or crash—many applications, such as databases or file servers, require persistent storage that survives container lifecycles. Kubernetes addresses this through its storage subsystem, which provides abstractions to manage storage independently of compute resources.</p> <h3 id=key-concepts-to-understand>Key Concepts to Understand<a class=headerlink href=#key-concepts-to-understand title="Link to this section">&para;</a></h3> <ol> <li><strong>Pods</strong>: Pods are the smallest deployable units in Kubernetes, running one or more containers. Containers within a Pod share resources, including storage, which is often provided via volumes.</li> <li><strong>Volumes</strong>: As covered previously, Kubernetes volumes are directories accessible to containers in a Pod, enabling data sharing and persistence. Volumes can be ephemeral (e.g., <code>emptyDir</code>, deleted with the Pod) or persistent (e.g., backed by network storage, surviving Pod deletion). PVs and PVCs build on the volume concept to provide durable, cluster-wide storage.</li> <li><strong>StorageClasses</strong>: A StorageClass defines a storage profile (e.g., performance, provisioning method) that administrators configure. It allows dynamic provisioning of PVs, abstracting the underlying storage details from users.</li> <li><strong>VolumeAttributesClasses</strong> (emerging concept): These extend StorageClasses to allow modification of volume attributes (e.g., performance) after creation, though they are less critical for this discussion.</li> </ol> <h3 id=why-persistent-storage-matters>Why Persistent Storage Matters<a class=headerlink href=#why-persistent-storage-matters title="Link to this section">&para;</a></h3> <p>Unlike ephemeral volumes, which are tied to a Pod’s lifecycle, persistent storage ensures data durability across Pod restarts, deletions, or node failures. This is essential for stateful applications like databases (e.g., MySQL, PostgreSQL) or file storage systems. PVs and PVCs provide a robust framework to manage this persistent storage, decoupling storage provisioning from consumption.</p> <p>With this background, students should understand that PVs and PVCs are Kubernetes resources designed to handle persistent storage needs, offering a user-friendly abstraction over complex storage backends. Now, let’s explore these resources in detail.</p> <h2 id=introduction-to-persistent-volumes-and-claims>Introduction to Persistent Volumes and Claims<a class=headerlink href=#introduction-to-persistent-volumes-and-claims title="Link to this section">&para;</a></h2> <p>Persistent Volumes (PVs) and Persistent Volume Claims (PVCs) form the core of Kubernetes’ persistent storage subsystem. They abstract the details of storage provisioning (how storage is provided) from storage consumption (how it is used), enabling users to request storage without needing to understand the underlying infrastructure.</p> <ul> <li><strong>PersistentVolume (PV)</strong>: A cluster-wide resource representing a piece of storage, provisioned either manually by an administrator (static provisioning) or automatically via a StorageClass (dynamic provisioning). PVs are independent of Pods, with lifecycles that persist beyond any individual Pod.</li> <li><strong>PersistentVolumeClaim (PVC)</strong>: A user’s request for storage, specifying requirements like size and access modes. PVCs act as a “claim” on PV resources, similar to how Pods consume node resources (e.g., CPU, memory).</li> </ul> <p><strong>Analogy</strong>: Think of PVs as available storage units in a warehouse (e.g., shelves with specific capacities and features). PVCs are like purchase orders from users, requesting a storage unit that meets their needs. Kubernetes matches the order (PVC) to an available unit (PV) or creates a new one if dynamic provisioning is enabled.</p> <h2 id=lifecycle-of-persistent-volumes-and-claims>Lifecycle of Persistent Volumes and Claims<a class=headerlink href=#lifecycle-of-persistent-volumes-and-claims title="Link to this section">&para;</a></h2> <p>The interaction between PVs and PVCs follows a well-defined lifecycle, which is crucial for understanding their behavior:</p> <ol> <li><strong>Provisioning</strong>:</li> <li><strong>Static Provisioning</strong>: An administrator manually creates PVs with specific storage details (e.g., NFS share, iSCSI volume). These PVs are available in the cluster for users to claim.</li> <li> <p><strong>Dynamic Provisioning</strong>: When a PVC requests a StorageClass and no matching PV exists, Kubernetes dynamically provisions a PV using the StorageClass’s provisioner. This requires the <code>DefaultStorageClass</code> admission controller to be enabled on the API server (configured via <code>--enable-admission-plugins=DefaultStorageClass</code>).</p> <ul> <li><strong>Explanation</strong>: Dynamic provisioning automates storage creation, reducing administrative overhead. For example, a cloud provider’s provisioner might create a new disk in AWS EBS or Google Cloud Persistent Disk.</li> <li><strong>Note</strong>: PVCs requesting the empty string (<code>""</code>) as their StorageClass disable dynamic provisioning, relying on static PVs.</li> </ul> </li> <li> <p><strong>Binding</strong>:</p> </li> <li>A control loop in the Kubernetes control plane monitors new PVCs and attempts to bind them to a matching PV based on size, access modes, and StorageClass.</li> <li>If a PV is dynamically provisioned, it is automatically bound to the PVC.</li> <li>For static PVs, the PVC binds to a PV that meets or exceeds the request. If no matching PV exists, the PVC remains unbound until a suitable PV is available.</li> <li><strong>Explanation</strong>: Binding is a one-to-one, exclusive mapping. The <code>ClaimRef</code> field in the PV links it to the PVC, ensuring other PVCs cannot claim it.</li> <li> <p><strong>Example</strong>: A PVC requesting 10Gi with <code>ReadWriteOnce</code> will not bind to a 5Gi PV but will bind to a 15Gi PV if available.</p> </li> <li> <p><strong>Using</strong>:</p> </li> <li>Once bound, a PVC can be used as a volume in a Pod. The Pod’s volume specification references the PVC, and Kubernetes mounts the underlying PV into the Pod’s containers.</li> <li>Users specify the desired access mode (e.g., <code>ReadWriteOnce</code>) in the Pod’s volume configuration.</li> <li><strong>Example</strong>: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-0-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-0-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span>
</span><span id=__span-0-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-0-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mypod</span>
</span><span id=__span-0-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-0-6><span class=w>  </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-0-7><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">myfrontend</span>
</span><span id=__span-0-8><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
</span><span id=__span-0-9><span class=w>    </span><span class=nt>volumeMounts</span><span class=p>:</span>
</span><span id=__span-0-10><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>mountPath</span><span class=p>:</span><span class=w> </span><span class=s>&quot;/var/www/html&quot;</span>
</span><span id=__span-0-11><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mypd</span>
</span><span id=__span-0-12><span class=w>  </span><span class=nt>volumes</span><span class=p>:</span>
</span><span id=__span-0-13><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mypd</span>
</span><span id=__span-0-14><span class=w>    </span><span class=nt>persistentVolumeClaim</span><span class=p>:</span>
</span><span id=__span-0-15><span class=w>      </span><span class=nt>claimName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">myclaim</span>
</span></code></pre></div></li> <li> <p><strong>Note</strong>: PVCs must be in the same namespace as the Pod using them.</p> </li> <li> <p><strong>Storage Object in Use Protection</strong>:</p> </li> <li>Kubernetes prevents deletion of PVCs actively used by Pods and PVs bound to PVCs to avoid data loss.</li> <li>When a PVC or PV is marked for deletion (status: <code>Terminating</code>), finalizers (e.g., <code>kubernetes.io/pvc-protection</code>, <code>kubernetes.io/pv-protection</code>) delay removal until the resource is no longer in use.</li> <li><strong>Example</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-1-1>kubectl<span class=w> </span>describe<span class=w> </span>pvc<span class=w> </span>hostpath
</span><span id=__span-1-2>Name:<span class=w>          </span>hostpath
</span><span id=__span-1-3>Status:<span class=w>        </span>Terminating
</span><span id=__span-1-4>Finalizers:<span class=w>    </span><span class=o>[</span>kubernetes.io/pvc-protection<span class=o>]</span>
</span></code></pre></div></li> <li> <p><strong>Explanation</strong>: This feature ensures data integrity by preventing accidental deletion during active use.</p> </li> <li> <p><strong>Reclaiming</strong>:</p> </li> <li>When a PVC is deleted, the PV’s reclaim policy determines what happens to the storage:<ul> <li><strong>Retain</strong>: The PV persists, marked as “released,” with data intact. Administrators must manually delete the PV, clean the storage, and optionally reuse it.</li> <li><strong>Steps</strong>:<ol> <li>Delete the PV object.</li> <li>Clean the storage backend (e.g., remove files on an NFS share).</li> <li>Delete the storage asset or create a new PV to reuse it.</li> </ol> </li> <li><strong>Delete</strong>: Both the PV object and the underlying storage asset are deleted. This is the default for dynamically provisioned PVs unless the StorageClass specifies otherwise.</li> <li><strong>Recycle</strong> (Deprecated): The PV is scrubbed (e.g., <code>rm -rf /thevolume/*</code>) and made available for a new claim. Not recommended; use dynamic provisioning instead.</li> </ul> </li> <li><strong>Example</strong> (Custom Recycler Pod for Recycle, deprecated): <div class="language-yaml highlight"><pre><span></span><code><span id=__span-2-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-2-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span>
</span><span id=__span-2-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-2-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pv-recycler</span>
</span><span id=__span-2-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-2-6><span class=w>  </span><span class=nt>restartPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Never</span>
</span><span id=__span-2-7><span class=w>  </span><span class=nt>volumes</span><span class=p>:</span>
</span><span id=__span-2-8><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vol</span>
</span><span id=__span-2-9><span class=w>    </span><span class=nt>hostPath</span><span class=p>:</span>
</span><span id=__span-2-10><span class=w>      </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/any/path</span>
</span><span id=__span-2-11><span class=w>  </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-2-12><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pv-recycler</span>
</span><span id=__span-2-13><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">registry.k8s.io/busybox</span>
</span><span id=__span-2-14><span class=w>    </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;/bin/sh&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;-c&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;rm</span><span class=nv> </span><span class=s>-rf</span><span class=nv> </span><span class=s>/scrub/*</span><span class=nv> </span><span class=s>&amp;&amp;</span><span class=nv> </span><span class=s>test</span><span class=nv> </span><span class=s>-z</span><span class=nv> </span><span class=s>\&quot;$(ls</span><span class=nv> </span><span class=s>-A</span><span class=nv> </span><span class=s>/scrub)\&quot;</span><span class=nv> </span><span class=s>||</span><span class=nv> </span><span class=s>exit</span><span class=nv> </span><span class=s>1&quot;</span><span class="p p-Indicator">]</span>
</span><span id=__span-2-15><span class=w>    </span><span class=nt>volumeMounts</span><span class=p>:</span>
</span><span id=__span-2-16><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vol</span>
</span><span id=__span-2-17><span class=w>      </span><span class=nt>mountPath</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/scrub</span>
</span></code></pre></div></li> <li> <p><strong>Note</strong>: The <code>Recycle</code> policy requires a custom recycler Pod, but dynamic provisioning is preferred for modern clusters.</p> </li> <li> <p><strong>PersistentVolume Deletion Protection</strong> (Stable, v1.33):</p> </li> <li>For PVs with a <code>Delete</code> reclaim policy, finalizers ensure the underlying storage is deleted before the PV object is removed:<ul> <li><code>external-provisioner.volume.kubernetes.io/finalizer</code>: Added to CSI volumes (dynamic and static) and dynamically provisioned in-tree volumes since v1.31.</li> <li><code>kubernetes.io/pv-controller</code>: Added to dynamically provisioned in-tree volumes since v1.31.</li> </ul> </li> <li><strong>Example</strong> (CSI Volume): <div class="language-bash highlight"><pre><span></span><code><span id=__span-3-1>kubectl<span class=w> </span>describe<span class=w> </span>pv<span class=w> </span>pvc-2f0bab97
</span><span id=__span-3-2>Name:<span class=w>            </span>pvc-2f0bab97-85a8-4552-8044-eb8be45cf48d
</span><span id=__span-3-3>Finalizers:<span class=w>      </span><span class=o>[</span>kubernetes.io/pv-protection<span class=w> </span>external-provisioner.volume.kubernetes.io/finalizer<span class=o>]</span>
</span><span id=__span-3-4>Reclaim<span class=w> </span>Policy:<span class=w>  </span>Delete
</span></code></pre></div></li> <li><strong>Explanation</strong>: This ensures storage cleanup, preventing orphaned resources, especially in cloud environments.</li> </ol> <h2 id=persistentvolume-pv-specification>PersistentVolume (PV) Specification<a class=headerlink href=#persistentvolume-pv-specification title="Link to this section">&para;</a></h2> <p>A PV is defined by its <code>spec</code> and <code>status</code>, capturing the storage’s configuration and current state.</p> <h3 id=key-fields>Key Fields<a class=headerlink href=#key-fields title="Link to this section">&para;</a></h3> <ul> <li><strong>capacity</strong>: Specifies the storage size (e.g., <code>storage: 5Gi</code>). Currently, only storage size is supported, but future attributes may include IOPS or throughput.</li> <li><strong>volumeMode</strong> (Stable, v1.18):</li> <li><code>Filesystem</code> (default): Mounts the volume as a directory with a filesystem (e.g., ext4, XFS).</li> <li><code>Block</code>: Presents the volume as a raw block device without a filesystem, ideal for applications that manage their own storage (e.g., databases).</li> <li><strong>accessModes</strong>: Defines how the volume can be mounted:</li> <li><code>ReadWriteOnce</code> (RWO): Read-write by a single node; multiple Pods on the same node can access.</li> <li><code>ReadOnlyMany</code> (ROX): Read-only by multiple nodes.</li> <li><code>ReadWriteMany</code> (RWX): Read-write by multiple nodes.</li> <li><code>ReadWriteOncePod</code> (RWOP, Stable, v1.29): Read-write by a single Pod, ensuring exclusive access cluster-wide. Requires CSI volumes and specific CSI sidecar versions (e.g., <code>csi-provisioner:v3.0.0+</code>).</li> <li><strong>Note</strong>: Access modes describe capabilities, not enforced restrictions. For example, a <code>ReadOnlyMany</code> PV is not guaranteed to be read-only unless configured as such by the storage backend.</li> <li><strong>storageClassName</strong>: Links the PV to a StorageClass. An empty or absent <code>storageClassName</code> indicates no class, limiting binding to PVCs without a class.</li> <li><strong>persistentVolumeReclaimPolicy</strong>: Defines reclamation behavior (<code>Retain</code>, <code>Delete</code>, <code>Recycle</code>).</li> <li><strong>mountOptions</strong>: Specifies mount options (e.g., <code>nfsvers=4.1</code>) for supported volume types (e.g., <code>nfs</code>, <code>iscsi</code>, <code>csi</code>).</li> <li><strong>nodeAffinity</strong>: Restricts the PV to specific nodes, mandatory for <code>local</code> volumes.</li> <li><strong>Source</strong>: Specifies the storage backend (e.g., <code>nfs</code>, <code>csi</code>, <code>hostPath</code>).</li> </ul> <h3 id=example-pv>Example PV<a class=headerlink href=#example-pv title="Link to this section">&para;</a></h3> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-4-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-4-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
</span><span id=__span-4-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-4-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pv0003</span>
</span><span id=__span-4-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-4-6><span class=w>  </span><span class=nt>capacity</span><span class=p>:</span>
</span><span id=__span-4-7><span class=w>    </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5Gi</span>
</span><span id=__span-4-8><span class=w>  </span><span class=nt>volumeMode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Filesystem</span>
</span><span id=__span-4-9><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span>
</span><span id=__span-4-10><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
</span><span id=__span-4-11><span class=w>  </span><span class=nt>persistentVolumeReclaimPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Delete</span>
</span><span id=__span-4-12><span class=w>  </span><span class=nt>storageClassName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">slow</span>
</span><span id=__span-4-13><span class=w>  </span><span class=nt>mountOptions</span><span class=p>:</span>
</span><span id=__span-4-14><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">hard</span>
</span><span id=__span-4-15><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">nfsvers=4.1</span>
</span><span id=__span-4-16><span class=w>  </span><span class=nt>nfs</span><span class=p>:</span>
</span><span id=__span-4-17><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp</span>
</span><span id=__span-4-18><span class=w>    </span><span class=nt>server</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">172.17.0.2</span>
</span></code></pre></div> <p><strong>Explanation</strong>: This PV provides 5Gi of NFS storage, mountable as read-write by one node, with a <code>Delete</code> reclaim policy. It requires the <code>/sbin/mount.nfs</code> helper program on nodes to mount the NFS share.</p> <h3 id=phase>Phase<a class=headerlink href=#phase title="Link to this section">&para;</a></h3> <p>A PV’s status reflects its lifecycle phase: - <code>Available</code>: Unbound and ready for a PVC. - <code>Bound</code>: Bound to a PVC, with the PVC name visible via <code>kubectl describe pv &lt;name&gt;</code>. - <code>Released</code>: PVC deleted, but the PV is not yet reclaimed. - <code>Failed</code>: Reclamation failed. - <strong>Phase Transition Timestamp</strong> (Stable, v1.31): The <code>status.lastPhaseTransitionTime</code> field records when the PV last changed phases, aiding in debugging.</p> <h2 id=persistentvolumeclaim-pvc-specification>PersistentVolumeClaim (PVC) Specification<a class=headerlink href=#persistentvolumeclaim-pvc-specification title="Link to this section">&para;</a></h2> <p>A PVC defines a user’s storage request, with <code>spec</code> and <code>status</code> fields.</p> <h3 id=key-fields_1>Key Fields<a class=headerlink href=#key-fields_1 title="Link to this section">&para;</a></h3> <ul> <li><strong>accessModes</strong>: Matches the PV’s access modes (e.g., <code>ReadWriteOnce</code>).</li> <li><strong>volumeMode</strong>: <code>Filesystem</code> or <code>Block</code>, matching the PV.</li> <li><strong>resources.requests.storage</strong>: Specifies the desired storage size (e.g., <code>8Gi</code>).</li> <li><strong>Note</strong>: For <code>Filesystem</code> volumes, this is the allocated size, which may be slightly reduced due to filesystem overhead (e.g., XFS metadata).</li> <li><strong>storageClassName</strong>: Requests a specific StorageClass or <code>""</code> for no class. If unset, behavior depends on the <code>DefaultStorageClass</code> admission plugin.</li> <li><strong>selector</strong>: Filters PVs by labels (e.g., <code>matchLabels</code>, <code>matchExpressions</code>). Cannot be used with dynamic provisioning.</li> <li><strong>volumeName</strong>: Explicitly binds to a named PV, bypassing matching criteria except for validation.</li> </ul> <h3 id=example-pvc>Example PVC<a class=headerlink href=#example-pvc title="Link to this section">&para;</a></h3> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-5-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-5-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-5-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-5-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">myclaim</span>
</span><span id=__span-5-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-5-6><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span>
</span><span id=__span-5-7><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
</span><span id=__span-5-8><span class=w>  </span><span class=nt>volumeMode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Filesystem</span>
</span><span id=__span-5-9><span class=w>  </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-5-10><span class=w>    </span><span class=nt>requests</span><span class=p>:</span>
</span><span id=__span-5-11><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">8Gi</span>
</span><span id=__span-5-12><span class=w>  </span><span class=nt>storageClassName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">slow</span>
</span><span id=__span-5-13><span class=w>  </span><span class=nt>selector</span><span class=p>:</span>
</span><span id=__span-5-14><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span>
</span><span id=__span-5-15><span class=w>      </span><span class=nt>release</span><span class=p>:</span><span class=w> </span><span class=s>&quot;stable&quot;</span>
</span></code></pre></div> <p><strong>Explanation</strong>: This PVC requests 8Gi of storage with <code>ReadWriteOnce</code> access, preferring PVs from the <code>slow</code> StorageClass with a <code>release: stable</code> label.</p> <h3 id=storageclass-and-default-behavior>StorageClass and Default Behavior<a class=headerlink href=#storageclass-and-default-behavior title="Link to this section">&para;</a></h3> <ul> <li><strong>With <code>DefaultStorageClass</code> Admission Plugin</strong>:</li> <li>A default StorageClass (marked with <code>storageclass.kubernetes.io/is-default-class: true</code>) is applied to PVCs without <code>storageClassName</code>.</li> <li>PVCs with <code>storageClassName: ""</code> only bind to PVs with no class.</li> <li><strong>Without <code>DefaultStorageClass</code></strong>:</li> <li>PVCs without <code>storageClassName</code> or with <code>storageClassName: ""</code> bind to PVs with no class.</li> <li>Retroactive assignment (Stable, v1.28) updates PVCs without <code>storageClassName</code> to the default StorageClass when one becomes available, unless <code>storageClassName: ""</code>.</li> <li><strong>Note</strong>: Avoid using the deprecated <code>volume.beta.kubernetes.io/storage-class</code> annotation.</li> </ul> <h2 id=reserving-a-persistentvolume>Reserving a PersistentVolume<a class=headerlink href=#reserving-a-persistentvolume title="Link to this section">&para;</a></h2> <p>To ensure a PVC binds to a specific PV, you can pre-bind them:</p> <ol> <li><strong>PVC Specifies PV</strong>: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-6-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-6-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-6-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-6-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo-pvc</span>
</span><span id=__span-6-5><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
</span><span id=__span-6-6><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-6-7><span class=w>  </span><span class=nt>storageClassName</span><span class=p>:</span><span class=w> </span><span class=s>&quot;&quot;</span>
</span><span id=__span-6-8><span class=w>  </span><span class=nt>volumeName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo-pv</span>
</span></code></pre></div></li> <li> <p>Binds to <code>foo-pv</code> if it exists and is unbound, ignoring some matching criteria (e.g., node affinity).</p> </li> <li> <p><strong>PV Reserves PVC</strong>: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-7-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-7-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
</span><span id=__span-7-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-7-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo-pv</span>
</span><span id=__span-7-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-7-6><span class=w>  </span><span class=nt>storageClassName</span><span class=p>:</span><span class=w> </span><span class=s>&quot;&quot;</span>
</span><span id=__span-7-7><span class=w>  </span><span class=nt>claimRef</span><span class=p>:</span>
</span><span id=__span-7-8><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo-pvc</span>
</span><span id=__span-7-9><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
</span></code></pre></div></p> </li> <li>Reserves <code>foo-pv</code> for <code>foo-pvc</code>, preventing other PVCs from binding.</li> <li>Useful for <code>Retain</code> policy PVs or reusing existing storage.</li> </ol> <p><strong>Explanation</strong>: Pre-binding ensures predictable storage allocation, especially in environments with limited PVs.</p> <h2 id=expanding-persistentvolumeclaims-stable-v124>Expanding PersistentVolumeClaims (Stable, v1.24)<a class=headerlink href=#expanding-persistentvolumeclaims-stable-v124 title="Link to this section">&para;</a></h2> <p>PVCs can be expanded to request more storage, provided the StorageClass’s <code>allowVolumeExpansion</code> is <code>true</code>. Supported volume types include <code>csi</code>, <code>flexVolume</code> (deprecated), and <code>portworxVolume</code> (deprecated).</p> <h3 id=process>Process<a class=headerlink href=#process title="Link to this section">&para;</a></h3> <ol> <li>Edit the PVC’s <code>spec.resources.requests.storage</code> to a larger size.</li> <li>The underlying PV is resized, without creating a new PV.</li> <li>For <code>Filesystem</code> volumes (e.g., XFS, ext4), expansion occurs when a Pod mounts the PVC in <code>ReadWrite</code> mode, either at Pod startup or if the filesystem supports online expansion.</li> <li>For <code>Block</code> volumes, resizing is immediate if supported by the driver.</li> </ol> <h3 id=example-storageclass>Example StorageClass<a class=headerlink href=#example-storageclass title="Link to this section">&para;</a></h3> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-8-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">storage.k8s.io/v1</span>
</span><span id=__span-8-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">StorageClass</span>
</span><span id=__span-8-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-8-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">example-vol-default</span>
</span><span id=__span-8-5><span class=nt>provisioner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vendor-name.example/magicstorage</span>
</span><span id=__span-8-6><span class=nt>allowVolumeExpansion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span></code></pre></div> <h3 id=example-pvc-expansion>Example PVC Expansion<a class=headerlink href=#example-pvc-expansion title="Link to this section">&para;</a></h3> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-9-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-9-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-9-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-9-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">myclaim</span>
</span><span id=__span-9-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-9-6><span class=w>  </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-9-7><span class=w>    </span><span class=nt>requests</span><span class=p>:</span>
</span><span id=__span-9-8><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span><span class=w>  </span><span class=c1># Increased from 8Gi</span>
</span></code></pre></div> <p><strong>Warnings</strong>: - Directly editing a PV’s capacity can prevent automatic resizing, as Kubernetes assumes the size is manually set. - Expansion requires CSI driver support for <code>csi</code> volumes.</p> <h3 id=resizing-in-use-pvcs>Resizing In-Use PVCs<a class=headerlink href=#resizing-in-use-pvcs title="Link to this section">&para;</a></h3> <ul> <li>In-use PVCs expand automatically when the filesystem is resized, without needing to recreate the Pod.</li> <li><strong>Note</strong>: Unbound PVCs require a Pod to be created to trigger expansion.</li> </ul> <h3 id=recovering-from-expansion-failures>Recovering from Expansion Failures<a class=headerlink href=#recovering-from-expansion-failures title="Link to this section">&para;</a></h3> <p>If expansion fails (e.g., requesting too much storage), the controller retries indefinitely. To recover: 1. Mark the PV as <code>Retain</code>. 2. Delete and recreate the PVC with a smaller size, setting <code>volumeName</code> to the PV’s name. 3. Restore the PV’s original reclaim policy.</p> <p><strong>Explanation</strong>: This manual intervention prevents infinite retries, allowing administrators to adjust storage requests.</p> <h2 id=types-of-persistent-volumes>Types of Persistent Volumes<a class=headerlink href=#types-of-persistent-volumes title="Link to this section">&para;</a></h2> <p>PVs are implemented as plugins, with support for various storage backends. As of Kubernetes v1.33, supported types include:</p> <ul> <li><strong>csi</strong>: Container Storage Interface, the standard for external storage integration.</li> <li><strong>fc</strong>: Fibre Channel block storage.</li> <li><strong>hostPath</strong>: Node-local storage (for testing; not suitable for multi-node clusters).</li> <li><strong>iscsi</strong>: iSCSI storage.</li> <li><strong>local</strong>: Local storage devices, requiring <code>nodeAffinity</code>.</li> <li><strong>nfs</strong>: Network File System, supporting multiple writers.</li> </ul> <h3 id=deprecated-types>Deprecated Types<a class=headerlink href=#deprecated-types title="Link to this section">&para;</a></h3> <p>These types are redirected to CSI drivers or unsupported: - <strong>awsElasticBlockStore</strong>: Use <code>ebs.csi.aws.com</code> (migration default since v1.23). - <strong>azureDisk</strong>: Use <code>disk.csi.azure.com</code> (migration default since v1.23). - <strong>azureFile</strong>: Use <code>file.csi.azure.com</code> (migration default since v1.24). - <strong>cinder</strong>: Use <code>cinder.csi.openstack.org</code> (migration default since v1.21). - <strong>flexVolume</strong>: Deprecated since v1.23; migrate to CSI. - <strong>gcePersistentDisk</strong>: Use <code>pd.csi.storage.gke.io</code> (migration default since v1.23). - <strong>portworxVolume</strong>: Use <code>pxd.portworx.com</code> (migration default since v1.31). - <strong>vsphereVolume</strong>: Use <code>csi.vsphere.vmware.com</code> (migration default since v1.25). - <strong>cephfs</strong>, <strong>rbd</strong>: Removed in v1.31. - <strong>glusterfs</strong>, <strong>flocker</strong>, <strong>quobyte</strong>, <strong>storageos</strong>: Removed in v1.25 or earlier.</p> <p><strong>Recommendation</strong>: Use CSI drivers for new deployments to ensure future compatibility.</p> <h3 id=access-mode-support>Access Mode Support<a class=headerlink href=#access-mode-support title="Link to this section">&para;</a></h3> <table> <thead> <tr> <th>Volume Plugin</th> <th>ReadWriteOnce</th> <th>ReadOnlyMany</th> <th>ReadWriteMany</th> <th>ReadWriteOncePod</th> </tr> </thead> <tbody> <tr> <td>csi</td> <td>Driver-dependent</td> <td>Driver-dependent</td> <td>Driver-dependent</td> <td>Driver-dependent</td> </tr> <tr> <td>fc</td> <td>✓</td> <td>✓</td> <td>-</td> <td>-</td> </tr> <tr> <td>hostPath</td> <td>✓</td> <td>-</td> <td>-</td> <td>-</td> </tr> <tr> <td>iscsi</td> <td>✓</td> <td>✓</td> <td>-</td> <td>-</td> </tr> <tr> <td>local</td> <td>✓</td> <td>-</td> <td>-</td> <td>-</td> </tr> <tr> <td>nfs</td> <td>✓</td> <td>✓</td> <td>✓</td> <td>-</td> </tr> </tbody> </table> <p><strong>Note</strong>: <code>ReadWriteOncePod</code> requires CSI volumes and Kubernetes v1.22+ with updated CSI sidecars.</p> <h2 id=advanced-features>Advanced Features<a class=headerlink href=#advanced-features title="Link to this section">&para;</a></h2> <h3 id=raw-block-volume-support-stable-v118>Raw Block Volume Support (Stable, v1.18)<a class=headerlink href=#raw-block-volume-support-stable-v118 title="Link to this section">&para;</a></h3> <ul> <li><strong>Purpose</strong>: Provides raw block devices without a filesystem, ideal for applications like databases.</li> <li><strong>Supported Plugins</strong>: <code>csi</code>, <code>fc</code>, <code>iscsi</code>, <code>local</code>.</li> <li><strong>Example</strong>: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-10-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-10-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
</span><span id=__span-10-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-10-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">block-pv</span>
</span><span id=__span-10-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-10-6><span class=w>  </span><span class=nt>capacity</span><span class=p>:</span>
</span><span id=__span-10-7><span class=w>    </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span>
</span><span id=__span-10-8><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span>
</span><span id=__span-10-9><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
</span><span id=__span-10-10><span class=w>  </span><span class=nt>volumeMode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Block</span>
</span><span id=__span-10-11><span class=w>  </span><span class=nt>persistentVolumeReclaimPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Retain</span>
</span><span id=__span-10-12><span class=w>  </span><span class=nt>fc</span><span class=p>:</span>
</span><span id=__span-10-13><span class=w>    </span><span class=nt>targetWWNs</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;50060e801049cfd1&quot;</span><span class="p p-Indicator">]</span>
</span><span id=__span-10-14><span class=w>    </span><span class=nt>lun</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</span><span id=__span-10-15><span class=nn>---</span>
</span><span id=__span-10-16><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-10-17><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-10-18><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-10-19><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">block-pvc</span>
</span><span id=__span-10-20><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-10-21><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span>
</span><span id=__span-10-22><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
</span><span id=__span-10-23><span class=w>  </span><span class=nt>volumeMode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Block</span>
</span><span id=__span-10-24><span class=w>  </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-10-25><span class=w>    </span><span class=nt>requests</span><span class=p>:</span>
</span><span id=__span-10-26><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span>
</span><span id=__span-10-27><span class=nn>---</span>
</span><span id=__span-10-28><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-10-29><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span>
</span><span id=__span-10-30><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-10-31><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pod-with-block-volume</span>
</span><span id=__span-10-32><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-10-33><span class=w>  </span><span class=nt>containers</span><span class=p>:</span>
</span><span id=__span-10-34><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">fc-container</span>
</span><span id=__span-10-35><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">fedora:26</span>
</span><span id=__span-10-36><span class=w>    </span><span class=nt>volumeDevices</span><span class=p>:</span>
</span><span id=__span-10-37><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">data</span>
</span><span id=__span-10-38><span class=w>      </span><span class=nt>devicePath</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/dev/xvda</span>
</span><span id=__span-10-39><span class=w>  </span><span class=nt>volumes</span><span class=p>:</span>
</span><span id=__span-10-40><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">data</span>
</span><span id=__span-10-41><span class=w>    </span><span class=nt>persistentVolumeClaim</span><span class=p>:</span>
</span><span id=__span-10-42><span class=w>      </span><span class=nt>claimName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">block-pvc</span>
</span></code></pre></div></li> <li><strong>Note</strong>: Use <code>volumeDevices</code> instead of <code>volumeMounts</code> for block volumes, specifying a device path.</li> </ul> <h3 id=volume-snapshot-and-restore-stable-v120>Volume Snapshot and Restore (Stable, v1.20)<a class=headerlink href=#volume-snapshot-and-restore-stable-v120 title="Link to this section">&para;</a></h3> <ul> <li><strong>Purpose</strong>: Creates snapshots of CSI volumes for backup or restoration.</li> <li><strong>Example</strong>: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-11-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-11-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-11-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-11-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">restore-pvc</span>
</span><span id=__span-11-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-11-6><span class=w>  </span><span class=nt>storageClassName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">csi-hostpath-sc</span>
</span><span id=__span-11-7><span class=w>  </span><span class=nt>dataSource</span><span class=p>:</span>
</span><span id=__span-11-8><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">new-snapshot-test</span>
</span><span id=__span-11-9><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">VolumeSnapshot</span>
</span><span id=__span-11-10><span class=w>    </span><span class=nt>apiGroup</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">snapshot.storage.k8s.io</span>
</span><span id=__span-11-11><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span>
</span><span id=__span-11-12><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
</span><span id=__span-11-13><span class=w>  </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-11-14><span class=w>    </span><span class=nt>requests</span><span class=p>:</span>
</span><span id=__span-11-15><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span>
</span></code></pre></div></li> <li><strong>Note</strong>: Requires CSI drivers with snapshot support.</li> </ul> <h3 id=volume-cloning-csi-only>Volume Cloning (CSI Only)<a class=headerlink href=#volume-cloning-csi-only title="Link to this section">&para;</a></h3> <ul> <li><strong>Purpose</strong>: Creates a new PVC from an existing PVC’s data.</li> <li><strong>Example</strong>: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-12-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-12-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-12-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-12-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cloned-pvc</span>
</span><span id=__span-12-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-12-6><span class=w>  </span><span class=nt>storageClassName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">my-csi-plugin</span>
</span><span id=__span-12-7><span class=w>  </span><span class=nt>dataSource</span><span class=p>:</span>
</span><span id=__span-12-8><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">existing-src-pvc-name</span>
</span><span id=__span-12-9><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-12-10><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span>
</span><span id=__span-12-11><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
</span><span id=__span-12-12><span class=w>  </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-12-13><span class=w>    </span><span class=nt>requests</span><span class=p>:</span>
</span><span id=__span-12-14><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span>
</span></code></pre></div></li> </ul> <h3 id=volume-populators-and-data-sources-beta-v124>Volume Populators and Data Sources (Beta, v1.24)<a class=headerlink href=#volume-populators-and-data-sources-beta-v124 title="Link to this section">&para;</a></h3> <ul> <li><strong>Purpose</strong>: Allows custom controllers to populate PVCs with data from arbitrary sources using the <code>dataSourceRef</code> field.</li> <li><strong>Example</strong>: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-13-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-13-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-13-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-13-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">populated-pvc</span>
</span><span id=__span-13-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-13-6><span class=w>  </span><span class=nt>dataSourceRef</span><span class=p>:</span>
</span><span id=__span-13-7><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">example-name</span>
</span><span id=__span-13-8><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ExampleDataSource</span>
</span><span id=__span-13-9><span class=w>    </span><span class=nt>apiGroup</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">example.storage.k8s.io</span>
</span><span id=__span-13-10><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span>
</span><span id=__span-13-11><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
</span><span id=__span-13-12><span class=w>  </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-13-13><span class=w>    </span><span class=nt>requests</span><span class=p>:</span>
</span><span id=__span-13-14><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span>
</span></code></pre></div></li> <li><strong>Note</strong>: Requires the <code>AnyVolumeDataSource</code> feature gate and external populator controllers.</li> </ul> <h3 id=cross-namespace-data-sources-alpha-v126>Cross-Namespace Data Sources (Alpha, v1.26)<a class=headerlink href=#cross-namespace-data-sources-alpha-v126 title="Link to this section">&para;</a></h3> <ul> <li><strong>Purpose</strong>: Allows referencing data sources (e.g., VolumeSnapshots) in another namespace.</li> <li><strong>Requirements</strong>:</li> <li>Enable <code>AnyVolumeDataSource</code> and <code>CrossNamespaceVolumeDataSource</code> feature gates.</li> <li>Create a <code>ReferenceGrant</code> in the source namespace.</li> <li><strong>Example</strong>: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-14-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">gateway.networking.k8s.io/v1beta1</span>
</span><span id=__span-14-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ReferenceGrant</span>
</span><span id=__span-14-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-14-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">allow-ns1-pvc</span>
</span><span id=__span-14-5><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
</span><span id=__span-14-6><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-14-7><span class=w>  </span><span class=nt>from</span><span class=p>:</span>
</span><span id=__span-14-8><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class=s>&quot;&quot;</span>
</span><span id=__span-14-9><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-14-10><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ns1</span>
</span><span id=__span-14-11><span class=w>  </span><span class=nt>to</span><span class=p>:</span>
</span><span id=__span-14-12><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">snapshot.storage.k8s.io</span>
</span><span id=__span-14-13><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">VolumeSnapshot</span>
</span><span id=__span-14-14><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">new-snapshot-demo</span>
</span><span id=__span-14-15><span class=nn>---</span>
</span><span id=__span-14-16><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-14-17><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-14-18><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-14-19><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo-pvc</span>
</span><span id=__span-14-20><span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ns1</span>
</span><span id=__span-14-21><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-14-22><span class=w>  </span><span class=nt>dataSourceRef</span><span class=p>:</span>
</span><span id=__span-14-23><span class=w>    </span><span class=nt>apiGroup</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">snapshot.storage.k8s.io</span>
</span><span id=__span-14-24><span class=w>    </span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">VolumeSnapshot</span>
</span><span id=__span-14-25><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">new-snapshot-demo</span>
</span><span id=__span-14-26><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
</span><span id=__span-14-27><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span>
</span><span id=__span-14-28><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
</span><span id=__span-14-29><span class=w>  </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-14-30><span class=w>    </span><span class=nt>requests</span><span class=p>:</span>
</span><span id=__span-14-31><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1Gi</span>
</span></code></pre></div></li> <li><strong>Note</strong>: Requires the Gateway API’s <code>ReferenceGrant</code> resource.</li> </ul> <h2 id=writing-portable-configuration>Writing Portable Configuration<a class=headerlink href=#writing-portable-configuration title="Link to this section">&para;</a></h2> <p>To create portable storage configurations for diverse Kubernetes clusters: 1. Include PVCs in your configuration (e.g., with Deployments, ConfigMaps). 2. Avoid including PVs, as users may lack permission to create them. 3. Allow users to specify a <code>storageClassName</code> for the PVC: - If provided, set <code>persistentVolumeClaim.storageClassName</code> to match. - If not provided, leave <code>storageClassName</code> unset to use the cluster’s default StorageClass. 4. Monitor PVCs for binding delays, indicating missing dynamic provisioning or storage systems, and alert users.</p> <p><strong>Example</strong>: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-15-1><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
</span><span id=__span-15-2><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
</span><span id=__span-15-3><span class=nt>metadata</span><span class=p>:</span>
</span><span id=__span-15-4><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">myclaim</span>
</span><span id=__span-15-5><span class=nt>spec</span><span class=p>:</span>
</span><span id=__span-15-6><span class=w>  </span><span class=nt>accessModes</span><span class=p>:</span>
</span><span id=__span-15-7><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
</span><span id=__span-15-8><span class=w>  </span><span class=nt>resources</span><span class=p>:</span>
</span><span id=__span-15-9><span class=w>    </span><span class=nt>requests</span><span class=p>:</span>
</span><span id=__span-15-10><span class=w>      </span><span class=nt>storage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10Gi</span>
</span><span id=__span-15-11><span class=w>  </span><span class=nt>storageClassName</span><span class=p>:</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=w>  </span><span class=c1># Set by user or left unset</span>
</span></code></pre></div></p> <h2 id=best-practices>Best Practices<a class=headerlink href=#best-practices title="Link to this section">&para;</a></h2> <ol> <li><strong>Use Dynamic Provisioning</strong>: Prefer StorageClasses for automated PV creation, reducing manual overhead.</li> <li><strong>Set Appropriate Reclaim Policies</strong>: Use <code>Delete</code> for cloud-backed storage and <code>Retain</code> for manual management or critical data.</li> <li><strong>Leverage CSI Drivers</strong>: Transition from deprecated in-tree plugins to CSI for better support.</li> <li><strong>Monitor Binding</strong>: Ensure PVCs bind promptly; unbound PVCs may indicate missing PVs or misconfigured StorageClasses.</li> <li><strong>Secure Storage</strong>: Use <code>ReadWriteOncePod</code> for sensitive data requiring exclusive access.</li> <li><strong>Test Expansion</strong>: Validate volume expansion in a staging environment, especially for in-use PVCs.</li> </ol> <h2 id=whats-next>What’s Next<a class=headerlink href=#whats-next title="Link to this section">&para;</a></h2> <ul> <li>Explore StorageClasses for dynamic provisioning and advanced storage configuration.</li> <li>Experiment with PVs and PVCs in a lab environment, such as deploying a stateful application like WordPress with MySQL.</li> <li>Review CSI driver documentation for specific storage backend integrations.</li> </ul> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../pvc-guide/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Persistent Volume Claim Guide"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Persistent Volume Claim Guide </div> </div> </a> <a href=../Volume%20spec.source%20Options%20in%20PersistentVolume/ class="md-footer__link md-footer__link--next" aria-label="Next: Volume Spec Source Options in PersistentVolume"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Volume Spec Source Options in PersistentVolume </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2026 <a href=https://www.linkedin.com/in/ibtisam-iq/ target=_blank rel=noopener>Muhammad Ibtisam</a>. All rights reserved. </div> </div> <div class=md-social> <a href=https://www.credly.com/users/ibtisam-iq/badges#credly target=_blank rel=noopener title="View my Credly badges" class=md-social__link> <?xml version="1.0" encoding="utf-8"?> <svg width=800px height=800px viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <circle cx=512 cy=512 r=512 style=fill:#f36c21 /> <path style=fill:#fff d="M671.2 371.6h3c3.7.3 7.4 2.1 9.7 5 3.4 4.2 4.3 9.8 4.6 15.1.8 16.1-2.7 32.1-7.3 47.5-5.9 20.4-14.2 40-21 60.1-1.2 3.5-2.4 7.1-3.3 10.7-1.5 6-1.3 12.3-1.5 18.5-.2 5.8.2 11.6 1.3 17.3.6 3.1 1.9 6.4 4.3 8.6 2.2 2 5.4 2.9 8.3 2 3.9-1.2 7-4.2 9.8-7.1 3.9-4.3 7.6-8.7 10.3-13.8 3.8-6.8 6-14.3 7.1-22 1.5-11.6 2.7-23.4 6.9-34.4 1.6-4.2 3.6-8.5 7.4-11.1 5.1-3.6 12.8-2.1 16.7 2.7 1.9 2.4 2.4 5.5 2.4 8.4-.2 3.9-1 7.8-2.3 11.5-4.5 13.2-7.1 27.1-6.6 41.1.1 3.2.4 6.6 2.1 9.5 1.4 2.4 3.8 4.3 6.6 4.3 3.2 0 6-1.9 8-4.2 3.1-3.5 5.6-7.5 7.6-11.7 4-8.5 5.9-17.8 7.6-27 1.4-7.8 2.8-15.6 5-23.2 1.2-3.9 2.7-7.8 5.6-10.8 1.9-2.1 4.8-2.9 7.5-2.9 2.8.1 5.4 1.7 7.3 3.8 2.6 2.9 3.1 6.9 2.8 10.6-2.8 22.1-5.9 44.2-8.4 66.3-1.8 13.8-3.4 27.6-4.6 41.4-.1 1.5 1.7 2.4 2.7 1.4 7.2-6.9 14.3-14.1 19.7-22.5 2.5-3.8 4.3-7.9 6.7-11.7 1-1.7 2.2-3.4 4.1-4 2.9-1.4 6.6-1 9.1 1 1.9 1.4 2.9 3.7 3.2 6v2.7c-.6 4.6-3.3 8.5-5.3 12.5-5.5 11-13.1 21-22.6 28.9-6.8 5.8-14.8 10.2-23.2 13.2-.5.2-1.3.3-1.4 1-3.1 12.7-10 24.4-19.3 33.5-10.3 10.2-23.6 17.2-37.7 20.5-7.7 1.7-15.8 2.4-23.6 1-8-1.5-15.8-5.2-21.5-11-5.2-5.2-8.7-12.1-9.3-19.5-.6-6.7 1.1-13.5 4.3-19.4 3.7-6.7 9.3-12.3 15.9-16.2 6.3-3.8 13.5-5.6 20.6-6.5 8.1-.9 16.4-.9 24.6-.2 5.1.4 10.2.9 15.3 1.3 2.8.2 5.9 1.2 8.6-.2 1.9-.9 2.5-3.2 2.8-5.1 1.2-9 3-18.1 1.9-27.3-.2-1.2-.5-3-2-3.1-1.8.8-2.7 2.7-3.7 4.3-3.1 6-8.9 10.6-15.6 11.9-6.7 1.3-14-2.1-17.1-8.1-1.5-2.5-2.2-5.5-4.4-7.6-1.5-1.4-3.7-1.4-5.5-.6-3.2 1.4-5.3 4.3-7.9 6.5-6.8 6.1-15.4 10.7-24.7 11.2-10.8.7-21.9-5.4-26.4-15.4-.6-1.4-1.1-3.4-2.9-3.6-2-.3-3.5 1.3-4.6 2.7-5.3 6.7-10.3 13.9-17.3 18.9-4.5 3.2-9.9 5.4-15.5 5.3-5.9-.1-11.8-3.3-14.6-8.5-1.3-2.3-1.8-5.2-3.9-7-1.6-1.4-4.1-1.2-5.8-.1-2.6 1.5-4.1 4.2-6.2 6.3-5.8 5.8-14.2 8.7-22.3 7.9-9.8-1-18.7-7.8-22.3-17-.5-1.3-1.2-2.8-2.6-3.2-1.1-.4-2 .4-2.7 1.1-5.4 5-10.8 10.1-17.3 13.6-6.6 3.5-13.9 5.8-21.4 5.6-7.9.1-15.8-2.3-22.2-6.8-5.4-3.7-9.7-8.9-12.2-15-.7-1.6-1.6-3.4-3.4-3.8-1.6-.4-3 .8-3.9 2-2.7 3.8-6.2 7.1-10.1 9.6-6 3.9-13 6.6-20.3 6.6-5.6 0-11.2-2.1-15.2-6-4.3-4.2-6.6-10.1-7.5-16-1.1-7.7.5-15.5 2.7-22.8 1.4-4.8 3.2-9.4 4.3-14.3.6-2.5.8-5.2-.3-7.5-.9-1.8-2.8-2.9-4.6-3.7-2-.8-4.1.3-5.5 1.6-1.4 1.3-2.1 3-2.9 4.7-4.9 11.8-11.5 22.9-19.6 32.8-7.8 9.6-17.1 17.9-27.1 25.2-11.4 8.1-24.5 14-38.4 15.9-10.1 1.4-20.6.6-30.4-2.3-5.8-1.7-11.5-4.1-16.5-7.6-8.6-6-15.5-14.3-20.4-23.5-3.8-7.1-6.7-14.7-8.8-22.5-2.9-11.1-3.9-22.5-4.4-33.9v-7.8c.2-8.4 1-16.8 2.7-25 3-14.9 8.4-29.2 15.7-42.5 5.8-10.4 12.7-20.2 21.4-28.3 9.5-8.9 21-15.8 33.7-18.6 12.1-2.7 25.1-2 36.4 3.2 3.4 1.5 6.4 3.7 10 4.8 2.5.8 5.4.5 7.5-1.1 3.2-2.5 4.7-6.5 7.4-9.5 3.4-3.7 8.9-5.2 13.7-3.8 4.5 1.3 8 5.2 9.1 9.7.7 3 .3 6.1-.6 9-1.4 4.1-3.7 7.8-5.9 11.5-7.3 12.6-12.8 26.2-16.3 40.3-1.1 4.3-2 8.8-3.7 12.9-1.6 3.9-4.1 7.6-7.7 10-3.1 2.1-7.2 3.1-10.9 2-3.4-1-6-3.8-7.4-7-1.6-3.4-2.1-7.3-1.6-11.1 1-8.9 5.9-17 6.1-26.1.2-5.1-1.5-10.4-5.5-13.7-5.6-4.8-13.5-6.1-20.6-5.1-8.4 1.1-16.3 5.1-22.5 10.8-6.7 6.2-11.7 14-15.7 22.1-11.6 23.2-16.7 49.8-13.7 75.6 1 8.4 3 16.8 7 24.4 2.5 4.8 5.8 9.1 9.9 12.5 5.3 4.4 11.7 7.4 18.5 8.7 9.7 1.9 19.9.6 29-2.9 12.2-4.7 22.8-13.1 31.2-23 4.5-5.1 8.4-10.7 12.2-16.4 3.8-5.3 7.8-10.9 9.3-17.4 1-4.3.1-8.7-.9-12.9-.7-5.8 1.5-11.7 5.3-16 2.4-2.5 5.4-4.8 8.9-5.5 3.3-.6 7 0 9.8 2.1 3.1 2.2 4.7 6.4 3.6 10.1-.7 2.4-1.5 4.9-.8 7.4.7 2.1 2.8 3.4 4.9 3.5 4.8.4 9.8-.5 14.4 1.1 5.4 2.1 10.2 6.4 12 12.1 1.2 3.8 1.6 8.1.4 11.9-2.1 7.4-4.7 14.7-6.1 22.3-.4 2.5-.8 5.1-.1 7.6.4 1.8 2 3.4 3.9 3.5 3.3.3 6.3-1.5 8.6-3.7 4.7-4.7 7.8-10.7 10-16.9 2.7-7.5 4.1-15.4 6.1-23.1 2.1-7.9 5.3-15.6 10.3-22.1 7.4-9.8 19.4-16.1 31.8-15.8 6.9.1 13.7 2.8 18.6 7.8 4.1 4.2 6.3 9.9 7.2 15.7 1.5 9.8-.3 20.1-4.8 29-6.2 12.2-18.9 20.9-32.6 22-2 .2-4.3.1-5.8 1.6-1.3 1.3-1.2 3.3-1 5 .5 4.6 2 9.3 5.1 12.9 3.6 3.7 9 6.3 14.3 5.1 6.1-1.3 11.3-5.2 15.6-9.4 4.1-4.1 7.7-8.7 11-13.5 4.6-6.6 7.4-14.2 10.2-21.6 2.7-7.3 5.2-14.7 9.7-21.1 3.6-5.4 8.3-10.1 13.9-13.5 6.2-3.9 13.6-5.9 21-5.5 2.3.1 4.9.2 6.8-1.2 1.7-1.3 2.3-3.6 2.3-5.7 0-3.8.4-7.5.7-11.3.5-5.9 1-11.8 1.8-17.6 1.7-14.6 4.7-29 8.6-43.1 2-7.1 4.6-14.3 9.1-20.3 1.9-2.7 4.2-5.3 7.2-6.9 2.9-1.7 6.6-1.6 9.7-.7 4 1.2 6.6 5 8.2 8.6 2.9 7.1 2.1 15 1.5 22.5-.8 11.8-3.6 23.4-6 35-2.1 10.2-3.8 20.5-5.7 30.7-2.6 14-5.1 28.1-7.7 42.1-2.2 11.5-4.7 23.2-3.3 35 .4 3.1.8 6.5 2.9 8.9 1.5 1.7 4 2.1 6 1.4 2.7-.9 4.6-3.3 6-5.7 3.3-5.6 6.2-11.5 9.1-17.4 4.2-8.2 8.4-16.7 9.8-25.9 2.2-14 3.7-28.2 5.7-42.3 1.6-10.5 3.4-21 5.1-31.4 2.1-13.1 4.5-26.1 8.2-38.8 1.8-6 4.2-11.9 8.4-16.6 3.8-3.8 8.3-6.5 13.3-7zM478 487.8c-2 .6-3.6 2.2-4.9 3.8-2.9 3.7-5.1 7.9-6.6 12.4-1.6 4.8-3.1 9.8-2.5 14.8.1 1.5 1.6 2.6 3 2.6 2.7.1 5.1-1.4 7.2-3 4.7-3.3 7.7-8.4 9.8-13.6 1.3-3.3 2.2-6.9 1.9-10.5-.2-2.4-1.4-4.9-3.5-6.1-1.3-.8-3-.9-4.4-.4zm85.7 11.2c-5.6 1-10.6 4.3-14.2 8.7-3.9 4.7-6.6 10.4-8 16.4-2.1 8.5-2.3 17.5 0 26 .7 2.6 1.9 5.2 3.9 7.1 1.3 1.3 3.1 2 4.9 2.1 4.7.7 9.1-1.9 12.7-4.6 4.5-3.3 7.4-8.2 9.2-13.4 1.1-3.2.4-6.6.1-9.9-.5-6.7-.5-13.4-.1-20.1.1-2.3.8-4.5.8-6.8 0-1.8-.7-3.8-2.4-4.8-2.1-1.3-4.6-1.1-6.9-.7zm133.7 119.6c-4.8.3-9.6 1.3-14.1 3.2-4.9 2-9.1 5.7-11.2 10.5-1.4 3-2 6.6-.5 9.6 1.5 3.1 4.3 5.4 7.4 6.8 4.3 1.9 9.1 2.2 13.6 1.7 14.2-1.6 27.7-8.9 36.7-20 1.8-2.2 3.2-4.7 4.7-7.1.4-.8 1-2.1.1-2.8-1.1-.8-2.5-.5-3.7-.5-5.1-.3-10.2-.8-15.3-1-5.9-.3-11.8-.8-17.7-.4z"/> </svg> </a> <a href=https://www.linkedin.com/in/ibtisam-iq/ target=_blank rel=noopener title="Connect with me on LinkedIn" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://github.com/ibtisam-iq target=_blank rel=noopener title="Follow me on GitHub" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://hub.docker.com/u/mibtisam target=_blank rel=noopener title="View my Docker Hub repositories" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg> </a> <a href=https://ibtisam-iq.com target=_blank rel=noopener title="Visit my personal website" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../../../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tabs.sticky", "navigation.path", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "toc.integrate", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.tabs.link", "content.tooltips"], "search": "../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>