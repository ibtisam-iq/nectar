<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Nectar is a living engineering knowledge system where I document how I reason about infrastructure and distributed systems in production. It focuses on understanding why systems behave the way they do, exploring trade-offs, failure modes, and real-world constraints — not just listing tools or tutorials."><meta name=author content="Muhammad Ibtisam"><link href=https://nectar.ibtisam-iq.com/containers-orchestration/kubernetes/03-networking/ingress-lab/ rel=canonical><link href=../ingress-example/ rel=prev><link href=../ingress-testing/ rel=next><link rel=icon href=../../../../docs/images/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Ingress Lab - Nectar</title><link rel=stylesheet href=../../../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../docs/stylesheets/extra.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title=Nectar class="md-header__button md-logo" aria-label=Nectar data-md-component=logo> <img src=../../../../docs/images/favicon.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Nectar </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Ingress Lab </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ibtisam-iq/nectar title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ibtisam-iq/nectar </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title=Nectar class="md-nav__button md-logo" aria-label=Nectar data-md-component=logo> <img src=../../../../docs/images/favicon.svg alt=logo> </a> Nectar </label> <div class=md-nav__source> <a href=https://github.com/ibtisam-iq/nectar title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ibtisam-iq/nectar </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Containers & Orchestration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Containers & Orchestration </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../docker/ class=md-nav__link> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../docker-compose/Compose/ class=md-nav__link> <span class=md-ellipsis> Docker Compose </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Kubernetes </span> </a> <label class="md-nav__link " for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../master-key/ class=md-nav__link> <span class=md-ellipsis> Master Key </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../00-cluster-setup/ class=md-nav__link> <span class=md-ellipsis> Cluster Setup </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../01-core-concepts/architecture/ class=md-nav__link> <span class=md-ellipsis> Core Concepts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../02-cli-operations/kubectl-flags/ class=md-nav__link> <span class=md-ellipsis> CLI Operations </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_6 checked> <label class=md-nav__link for=__nav_2_3_6 id=__nav_2_3_6_label tabindex=0> <span class=md-ellipsis> Networking </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_6_label aria-expanded=true> <label class=md-nav__title for=__nav_2_3_6> <span class="md-nav__icon md-icon"></span> Networking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../networking-in-k8s/ class=md-nav__link> <span class=md-ellipsis> Networking in Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=../services-guide/ class=md-nav__link> <span class=md-ellipsis> Services Guide </span> </a> </li> <li class=md-nav__item> <a href=../endpoints-guide/ class=md-nav__link> <span class=md-ellipsis> Endpoints Guide </span> </a> </li> <li class=md-nav__item> <a href=../accessing-applications/ class=md-nav__link> <span class=md-ellipsis> Accessing Applications </span> </a> </li> <li class=md-nav__item> <a href=../dns-resolution/ class=md-nav__link> <span class=md-ellipsis> DNS Resolution </span> </a> </li> <li class=md-nav__item> <a href=../dns-curl-debugging/ class=md-nav__link> <span class=md-ellipsis> DNS Curl Debugging </span> </a> </li> <li class=md-nav__item> <a href=../hostNetwork/ class=md-nav__link> <span class=md-ellipsis> Host Network </span> </a> </li> <li class=md-nav__item> <a href=../hostPort/ class=md-nav__link> <span class=md-ellipsis> Host Port </span> </a> </li> <li class=md-nav__item> <a href=../network-policy-guide/ class=md-nav__link> <span class=md-ellipsis> Network Policy Guide </span> </a> </li> <li class=md-nav__item> <a href=../netpol-labeling-guide/ class=md-nav__link> <span class=md-ellipsis> Network Policy Labeling Guide </span> </a> </li> <li class=md-nav__item> <a href=../ingress-basic/ class=md-nav__link> <span class=md-ellipsis> Ingress Basic </span> </a> </li> <li class=md-nav__item> <a href=../ingress-manifest/ class=md-nav__link> <span class=md-ellipsis> Ingress Manifest </span> </a> </li> <li class=md-nav__item> <a href=../ingress-cli/ class=md-nav__link> <span class=md-ellipsis> Ingress CLI </span> </a> </li> <li class=md-nav__item> <a href=../ingress-example/ class=md-nav__link> <span class=md-ellipsis> Ingress Example </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Ingress Lab </span> </a> </li> <li class=md-nav__item> <a href=../ingress-testing/ class=md-nav__link> <span class=md-ellipsis> Ingress Testing </span> </a> </li> <li class=md-nav__item> <a href=../ingress-rewrite-concept/ class=md-nav__link> <span class=md-ellipsis> Ingress Rewrite Concept </span> </a> </li> <li class=md-nav__item> <a href=../ingress-migration-to-gatewayapi/ class=md-nav__link> <span class=md-ellipsis> Ingress Migration to Gateway API </span> </a> </li> <li class=md-nav__item> <a href=../gateway-api/ class=md-nav__link> <span class=md-ellipsis> Gateway API </span> </a> </li> <li class=md-nav__item> <a href=../gateway-lab/ class=md-nav__link> <span class=md-ellipsis> Gateway Lab </span> </a> </li> <li class=md-nav__item> <a href=../httproute-advanced/ class=md-nav__link> <span class=md-ellipsis> HTTP Route Advanced </span> </a> </li> <li class=md-nav__item> <a href=../k8s-https-guide/ class=md-nav__link> <span class=md-ellipsis> Kubernetes HTTPS Guide </span> </a> </li> <li class=md-nav__item> <a href=../k8s-https-faqs/ class=md-nav__link> <span class=md-ellipsis> Kubernetes HTTPS FAQs </span> </a> </li> <li class=md-nav__item> <a href=../ssl-tls-cert-guide/ class=md-nav__link> <span class=md-ellipsis> SSL TLS Certificate Guide </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../04-storage/ class=md-nav__link> <span class=md-ellipsis> Storage </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../05-scheduling-and-affinity/taints-affinity-guide-a/ class=md-nav__link> <span class=md-ellipsis> Scheduling & Affinity </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../06-resource-management/01-resource-quota-guide/ class=md-nav__link> <span class=md-ellipsis> Resource Management </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../07-security/rbac/ class=md-nav__link> <span class=md-ellipsis> Security </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../08-debugging-monitoring/probe/ class=md-nav__link> <span class=md-ellipsis> Debugging & Monitoring </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../09-workloads/pod-guide/ class=md-nav__link> <span class=md-ellipsis> Workloads </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../10-references/imperative-commands/ class=md-nav__link> <span class=md-ellipsis> References </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../unorganized/k8s/ class=md-nav__link> <span class=md-ellipsis> Unorganized </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../../CKA-KodeKloud-Complete-Notes.pdf class=md-nav__link> <span class=md-ellipsis> CKA KodeKloud Complete Notes </span> </a> </li> <li class=md-nav__item> <a href=../../practice-checklist/ class=md-nav__link> <span class=md-ellipsis> Practice Checklist </span> </a> </li> <li class=md-nav__item> <a href=../../error-logs/ class=md-nav__link> <span class=md-ellipsis> Error Logs </span> </a> </li> <li class=md-nav__item> <a href=../../wazahat-nama/ class=md-nav__link> <span class=md-ellipsis> Wazahat Nama </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../helm/ class=md-nav__link> <span class=md-ellipsis> Helm </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../kustomize/ class=md-nav__link> <span class=md-ellipsis> Kustomize </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../containerd/ class=md-nav__link> <span class=md-ellipsis> Containerd </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../delivery/git/gitCheatSheet/ class=md-nav__link> <span class=md-ellipsis> CI/CD & Software Delivery </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../cloud-infrastructure/aws/introduction/ class=md-nav__link> <span class=md-ellipsis> Cloud & Infrastructure </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../servers/ class=md-nav__link> <span class=md-ellipsis> Servers & Runtime Systems </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../observability-security/trivy/Trivy/ class=md-nav__link> <span class=md-ellipsis> Observability & Security </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../operations/ class=md-nav__link> <span class=md-ellipsis> Operations & Self-Managed Systems </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../scratchpad/ class=md-nav__link> <span class=md-ellipsis> Engineering Scratchpad </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../technical-grounding/ class=md-nav__link> <span class=md-ellipsis> Technical Grounding </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=../../../.. class=md-path__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-path__item> <a href=../../../docker/ class=md-path__link> <span class=md-ellipsis> Containers & Orchestration </span> </a> </li> <li class=md-path__item> <a href=../../ class=md-path__link> <span class=md-ellipsis> Kubernetes </span> </a> </li> <li class=md-path__item> <a href=../networking-in-k8s/ class=md-path__link> <span class=md-ellipsis> Networking </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1>Ingress Lab</h1> <h2 id=controlplane---k-get-no--o-wide-name-status-roles-age-version-internal-ip-external-ip-os-image-kernel-version-container-runtime-controlplane-ready-control-plane-41m-v1330-192168121223--ubuntu-22045-lts-5150-1083-gcp-containerd1626-node01-ready--40m-v1330-192168102168--ubuntu-22045-lts-5150-1083-gcp-containerd1626-node02-ready--40m-v1330-192168121196--ubuntu-22045-lts-5150-1083-gcp-containerd1626--installation-controlplane---kubectl-apply--f-httpsrawgithubusercontentcomkubernetesingress-nginxcontroller-v1130deploystaticproviderclouddeployyaml-namespaceingress-nginx-created-serviceaccountingress-nginx-created-serviceaccountingress-nginx-admission-created-rolerbacauthorizationk8sioingress-nginx-created-rolerbacauthorizationk8sioingress-nginx-admission-created-clusterrolerbacauthorizationk8sioingress-nginx-created-clusterrolerbacauthorizationk8sioingress-nginx-admission-created-rolebindingrbacauthorizationk8sioingress-nginx-created-rolebindingrbacauthorizationk8sioingress-nginx-admission-created-clusterrolebindingrbacauthorizationk8sioingress-nginx-created-clusterrolebindingrbacauthorizationk8sioingress-nginx-admission-created-configmapingress-nginx-controller-created-serviceingress-nginx-controller-created-serviceingress-nginx-controller-admission-created-deploymentappsingress-nginx-controller-created-jobbatchingress-nginx-admission-create-created-jobbatchingress-nginx-admission-patch-created-ingressclassnetworkingk8sionginx-created-validatingwebhookconfigurationadmissionregistrationk8sioingress-nginx-admission-created-controlplane---k-get-all--n-ingress-nginx-name-ready-status-restarts-age-podingress-nginx-controller-95f6586c6-2mskp-11-running-0-55s-name-type-cluster-ip-external-ip-ports-age-serviceingress-nginx-controller-loadbalancer-172203622--8031987tcp44331268tcp-55s-serviceingress-nginx-controller-admission-clusterip-1722021537--443tcp-55s-name-ready-up-to-date-available-age-deploymentappsingress-nginx-controller-11-1-1-55s-name-desired-current-ready-age-replicasetappsingress-nginx-controller-95f6586c6-1-1-1-55s-controlplane---k-get-svc--n-ingress-nginx-name-type-cluster-ip-external-ip-ports-age-ingress-nginx-controller-loadbalancer-172203622--8031987tcp44331268tcp-89s-ingress-nginx-controller-admission-clusterip-1722021537--443tcp-89s-controlplane---k-create-deploy-nginx--r-3---port-80-error-required-flags-image-not-set-controlplane---k-create-deploy-nginx--r-3---port-80---image-nginx-deploymentappsnginx-created-controlplane---k-expose-deployment-nginx---port-80-servicenginx-exposed-controlplane---k-get-svc-nginx-name-type-cluster-ip-external-ip-ports-age-nginx-clusterip-172201723--80tcp-19s-controlplane---k-describe-svc-nginx-name-nginx-namespace-default-labels-appnginx-annotations--selector-appnginx-type-clusterip-ip-family-policy-singlestack-ip-families-ipv4-ip-172201723-ips-172201723-port--80tcp-targetport-80tcp-endpoints-172171480172172380172172480-session-affinity-none-internal-traffic-policy-cluster-events--controlplane---vi-ingressyaml-controlplane---k-describe-deploy--n-ingress-nginx-name-ingress-nginx-controller-namespace-ingress-nginx-args-nginx-ingress-controller---publish-servicepod_namespaceingress-nginx-controller---election-idingress-nginx-leader---controller-classk8sioingress-nginx---ingress-classnginx---configmappod_namespaceingress-nginx-controller---validating-webhook8443---validating-webhook-certificateusrlocalcertificatescert---validating-webhook-keyusrlocalcertificateskey-events-type-reason-age-from-message-------------------------------normal-scalingreplicaset-6m32s-deployment-controller-scaled-up-replica-set-ingress-nginx-controller-95f6586c6-from-0-to-1-controlplane---cat-ingressyaml-apiversion-networkingk8siov1-kind-ingress-metadata-name-ibtisam-ingress-annotations-nginxingresskubernetesiorewrite-target--spec-ingressclassname-nginx-rules---http-paths---path-ibtisam-pathtype-prefix-backend-service-name-nginx-port-number-80-controlplane---k-apply--f-ingressyaml-ingressnetworkingk8sioibtisam-ingress-created-controlplane---k-get-ingress-name-class-hosts-address-ports-age--because-service-type-of-ingress-is-loadbalancer-ibtisam-ingress-nginx--80-9s-controlplane---k-describe-ingress-ibtisam-ingress-name-ibtisam-ingress-labels--namespace-default-address-ingress-class-nginx-default-backend--rules-host-path-backends---------------------ibtisam-nginx80-172171480172172380172172480-annotations-nginxingresskubernetesiorewrite-target--events-type-reason-age-from-message-------------------------------normal-sync-24s-nginx-ingress-controller-scheduled-for-sync-controlplane---k-get-no--o-wide-name-status-roles-age-version-internal-ip-external-ip-os-image-kernel-version-container-runtime-controlplane-ready-control-plane-50m-v1330-192168121223--ubuntu-22045-lts-5150-1083-gcp-containerd1626-node01-ready--49m-v1330-192168102168--ubuntu-22045-lts-5150-1083-gcp-containerd1626-node02-ready--49m-v1330-192168121196--ubuntu-22045-lts-5150-1083-gcp-containerd1626-controlplane---k-get-svc--n-ingress-nginx-name-type-cluster-ip-external-ip-ports-age-ingress-nginx-controller-loadbalancer-172203622--8031987tcp44331268tcp-8m41s-ingress-nginx-controller-admission-clusterip-1722021537--443tcp-8m41s-controlplane---curl-http19216812122331987ibtisam--accessible-on-controlplane-node-only----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx---controlplane---curl-http19216810216831987ibtisam--ip-of-node01-c-controlplane---curl-https19216812122331987ibtisam-curl-35-error0a00010bssl-routineswrong-version-number-controlplane---k-edit-svc--n-ingress-nginx-ingress-nginx-controller--type-is-changed-serviceingress-nginx-controller-edited-controlplane---k-get-svc--n-ingress-nginx-ingress-nginx-controller--external-ip-dont-assign-even-you-changed-the-type-name-type-cluster-ip-external-ip-ports-age-ingress-nginx-controller-nodeport-172203622--8031987tcp44331268tcp-11m-controlplane---k-get-ingress-ibtisam-ingress--ip-is-assigned-after-changing-the-servive-type-name-class-hosts-address-ports-age-ibtisam-ingress-nginx--172203622-80-5m15s-controlplane---curl-http19216810216831987ibtisam-c-controlplane---k-run-testpod---image-busybox---restartnever---it----sh--we-got-the-ip-assigned-so-testing-it-from-inside-the-cluster-error-unknown-flag---it-see-kubectl-run---help-for-usage-controlplane---k-run-testpod---image-busybox---restartnever--it----sh-if-you-dont-see-a-command-prompt-try-pressing-enter---curl-172203622ibtisam-sh-curl-not-found---wget--qo-http172203622ibtisam-busybox-v1370-2024-09-26-213142-utc-multi-call-binary-usage-wget--cqs---spider--o-file--o-logfile---header-str---post-data-str----post-file-file--y-onoff---no-check-certificate--p-dir--u-agent--t-sec-url-retrieve-files-via-http-or-ftp---spider-only-check-url-existence--is-0-if-exists---header-str-add-str-of-form-header-value-to-headers---post-data-str-send-str-using-post-method---post-file-file-send-file-using-post-method---no-check-certificate-dont-validate-the-servers-certificate--c-continue-retrieval-of-aborted-transfer--q-quiet--p-dir-save-to-dir-default---s-show-server-response--t-sec-network-read-timeout-is-sec-seconds--o-file-save-to-file---for-stdout--o-logfile-log-messages-to-file--u-str-use-str-for-user-agent-header--y-onoff-use-proxy---wget--qo--http172203622ibtisam----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx-----exit-controlplane---k-describe-ingress-ibtisam-ingress-name-ibtisam-ingress-labels--namespace-default-address-172203622-ingress-class-nginx-default-backend--rules-host-path-backends---------------------ibtisam-nginx80-172171480172172380172172480-annotations-nginxingresskubernetesiorewrite-target--events-type-reason-age-from-message-------------------------------normal-sync-11m-x2-over-16m-nginx-ingress-controller-scheduled-for-sync--new-ingress-is-applied-to-test-the-host-controlplane---vi-ingress-2yaml-controlplane---cat-ingress-2yaml-apiversion-networkingk8siov1-kind-ingress-metadata-name-ibtisam-ingress2-annotations-nginxingresskubernetesiorewrite-target--spec-ingressclassname-nginx-rules--rule-1-match-with-host-ibtisam-iqcom---host-ibtisam-iqcom-http-paths---path-ibtisam-pathtype-prefix-backend-service-name-nginx-port-number-80-controlplane---k-apply--f-ingress-2yaml-ingressnetworkingk8sioibtisam-ingress2-created-controlplane---k-get-ingress-name-class-hosts-address-ports-age-ibtisam-ingress-nginx--172203622-80-26m-ibtisam-ingress2-nginx-ibtisam-iqcom-80-25s-controlplane---curl-http19216812122331987ibtisam--it-shouldnt-access-this-way-accessing-because-it-points-to-first-ingress----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx----create-new-deployment-new-service-and-update-the-2nd-ingress-accordingly-and-delete-the-first-ingress--so-that-curl-http19216812122331987ibtisam-remain-no-longer-accessible-controlplane---k-expose-create-deploy-nginx2---image-nginx--r-3-error-unknown-flag---image-see-kubectl-expose---help-for-usage-controlplane---k-create-deploy-nginx2---image-nginx--r-3-deploymentappsnginx2-created-controlplane---k-expose-deploy-nginx2---port-80-servicenginx2-exposed-controlplane---k-edit-ingress-ibtisam-ingress2-ingressnetworkingk8sioibtisam-ingress2-edited-controlplane---k-get-ingress-name-class-hosts-address-ports-age-ibtisam-ingress-nginx--172203622-80-32m-ibtisam-ingress2-nginx-ibtisam-iqcom-172203622-80-6m37s-controlplane---curl-http19216812122331987ibtisam--still-accessible-because-first-ingress-is-not-deleted-yet----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx---controlplane---k-delete-ingress-ibtisam-ingress-ingressnetworkingk8sio-ibtisam-ingress-deleted-controlplane---k-get-ingress-name-class-hosts-address-ports-age-ibtisam-ingress2-nginx-ibtisam-iqcom-172203622-80-8m31s-controlplane---k-get-svc-name-type-cluster-ip-external-ip-ports-age-kubernetes-clusterip-1722001--443tcp-84m-nginx-clusterip-172201723--80tcp-39m-nginx2-clusterip-17220117247--80tcp-3m12s-controlplane---k-describe-ingress-ibtisam-ingress2-name-ibtisam-ingress2-labels--namespace-default-address-172203622-ingress-class-nginx-default-backend--rules-host-path-backends--------------------ibtisam-iqcom-ibtisam-nginx280-172171680172172580172171780-annotations-nginxingresskubernetesiorewrite-target--events-type-reason-age-from-message-------------------------------normal-sync-2m45s-x3-over-9m13s-nginx-ingress-controller-scheduled-for-sync-controlplane---k-get-svc--n-ingress-nginx-ingress-nginx-controller-name-type-cluster-ip-external-ip-ports-age-ingress-nginx-controller-nodeport-172203622--8031987tcp44331268tcp-43m-controlplane---curl-http19216812122331987ibtisam--first-ingress-is-deleted-so-it-is-no-longer-accessible--404-not-found--404-not-found-nginx---controlplane---curl--h-host-ibtisam-iqcom-http19216812122331987ibtisam--required-output-accessible-now-with---h----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx---controlplane---vi-etchosts--add-the-host-to-etchosts-if-you-want-to-accessible-it-without--h-flag-controlplane---cat-etchosts--kubernetes-managed-hosts-file-127001-localhost-1-localhost-ip6-localhost-ip6-loopback-fe000-ip6-localnet-fe000-ip6-mcastprefix-fe001-ip6-allnodes-fe002-ip6-allrouters-192168121223-controlplane-192168121223-ibtisam-iqcom--entries-added-by-hostaliases-10006-docker-registry-mirrorkodekloudcom-10006-docker-registry-mirrorkodekloudcom-controlplane---curl-httpibtisam-iqcom31987ibtisam----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx---controlplane--><div class="language-bash highlight"><pre><span></span><code><span id=__span-0-1>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>no<span class=w> </span>-o<span class=w> </span>wide
</span><span id=__span-0-2>NAME<span class=w>           </span>STATUS<span class=w>   </span>ROLES<span class=w>           </span>AGE<span class=w>   </span>VERSION<span class=w>   </span>INTERNAL-IP<span class=w>       </span>EXTERNAL-IP<span class=w>   </span>OS-IMAGE<span class=w>             </span>KERNEL-VERSION<span class=w>    </span>CONTAINER-RUNTIME
</span><span id=__span-0-3>controlplane<span class=w>   </span>Ready<span class=w>    </span>control-plane<span class=w>   </span>41m<span class=w>   </span>v1.33.0<span class=w>   </span><span class=m>192</span>.168.121.223<span class=w>   </span>&lt;none&gt;<span class=w>        </span>Ubuntu<span class=w> </span><span class=m>22</span>.04.5<span class=w> </span>LTS<span class=w>   </span><span class=m>5</span>.15.0-1083-gcp<span class=w>   </span>containerd://1.6.26
</span><span id=__span-0-4>node01<span class=w>         </span>Ready<span class=w>    </span>&lt;none&gt;<span class=w>          </span>40m<span class=w>   </span>v1.33.0<span class=w>   </span><span class=m>192</span>.168.102.168<span class=w>   </span>&lt;none&gt;<span class=w>        </span>Ubuntu<span class=w> </span><span class=m>22</span>.04.5<span class=w> </span>LTS<span class=w>   </span><span class=m>5</span>.15.0-1083-gcp<span class=w>   </span>containerd://1.6.26
</span><span id=__span-0-5>node02<span class=w>         </span>Ready<span class=w>    </span>&lt;none&gt;<span class=w>          </span>40m<span class=w>   </span>v1.33.0<span class=w>   </span><span class=m>192</span>.168.121.196<span class=w>   </span>&lt;none&gt;<span class=w>        </span>Ubuntu<span class=w> </span><span class=m>22</span>.04.5<span class=w> </span>LTS<span class=w>   </span><span class=m>5</span>.15.0-1083-gcp<span class=w>   </span>containerd://1.6.26
</span><span id=__span-0-6>
</span><span id=__span-0-7><span class=c1># installation</span>
</span><span id=__span-0-8>
</span><span id=__span-0-9>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>kubectl<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span>https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.13.0/deploy/static/provider/cloud/deploy.yaml
</span><span id=__span-0-10>namespace/ingress-nginx<span class=w> </span>created
</span><span id=__span-0-11>serviceaccount/ingress-nginx<span class=w> </span>created
</span><span id=__span-0-12>serviceaccount/ingress-nginx-admission<span class=w> </span>created
</span><span id=__span-0-13>role.rbac.authorization.k8s.io/ingress-nginx<span class=w> </span>created
</span><span id=__span-0-14>role.rbac.authorization.k8s.io/ingress-nginx-admission<span class=w> </span>created
</span><span id=__span-0-15>clusterrole.rbac.authorization.k8s.io/ingress-nginx<span class=w> </span>created
</span><span id=__span-0-16>clusterrole.rbac.authorization.k8s.io/ingress-nginx-admission<span class=w> </span>created
</span><span id=__span-0-17>rolebinding.rbac.authorization.k8s.io/ingress-nginx<span class=w> </span>created
</span><span id=__span-0-18>rolebinding.rbac.authorization.k8s.io/ingress-nginx-admission<span class=w> </span>created
</span><span id=__span-0-19>clusterrolebinding.rbac.authorization.k8s.io/ingress-nginx<span class=w> </span>created
</span><span id=__span-0-20>clusterrolebinding.rbac.authorization.k8s.io/ingress-nginx-admission<span class=w> </span>created
</span><span id=__span-0-21>configmap/ingress-nginx-controller<span class=w> </span>created
</span><span id=__span-0-22>service/ingress-nginx-controller<span class=w> </span>created
</span><span id=__span-0-23>service/ingress-nginx-controller-admission<span class=w> </span>created
</span><span id=__span-0-24>deployment.apps/ingress-nginx-controller<span class=w> </span>created
</span><span id=__span-0-25>job.batch/ingress-nginx-admission-create<span class=w> </span>created
</span><span id=__span-0-26>job.batch/ingress-nginx-admission-patch<span class=w> </span>created
</span><span id=__span-0-27>ingressclass.networking.k8s.io/nginx<span class=w> </span>created
</span><span id=__span-0-28>validatingwebhookconfiguration.admissionregistration.k8s.io/ingress-nginx-admission<span class=w> </span>created
</span><span id=__span-0-29>
</span><span id=__span-0-30>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>all<span class=w> </span>-n<span class=w> </span>ingress-nginx<span class=w> </span>
</span><span id=__span-0-31>NAME<span class=w>                                           </span>READY<span class=w>   </span>STATUS<span class=w>    </span>RESTARTS<span class=w>   </span>AGE
</span><span id=__span-0-32>pod/ingress-nginx-controller-95f6586c6-2mskp<span class=w>   </span><span class=m>1</span>/1<span class=w>     </span>Running<span class=w>   </span><span class=m>0</span><span class=w>          </span>55s
</span><span id=__span-0-33>
</span><span id=__span-0-34>NAME<span class=w>                                         </span>TYPE<span class=w>           </span>CLUSTER-IP<span class=w>      </span>EXTERNAL-IP<span class=w>   </span>PORT<span class=o>(</span>S<span class=o>)</span><span class=w>                      </span>AGE
</span><span id=__span-0-35>service/ingress-nginx-controller<span class=w>             </span>LoadBalancer<span class=w>   </span><span class=m>172</span>.20.36.22<span class=w>    </span>&lt;pending&gt;<span class=w>     </span><span class=m>80</span>:31987/TCP,443:31268/TCP<span class=w>   </span>55s
</span><span id=__span-0-36>service/ingress-nginx-controller-admission<span class=w>   </span>ClusterIP<span class=w>      </span><span class=m>172</span>.20.215.37<span class=w>   </span>&lt;none&gt;<span class=w>        </span><span class=m>443</span>/TCP<span class=w>                      </span>55s
</span><span id=__span-0-37>
</span><span id=__span-0-38>NAME<span class=w>                                       </span>READY<span class=w>   </span>UP-TO-DATE<span class=w>   </span>AVAILABLE<span class=w>   </span>AGE
</span><span id=__span-0-39>deployment.apps/ingress-nginx-controller<span class=w>   </span><span class=m>1</span>/1<span class=w>     </span><span class=m>1</span><span class=w>            </span><span class=m>1</span><span class=w>           </span>55s
</span><span id=__span-0-40>
</span><span id=__span-0-41>NAME<span class=w>                                                 </span>DESIRED<span class=w>   </span>CURRENT<span class=w>   </span>READY<span class=w>   </span>AGE
</span><span id=__span-0-42>replicaset.apps/ingress-nginx-controller-95f6586c6<span class=w>   </span><span class=m>1</span><span class=w>         </span><span class=m>1</span><span class=w>         </span><span class=m>1</span><span class=w>       </span>55s
</span><span id=__span-0-43>
</span><span id=__span-0-44>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>svc<span class=w> </span>-n<span class=w> </span>ingress-nginx<span class=w> </span>
</span><span id=__span-0-45>NAME<span class=w>                                 </span>TYPE<span class=w>           </span>CLUSTER-IP<span class=w>      </span>EXTERNAL-IP<span class=w>   </span>PORT<span class=o>(</span>S<span class=o>)</span><span class=w>                      </span>AGE
</span><span id=__span-0-46>ingress-nginx-controller<span class=w>             </span>LoadBalancer<span class=w>   </span><span class=m>172</span>.20.36.22<span class=w>    </span>&lt;pending&gt;<span class=w>     </span><span class=m>80</span>:31987/TCP,443:31268/TCP<span class=w>   </span>89s
</span><span id=__span-0-47>ingress-nginx-controller-admission<span class=w>   </span>ClusterIP<span class=w>      </span><span class=m>172</span>.20.215.37<span class=w>   </span>&lt;none&gt;<span class=w>        </span><span class=m>443</span>/TCP<span class=w>                      </span>89s
</span><span id=__span-0-48>
</span><span id=__span-0-49>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>create<span class=w> </span>deploy<span class=w> </span>nginx<span class=w> </span>-r<span class=w> </span><span class=m>3</span><span class=w> </span>--port<span class=w> </span><span class=m>80</span>
</span><span id=__span-0-50>error:<span class=w> </span>required<span class=w> </span>flag<span class=o>(</span>s<span class=o>)</span><span class=w> </span><span class=s2>&quot;image&quot;</span><span class=w> </span>not<span class=w> </span><span class=nb>set</span>
</span><span id=__span-0-51>
</span><span id=__span-0-52>controlplane<span class=w> </span>~<span class=w> </span>✖<span class=w> </span>k<span class=w> </span>create<span class=w> </span>deploy<span class=w> </span>nginx<span class=w> </span>-r<span class=w> </span><span class=m>3</span><span class=w> </span>--port<span class=w> </span><span class=m>80</span><span class=w> </span>--image<span class=w> </span>nginx
</span><span id=__span-0-53>deployment.apps/nginx<span class=w> </span>created
</span><span id=__span-0-54>
</span><span id=__span-0-55>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>expose<span class=w> </span>deployment<span class=w> </span>nginx<span class=w> </span>--port<span class=w> </span><span class=m>80</span>
</span><span id=__span-0-56>service/nginx<span class=w> </span>exposed
</span><span id=__span-0-57>
</span><span id=__span-0-58>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>svc<span class=w> </span>nginx<span class=w> </span>
</span><span id=__span-0-59>NAME<span class=w>    </span>TYPE<span class=w>        </span>CLUSTER-IP<span class=w>     </span>EXTERNAL-IP<span class=w>   </span>PORT<span class=o>(</span>S<span class=o>)</span><span class=w>   </span>AGE
</span><span id=__span-0-60>nginx<span class=w>   </span>ClusterIP<span class=w>   </span><span class=m>172</span>.20.17.23<span class=w>   </span>&lt;none&gt;<span class=w>        </span><span class=m>80</span>/TCP<span class=w>    </span>19s
</span><span id=__span-0-61>
</span><span id=__span-0-62>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>describe<span class=w> </span>svc<span class=w> </span>nginx<span class=w> </span>
</span><span id=__span-0-63>Name:<span class=w>                     </span>nginx
</span><span id=__span-0-64>Namespace:<span class=w>                </span>default
</span><span id=__span-0-65>Labels:<span class=w>                   </span><span class=nv>app</span><span class=o>=</span>nginx
</span><span id=__span-0-66>Annotations:<span class=w>              </span>&lt;none&gt;
</span><span id=__span-0-67>Selector:<span class=w>                 </span><span class=nv>app</span><span class=o>=</span>nginx
</span><span id=__span-0-68>Type:<span class=w>                     </span>ClusterIP
</span><span id=__span-0-69>IP<span class=w> </span>Family<span class=w> </span>Policy:<span class=w>         </span>SingleStack
</span><span id=__span-0-70>IP<span class=w> </span>Families:<span class=w>              </span>IPv4
</span><span id=__span-0-71>IP:<span class=w>                       </span><span class=m>172</span>.20.17.23
</span><span id=__span-0-72>IPs:<span class=w>                      </span><span class=m>172</span>.20.17.23
</span><span id=__span-0-73>Port:<span class=w>                     </span>&lt;unset&gt;<span class=w>  </span><span class=m>80</span>/TCP
</span><span id=__span-0-74>TargetPort:<span class=w>               </span><span class=m>80</span>/TCP
</span><span id=__span-0-75>Endpoints:<span class=w>                </span><span class=m>172</span>.17.1.4:80,172.17.2.3:80,172.17.2.4:80
</span><span id=__span-0-76>Session<span class=w> </span>Affinity:<span class=w>         </span>None
</span><span id=__span-0-77>Internal<span class=w> </span>Traffic<span class=w> </span>Policy:<span class=w>  </span>Cluster
</span><span id=__span-0-78>Events:<span class=w>                   </span>&lt;none&gt;
</span><span id=__span-0-79>
</span><span id=__span-0-80>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>vi<span class=w> </span>ingress.yaml
</span><span id=__span-0-81>
</span><span id=__span-0-82>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>describe<span class=w> </span>deploy<span class=w> </span>-n<span class=w> </span>ingress-nginx<span class=w> </span>
</span><span id=__span-0-83>Name:<span class=w>                   </span>ingress-nginx-controller
</span><span id=__span-0-84>Namespace:<span class=w>              </span>ingress-nginx
</span><span id=__span-0-85>
</span><span id=__span-0-86><span class=w>    </span>Args:
</span><span id=__span-0-87><span class=w>      </span>/nginx-ingress-controller
</span><span id=__span-0-88><span class=w>      </span>--publish-service<span class=o>=</span><span class=k>$(</span>POD_NAMESPACE<span class=k>)</span>/ingress-nginx-controller
</span><span id=__span-0-89><span class=w>      </span>--election-id<span class=o>=</span>ingress-nginx-leader
</span><span id=__span-0-90><span class=w>      </span>--controller-class<span class=o>=</span>k8s.io/ingress-nginx
</span><span id=__span-0-91><span class=w>      </span>--ingress-class<span class=o>=</span>nginx
</span><span id=__span-0-92><span class=w>      </span>--configmap<span class=o>=</span><span class=k>$(</span>POD_NAMESPACE<span class=k>)</span>/ingress-nginx-controller
</span><span id=__span-0-93><span class=w>      </span>--validating-webhook<span class=o>=</span>:8443
</span><span id=__span-0-94><span class=w>      </span>--validating-webhook-certificate<span class=o>=</span>/usr/local/certificates/cert
</span><span id=__span-0-95><span class=w>      </span>--validating-webhook-key<span class=o>=</span>/usr/local/certificates/key
</span><span id=__span-0-96>Events:
</span><span id=__span-0-97><span class=w>  </span>Type<span class=w>    </span>Reason<span class=w>             </span>Age<span class=w>    </span>From<span class=w>                   </span>Message
</span><span id=__span-0-98><span class=w>  </span>----<span class=w>    </span>------<span class=w>             </span>----<span class=w>   </span>----<span class=w>                   </span>-------
</span><span id=__span-0-99><span class=w>  </span>Normal<span class=w>  </span>ScalingReplicaSet<span class=w>  </span>6m32s<span class=w>  </span>deployment-controller<span class=w>  </span>Scaled<span class=w> </span>up<span class=w> </span>replica<span class=w> </span><span class=nb>set</span><span class=w> </span>ingress-nginx-controller-95f6586c6<span class=w> </span>from<span class=w> </span><span class=m>0</span><span class=w> </span>to<span class=w> </span><span class=m>1</span>
</span><span id=__span-0-100>
</span><span id=__span-0-101>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>cat<span class=w> </span>ingress.yaml<span class=w> </span>
</span><span id=__span-0-102>apiVersion:<span class=w> </span>networking.k8s.io/v1
</span><span id=__span-0-103>kind:<span class=w> </span>Ingress
</span><span id=__span-0-104>metadata:
</span><span id=__span-0-105><span class=w>  </span>name:<span class=w> </span>ibtisam-ingress
</span><span id=__span-0-106><span class=w>  </span>annotations:
</span><span id=__span-0-107><span class=w>    </span>nginx.ingress.kubernetes.io/rewrite-target:<span class=w> </span>/
</span><span id=__span-0-108>spec:
</span><span id=__span-0-109><span class=w>  </span>ingressClassName:<span class=w> </span>nginx
</span><span id=__span-0-110><span class=w>  </span>rules:
</span><span id=__span-0-111><span class=w>  </span>-<span class=w> </span>http:
</span><span id=__span-0-112><span class=w>      </span>paths:
</span><span id=__span-0-113><span class=w>      </span>-<span class=w> </span>path:<span class=w> </span>/ibtisam
</span><span id=__span-0-114><span class=w>        </span>pathType:<span class=w> </span>Prefix
</span><span id=__span-0-115><span class=w>        </span>backend:
</span><span id=__span-0-116><span class=w>          </span>service:
</span><span id=__span-0-117><span class=w>            </span>name:<span class=w> </span>nginx
</span><span id=__span-0-118><span class=w>            </span>port:
</span><span id=__span-0-119><span class=w>              </span>number:<span class=w> </span><span class=m>80</span>
</span><span id=__span-0-120>
</span><span id=__span-0-121>
</span><span id=__span-0-122>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>apply<span class=w> </span>-f<span class=w> </span>ingress.yaml<span class=w> </span>
</span><span id=__span-0-123>ingress.networking.k8s.io/ibtisam-ingress<span class=w> </span>created
</span><span id=__span-0-124>
</span><span id=__span-0-125>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>ingress
</span><span id=__span-0-126>NAME<span class=w>              </span>CLASS<span class=w>   </span>HOSTS<span class=w>   </span>ADDRESS<span class=w>   </span>PORTS<span class=w>   </span>AGE<span class=w>      </span><span class=c1># because service type of ingress is Loadbalancer.</span>
</span><span id=__span-0-127>ibtisam-ingress<span class=w>   </span>nginx<span class=w>   </span>*<span class=w>                 </span><span class=m>80</span><span class=w>      </span>9s
</span><span id=__span-0-128>
</span><span id=__span-0-129>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>describe<span class=w> </span>ingress<span class=w> </span>ibtisam-ingress<span class=w> </span>
</span><span id=__span-0-130>Name:<span class=w>             </span>ibtisam-ingress
</span><span id=__span-0-131>Labels:<span class=w>           </span>&lt;none&gt;
</span><span id=__span-0-132>Namespace:<span class=w>        </span>default
</span><span id=__span-0-133>Address:<span class=w>          </span>
</span><span id=__span-0-134>Ingress<span class=w> </span>Class:<span class=w>    </span>nginx
</span><span id=__span-0-135>Default<span class=w> </span>backend:<span class=w>  </span>&lt;default&gt;
</span><span id=__span-0-136>Rules:
</span><span id=__span-0-137><span class=w>  </span>Host<span class=w>        </span>Path<span class=w>  </span>Backends
</span><span id=__span-0-138><span class=w>  </span>----<span class=w>        </span>----<span class=w>  </span>--------
</span><span id=__span-0-139><span class=w>  </span>*<span class=w>           </span>
</span><span id=__span-0-140><span class=w>              </span>/ibtisam<span class=w>   </span>nginx:80<span class=w> </span><span class=o>(</span><span class=m>172</span>.17.1.4:80,172.17.2.3:80,172.17.2.4:80<span class=o>)</span>
</span><span id=__span-0-141>Annotations:<span class=w>  </span>nginx.ingress.kubernetes.io/rewrite-target:<span class=w> </span>/
</span><span id=__span-0-142>Events:
</span><span id=__span-0-143><span class=w>  </span>Type<span class=w>    </span>Reason<span class=w>  </span>Age<span class=w>   </span>From<span class=w>                      </span>Message
</span><span id=__span-0-144><span class=w>  </span>----<span class=w>    </span>------<span class=w>  </span>----<span class=w>  </span>----<span class=w>                      </span>-------
</span><span id=__span-0-145><span class=w>  </span>Normal<span class=w>  </span>Sync<span class=w>    </span>24s<span class=w>   </span>nginx-ingress-controller<span class=w>  </span>Scheduled<span class=w> </span><span class=k>for</span><span class=w> </span>sync
</span><span id=__span-0-146>
</span><span id=__span-0-147>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>no<span class=w> </span>-o<span class=w> </span>wide
</span><span id=__span-0-148>NAME<span class=w>           </span>STATUS<span class=w>   </span>ROLES<span class=w>           </span>AGE<span class=w>   </span>VERSION<span class=w>   </span>INTERNAL-IP<span class=w>       </span>EXTERNAL-IP<span class=w>   </span>OS-IMAGE<span class=w>             </span>KERNEL-VERSION<span class=w>    </span>CONTAINER-RUNTIME
</span><span id=__span-0-149>controlplane<span class=w>   </span>Ready<span class=w>    </span>control-plane<span class=w>   </span>50m<span class=w>   </span>v1.33.0<span class=w>   </span><span class=m>192</span>.168.121.223<span class=w>   </span>&lt;none&gt;<span class=w>        </span>Ubuntu<span class=w> </span><span class=m>22</span>.04.5<span class=w> </span>LTS<span class=w>   </span><span class=m>5</span>.15.0-1083-gcp<span class=w>   </span>containerd://1.6.26
</span><span id=__span-0-150>node01<span class=w>         </span>Ready<span class=w>    </span>&lt;none&gt;<span class=w>          </span>49m<span class=w>   </span>v1.33.0<span class=w>   </span><span class=m>192</span>.168.102.168<span class=w>   </span>&lt;none&gt;<span class=w>        </span>Ubuntu<span class=w> </span><span class=m>22</span>.04.5<span class=w> </span>LTS<span class=w>   </span><span class=m>5</span>.15.0-1083-gcp<span class=w>   </span>containerd://1.6.26
</span><span id=__span-0-151>node02<span class=w>         </span>Ready<span class=w>    </span>&lt;none&gt;<span class=w>          </span>49m<span class=w>   </span>v1.33.0<span class=w>   </span><span class=m>192</span>.168.121.196<span class=w>   </span>&lt;none&gt;<span class=w>        </span>Ubuntu<span class=w> </span><span class=m>22</span>.04.5<span class=w> </span>LTS<span class=w>   </span><span class=m>5</span>.15.0-1083-gcp<span class=w>   </span>containerd://1.6.26
</span><span id=__span-0-152>
</span><span id=__span-0-153>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>svc<span class=w> </span>-n<span class=w> </span>ingress-nginx<span class=w> </span>
</span><span id=__span-0-154>NAME<span class=w>                                 </span>TYPE<span class=w>           </span>CLUSTER-IP<span class=w>      </span>EXTERNAL-IP<span class=w>   </span>PORT<span class=o>(</span>S<span class=o>)</span><span class=w>                      </span>AGE
</span><span id=__span-0-155>ingress-nginx-controller<span class=w>             </span>LoadBalancer<span class=w>   </span><span class=m>172</span>.20.36.22<span class=w>    </span>&lt;pending&gt;<span class=w>     </span><span class=m>80</span>:31987/TCP,443:31268/TCP<span class=w>   </span>8m41s
</span><span id=__span-0-156>ingress-nginx-controller-admission<span class=w>   </span>ClusterIP<span class=w>      </span><span class=m>172</span>.20.215.37<span class=w>   </span>&lt;none&gt;<span class=w>        </span><span class=m>443</span>/TCP<span class=w>                      </span>8m41s
</span><span id=__span-0-157>
</span><span id=__span-0-158>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>curl<span class=w> </span>http://192.168.121.223:31987/ibtisam<span class=w>      </span><span class=c1># accessible on controlplane node only </span>
</span><span id=__span-0-159>&lt;!DOCTYPE<span class=w> </span>html&gt;
</span><span id=__span-0-160>&lt;html&gt;
</span><span id=__span-0-161>&lt;head&gt;
</span><span id=__span-0-162>&lt;title&gt;Welcome<span class=w> </span>to<span class=w> </span>nginx!&lt;/title&gt;
</span><span id=__span-0-163>&lt;style&gt;
</span><span id=__span-0-164>html<span class=w> </span><span class=o>{</span><span class=w> </span>color-scheme:<span class=w> </span>light<span class=w> </span>dark<span class=p>;</span><span class=w> </span><span class=o>}</span>
</span><span id=__span-0-165>body<span class=w> </span><span class=o>{</span><span class=w> </span>width:<span class=w> </span>35em<span class=p>;</span><span class=w> </span>margin:<span class=w> </span><span class=m>0</span><span class=w> </span>auto<span class=p>;</span>
</span><span id=__span-0-166>font-family:<span class=w> </span>Tahoma,<span class=w> </span>Verdana,<span class=w> </span>Arial,<span class=w> </span>sans-serif<span class=p>;</span><span class=w> </span><span class=o>}</span>
</span><span id=__span-0-167>&lt;/style&gt;
</span><span id=__span-0-168>&lt;/head&gt;
</span><span id=__span-0-169>&lt;body&gt;
</span><span id=__span-0-170>&lt;h1&gt;Welcome<span class=w> </span>to<span class=w> </span>nginx!&lt;/h1&gt;
</span><span id=__span-0-171>&lt;p&gt;If<span class=w> </span>you<span class=w> </span>see<span class=w> </span>this<span class=w> </span>page,<span class=w> </span>the<span class=w> </span>nginx<span class=w> </span>web<span class=w> </span>server<span class=w> </span>is<span class=w> </span>successfully<span class=w> </span>installed<span class=w> </span>and
</span><span id=__span-0-172>working.<span class=w> </span>Further<span class=w> </span>configuration<span class=w> </span>is<span class=w> </span>required.&lt;/p&gt;
</span><span id=__span-0-173>
</span><span id=__span-0-174>&lt;p&gt;For<span class=w> </span>online<span class=w> </span>documentation<span class=w> </span>and<span class=w> </span>support<span class=w> </span>please<span class=w> </span>refer<span class=w> </span>to
</span><span id=__span-0-175>&lt;a<span class=w> </span><span class=nv>href</span><span class=o>=</span><span class=s2>&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;
</span><span id=__span-0-176>Commercial<span class=w> </span>support<span class=w> </span>is<span class=w> </span>available<span class=w> </span>at
</span><span id=__span-0-177>&lt;a<span class=w> </span><span class=nv>href</span><span class=o>=</span><span class=s2>&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;
</span><span id=__span-0-178>
</span><span id=__span-0-179>&lt;p&gt;&lt;em&gt;Thank<span class=w> </span>you<span class=w> </span><span class=k>for</span><span class=w> </span>using<span class=w> </span>nginx.&lt;/em&gt;&lt;/p&gt;
</span><span id=__span-0-180>&lt;/body&gt;
</span><span id=__span-0-181>&lt;/html&gt;
</span><span id=__span-0-182>
</span><span id=__span-0-183>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>curl<span class=w> </span>http://192.168.102.168:31987/ibtisam<span class=w>     </span><span class=c1># ip of node01</span>
</span><span id=__span-0-184>^C
</span><span id=__span-0-185>
</span><span id=__span-0-186>controlplane<span class=w> </span>~<span class=w> </span>✖<span class=w> </span>curl<span class=w> </span>https://192.168.121.223:31987/ibtisam
</span><span id=__span-0-187>curl:<span class=w> </span><span class=o>(</span><span class=m>35</span><span class=o>)</span><span class=w> </span>error:0A00010B:SSL<span class=w> </span>routines::wrong<span class=w> </span>version<span class=w> </span>number
</span><span id=__span-0-188>
</span><span id=__span-0-189>controlplane<span class=w> </span>~<span class=w> </span>✖<span class=w> </span>k<span class=w> </span>edit<span class=w> </span>svc<span class=w> </span>-n<span class=w> </span>ingress-nginx<span class=w> </span>ingress-nginx-controller<span class=w>       </span><span class=c1># type is changed.</span>
</span><span id=__span-0-190>service/ingress-nginx-controller<span class=w> </span>edited
</span><span id=__span-0-191>
</span><span id=__span-0-192>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>svc<span class=w> </span>-n<span class=w> </span>ingress-nginx<span class=w> </span>ingress-nginx-controller<span class=w>      </span><span class=c1># External ip don&#39;t assign even you changed the type.</span>
</span><span id=__span-0-193>NAME<span class=w>                       </span>TYPE<span class=w>       </span>CLUSTER-IP<span class=w>     </span>EXTERNAL-IP<span class=w>   </span>PORT<span class=o>(</span>S<span class=o>)</span><span class=w>                      </span>AGE
</span><span id=__span-0-194>ingress-nginx-controller<span class=w>   </span>NodePort<span class=w>   </span><span class=m>172</span>.20.36.22<span class=w>   </span>&lt;none&gt;<span class=w>        </span><span class=m>80</span>:31987/TCP,443:31268/TCP<span class=w>   </span>11m
</span><span id=__span-0-195>
</span><span id=__span-0-196>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>ingress<span class=w> </span>ibtisam-ingress<span class=w>         </span><span class=c1># IP is assigned, after changing the servive type</span>
</span><span id=__span-0-197>NAME<span class=w>              </span>CLASS<span class=w>   </span>HOSTS<span class=w>   </span>ADDRESS<span class=w>        </span>PORTS<span class=w>   </span>AGE
</span><span id=__span-0-198>ibtisam-ingress<span class=w>   </span>nginx<span class=w>   </span>*<span class=w>       </span><span class=m>172</span>.20.36.22<span class=w>   </span><span class=m>80</span><span class=w>      </span>5m15s
</span><span id=__span-0-199>
</span><span id=__span-0-200>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>curl<span class=w> </span>http://192.168.102.168:31987/ibtisam
</span><span id=__span-0-201>^C
</span><span id=__span-0-202>
</span><span id=__span-0-203>controlplane<span class=w> </span>~<span class=w> </span>✖<span class=w> </span>k<span class=w> </span>run<span class=w> </span>testpod<span class=w> </span>--image<span class=w> </span>busybox<span class=w> </span>--restart<span class=o>=</span>Never<span class=w> </span>--it<span class=w> </span>--<span class=w> </span>sh<span class=w>   </span><span class=c1># we got the ip assigned, so testing it from inside the cluster</span>
</span><span id=__span-0-204>error:<span class=w> </span>unknown<span class=w> </span>flag:<span class=w> </span>--it
</span><span id=__span-0-205>See<span class=w> </span><span class=s1>&#39;kubectl run --help&#39;</span><span class=w> </span><span class=k>for</span><span class=w> </span>usage.
</span><span id=__span-0-206>
</span><span id=__span-0-207>controlplane<span class=w> </span>~<span class=w> </span>✖<span class=w> </span>k<span class=w> </span>run<span class=w> </span>testpod<span class=w> </span>--image<span class=w> </span>busybox<span class=w> </span>--restart<span class=o>=</span>Never<span class=w> </span>-it<span class=w> </span>--<span class=w> </span>sh
</span><span id=__span-0-208>If<span class=w> </span>you<span class=w> </span>don<span class=s1>&#39;t see a command prompt, try pressing enter.</span>
</span><span id=__span-0-209><span class=s1>/ # curl 172.20.36.22/ibtisam</span>
</span><span id=__span-0-210><span class=s1>sh: curl: not found</span>
</span><span id=__span-0-211><span class=s1>/ # wget -qO http://172.20.36.22/ibtisam</span>
</span><span id=__span-0-212><span class=s1>BusyBox v1.37.0 (2024-09-26 21:31:42 UTC) multi-call binary.</span>
</span><span id=__span-0-213>
</span><span id=__span-0-214><span class=s1>Usage: wget [-cqS] [--spider] [-O FILE] [-o LOGFILE] [--header STR]</span>
</span><span id=__span-0-215><span class=s1>        [--post-data STR | --post-file FILE] [-Y on/off]</span>
</span><span id=__span-0-216><span class=s1>        [--no-check-certificate] [-P DIR] [-U AGENT] [-T SEC] URL...</span>
</span><span id=__span-0-217>
</span><span id=__span-0-218><span class=s1>Retrieve files via HTTP or FTP</span>
</span><span id=__span-0-219>
</span><span id=__span-0-220><span class=s1>        --spider        Only check URL existence: $? is 0 if exists</span>
</span><span id=__span-0-221><span class=s1>        --header STR    Add STR (of form &#39;</span>header:<span class=w> </span>value<span class=s1>&#39;) to headers</span>
</span><span id=__span-0-222><span class=s1>        --post-data STR Send STR using POST method</span>
</span><span id=__span-0-223><span class=s1>        --post-file FILE        Send FILE using POST method</span>
</span><span id=__span-0-224><span class=s1>        --no-check-certificate  Don&#39;</span>t<span class=w> </span>validate<span class=w> </span>the<span class=w> </span>server<span class=s1>&#39;s certificate</span>
</span><span id=__span-0-225><span class=s1>        -c              Continue retrieval of aborted transfer</span>
</span><span id=__span-0-226><span class=s1>        -q              Quiet</span>
</span><span id=__span-0-227><span class=s1>        -P DIR          Save to DIR (default .)</span>
</span><span id=__span-0-228><span class=s1>        -S              Show server response</span>
</span><span id=__span-0-229><span class=s1>        -T SEC          Network read timeout is SEC seconds</span>
</span><span id=__span-0-230><span class=s1>        -O FILE         Save to FILE (&#39;</span>-<span class=s1>&#39; for stdout)</span>
</span><span id=__span-0-231><span class=s1>        -o LOGFILE      Log messages to FILE</span>
</span><span id=__span-0-232><span class=s1>        -U STR          Use STR for User-Agent header</span>
</span><span id=__span-0-233><span class=s1>        -Y on/off       Use proxy</span>
</span><span id=__span-0-234><span class=s1>/ # wget -qO- http://172.20.36.22/ibtisam</span>
</span><span id=__span-0-235><span class=s1>&lt;!DOCTYPE html&gt;</span>
</span><span id=__span-0-236><span class=s1>&lt;html&gt;</span>
</span><span id=__span-0-237><span class=s1>&lt;head&gt;</span>
</span><span id=__span-0-238><span class=s1>&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span>
</span><span id=__span-0-239><span class=s1>&lt;style&gt;</span>
</span><span id=__span-0-240><span class=s1>html { color-scheme: light dark; }</span>
</span><span id=__span-0-241><span class=s1>body { width: 35em; margin: 0 auto;</span>
</span><span id=__span-0-242><span class=s1>font-family: Tahoma, Verdana, Arial, sans-serif; }</span>
</span><span id=__span-0-243><span class=s1>&lt;/style&gt;</span>
</span><span id=__span-0-244><span class=s1>&lt;/head&gt;</span>
</span><span id=__span-0-245><span class=s1>&lt;body&gt;</span>
</span><span id=__span-0-246><span class=s1>&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span>
</span><span id=__span-0-247><span class=s1>&lt;p&gt;If you see this page, the nginx web server is successfully installed and</span>
</span><span id=__span-0-248><span class=s1>working. Further configuration is required.&lt;/p&gt;</span>
</span><span id=__span-0-249>
</span><span id=__span-0-250><span class=s1>&lt;p&gt;For online documentation and support please refer to</span>
</span><span id=__span-0-251><span class=s1>&lt;a href=&quot;http://nginx.org/&quot;&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;</span>
</span><span id=__span-0-252><span class=s1>Commercial support is available at</span>
</span><span id=__span-0-253><span class=s1>&lt;a href=&quot;http://nginx.com/&quot;&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;</span>
</span><span id=__span-0-254>
</span><span id=__span-0-255><span class=s1>&lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;</span>
</span><span id=__span-0-256><span class=s1>&lt;/body&gt;</span>
</span><span id=__span-0-257><span class=s1>&lt;/html&gt;</span>
</span><span id=__span-0-258><span class=s1>/ # exit</span>
</span><span id=__span-0-259>
</span><span id=__span-0-260><span class=s1>controlplane ~ ➜  k describe ingress ibtisam-ingress </span>
</span><span id=__span-0-261><span class=s1>Name:             ibtisam-ingress</span>
</span><span id=__span-0-262><span class=s1>Labels:           &lt;none&gt;</span>
</span><span id=__span-0-263><span class=s1>Namespace:        default</span>
</span><span id=__span-0-264><span class=s1>Address:          172.20.36.22</span>
</span><span id=__span-0-265><span class=s1>Ingress Class:    nginx</span>
</span><span id=__span-0-266><span class=s1>Default backend:  &lt;default&gt;</span>
</span><span id=__span-0-267><span class=s1>Rules:</span>
</span><span id=__span-0-268><span class=s1>  Host        Path  Backends</span>
</span><span id=__span-0-269><span class=s1>  ----        ----  --------</span>
</span><span id=__span-0-270><span class=s1>  *           </span>
</span><span id=__span-0-271><span class=s1>              /ibtisam   nginx:80 (172.17.1.4:80,172.17.2.3:80,172.17.2.4:80)</span>
</span><span id=__span-0-272><span class=s1>Annotations:  nginx.ingress.kubernetes.io/rewrite-target: /</span>
</span><span id=__span-0-273><span class=s1>Events:</span>
</span><span id=__span-0-274><span class=s1>  Type    Reason  Age                From                      Message</span>
</span><span id=__span-0-275><span class=s1>  ----    ------  ----               ----                      -------</span>
</span><span id=__span-0-276><span class=s1>  Normal  Sync    11m (x2 over 16m)  nginx-ingress-controller  Scheduled for sync</span>
</span><span id=__span-0-277>
</span><span id=__span-0-278>
</span><span id=__span-0-279><span class=s1># New ingress is applied to test the host.</span>
</span><span id=__span-0-280>
</span><span id=__span-0-281>
</span><span id=__span-0-282><span class=s1>controlplane ~ ➜  vi ingress-2.yaml</span>
</span><span id=__span-0-283>
</span><span id=__span-0-284><span class=s1>controlplane ~ ➜  cat ingress-2.yaml </span>
</span><span id=__span-0-285><span class=s1>apiVersion: networking.k8s.io/v1</span>
</span><span id=__span-0-286><span class=s1>kind: Ingress</span>
</span><span id=__span-0-287><span class=s1>metadata:</span>
</span><span id=__span-0-288><span class=s1>  name: ibtisam-ingress2</span>
</span><span id=__span-0-289><span class=s1>  annotations:</span>
</span><span id=__span-0-290><span class=s1>    nginx.ingress.kubernetes.io/rewrite-target: /</span>
</span><span id=__span-0-291><span class=s1>spec:</span>
</span><span id=__span-0-292><span class=s1>  ingressClassName: nginx</span>
</span><span id=__span-0-293><span class=s1>  rules:</span>
</span><span id=__span-0-294><span class=s1>    # Rule 1: Match with host &quot;ibtisam-iq.com&quot;</span>
</span><span id=__span-0-295><span class=s1>    - host: ibtisam-iq.com</span>
</span><span id=__span-0-296><span class=s1>      http:</span>
</span><span id=__span-0-297><span class=s1>        paths:</span>
</span><span id=__span-0-298><span class=s1>          - path: /ibtisam</span>
</span><span id=__span-0-299><span class=s1>            pathType: Prefix</span>
</span><span id=__span-0-300><span class=s1>            backend:</span>
</span><span id=__span-0-301><span class=s1>              service:</span>
</span><span id=__span-0-302><span class=s1>                name: nginx</span>
</span><span id=__span-0-303><span class=s1>                port:</span>
</span><span id=__span-0-304><span class=s1>                  number: 80</span>
</span><span id=__span-0-305>
</span><span id=__span-0-306><span class=s1>controlplane ~ ➜  k apply -f ingress-2.yaml </span>
</span><span id=__span-0-307><span class=s1>ingress.networking.k8s.io/ibtisam-ingress2 created</span>
</span><span id=__span-0-308>
</span><span id=__span-0-309><span class=s1>controlplane ~ ➜  k get ingress</span>
</span><span id=__span-0-310><span class=s1>NAME               CLASS   HOSTS            ADDRESS        PORTS   AGE</span>
</span><span id=__span-0-311><span class=s1>ibtisam-ingress    nginx   *                172.20.36.22   80      26m</span>
</span><span id=__span-0-312><span class=s1>ibtisam-ingress2   nginx   ibtisam-iq.com                  80      25s</span>
</span><span id=__span-0-313>
</span><span id=__span-0-314><span class=s1>controlplane ~ ➜  curl http://192.168.121.223:31987/ibtisam    # it shouldn&#39;</span>t<span class=w> </span>access<span class=w> </span>this<span class=w> </span>way,<span class=w> </span>accessing<span class=w> </span>because<span class=w> </span>it<span class=w> </span>points<span class=w> </span>to<span class=w> </span>first<span class=w> </span>ingress
</span><span id=__span-0-315>&lt;!DOCTYPE<span class=w> </span>html&gt;
</span><span id=__span-0-316>&lt;html&gt;
</span><span id=__span-0-317>&lt;head&gt;
</span><span id=__span-0-318>&lt;title&gt;Welcome<span class=w> </span>to<span class=w> </span>nginx!&lt;/title&gt;
</span><span id=__span-0-319>&lt;style&gt;
</span><span id=__span-0-320>html<span class=w> </span><span class=o>{</span><span class=w> </span>color-scheme:<span class=w> </span>light<span class=w> </span>dark<span class=p>;</span><span class=w> </span><span class=o>}</span>
</span><span id=__span-0-321>body<span class=w> </span><span class=o>{</span><span class=w> </span>width:<span class=w> </span>35em<span class=p>;</span><span class=w> </span>margin:<span class=w> </span><span class=m>0</span><span class=w> </span>auto<span class=p>;</span>
</span><span id=__span-0-322>font-family:<span class=w> </span>Tahoma,<span class=w> </span>Verdana,<span class=w> </span>Arial,<span class=w> </span>sans-serif<span class=p>;</span><span class=w> </span><span class=o>}</span>
</span><span id=__span-0-323>&lt;/style&gt;
</span><span id=__span-0-324>&lt;/head&gt;
</span><span id=__span-0-325>&lt;body&gt;
</span><span id=__span-0-326>&lt;h1&gt;Welcome<span class=w> </span>to<span class=w> </span>nginx!&lt;/h1&gt;
</span><span id=__span-0-327>&lt;p&gt;If<span class=w> </span>you<span class=w> </span>see<span class=w> </span>this<span class=w> </span>page,<span class=w> </span>the<span class=w> </span>nginx<span class=w> </span>web<span class=w> </span>server<span class=w> </span>is<span class=w> </span>successfully<span class=w> </span>installed<span class=w> </span>and
</span><span id=__span-0-328>working.<span class=w> </span>Further<span class=w> </span>configuration<span class=w> </span>is<span class=w> </span>required.&lt;/p&gt;
</span><span id=__span-0-329>
</span><span id=__span-0-330>&lt;p&gt;For<span class=w> </span>online<span class=w> </span>documentation<span class=w> </span>and<span class=w> </span>support<span class=w> </span>please<span class=w> </span>refer<span class=w> </span>to
</span><span id=__span-0-331>&lt;a<span class=w> </span><span class=nv>href</span><span class=o>=</span><span class=s2>&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;
</span><span id=__span-0-332>Commercial<span class=w> </span>support<span class=w> </span>is<span class=w> </span>available<span class=w> </span>at
</span><span id=__span-0-333>&lt;a<span class=w> </span><span class=nv>href</span><span class=o>=</span><span class=s2>&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;
</span><span id=__span-0-334>
</span><span id=__span-0-335>&lt;p&gt;&lt;em&gt;Thank<span class=w> </span>you<span class=w> </span><span class=k>for</span><span class=w> </span>using<span class=w> </span>nginx.&lt;/em&gt;&lt;/p&gt;
</span><span id=__span-0-336>&lt;/body&gt;
</span><span id=__span-0-337>&lt;/html&gt;
</span><span id=__span-0-338>
</span><span id=__span-0-339><span class=c1># Create new deployment, new service, and update the 2nd ingress accordingly, and delete the first ingress,</span>
</span><span id=__span-0-340><span class=c1># so that curl http://192.168.121.223:31987/ibtisam remain no longer accessible?</span>
</span><span id=__span-0-341>
</span><span id=__span-0-342>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>expose<span class=w> </span>create<span class=w> </span>deploy<span class=w> </span>nginx2<span class=w> </span>--image<span class=w> </span>nginx<span class=w> </span>-r<span class=w> </span><span class=m>3</span>
</span><span id=__span-0-343>error:<span class=w> </span>unknown<span class=w> </span>flag:<span class=w> </span>--image
</span><span id=__span-0-344>See<span class=w> </span><span class=s1>&#39;kubectl expose --help&#39;</span><span class=w> </span><span class=k>for</span><span class=w> </span>usage.
</span><span id=__span-0-345>
</span><span id=__span-0-346>controlplane<span class=w> </span>~<span class=w> </span>✖<span class=w> </span>k<span class=w>  </span>create<span class=w> </span>deploy<span class=w> </span>nginx2<span class=w> </span>--image<span class=w> </span>nginx<span class=w> </span>-r<span class=w> </span><span class=m>3</span>
</span><span id=__span-0-347>deployment.apps/nginx2<span class=w> </span>created
</span><span id=__span-0-348>
</span><span id=__span-0-349>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>expose<span class=w> </span>deploy<span class=w> </span>nginx2<span class=w> </span>--port<span class=w> </span><span class=m>80</span>
</span><span id=__span-0-350>service/nginx2<span class=w> </span>exposed
</span><span id=__span-0-351>
</span><span id=__span-0-352>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>edit<span class=w> </span>ingress<span class=w> </span>ibtisam-ingress2<span class=w> </span>
</span><span id=__span-0-353>ingress.networking.k8s.io/ibtisam-ingress2<span class=w> </span>edited
</span><span id=__span-0-354>
</span><span id=__span-0-355>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>ingress
</span><span id=__span-0-356>NAME<span class=w>               </span>CLASS<span class=w>   </span>HOSTS<span class=w>            </span>ADDRESS<span class=w>        </span>PORTS<span class=w>   </span>AGE
</span><span id=__span-0-357>ibtisam-ingress<span class=w>    </span>nginx<span class=w>   </span>*<span class=w>                </span><span class=m>172</span>.20.36.22<span class=w>   </span><span class=m>80</span><span class=w>      </span>32m
</span><span id=__span-0-358>ibtisam-ingress2<span class=w>   </span>nginx<span class=w>   </span>ibtisam-iq.com<span class=w>   </span><span class=m>172</span>.20.36.22<span class=w>   </span><span class=m>80</span><span class=w>      </span>6m37s
</span><span id=__span-0-359>
</span><span id=__span-0-360>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>curl<span class=w> </span>http://192.168.121.223:31987/ibtisam<span class=w>    </span><span class=c1># still accessible, because first ingress is not deleted yet</span>
</span><span id=__span-0-361>&lt;!DOCTYPE<span class=w> </span>html&gt;
</span><span id=__span-0-362>&lt;html&gt;
</span><span id=__span-0-363>&lt;head&gt;
</span><span id=__span-0-364>&lt;title&gt;Welcome<span class=w> </span>to<span class=w> </span>nginx!&lt;/title&gt;
</span><span id=__span-0-365>&lt;style&gt;
</span><span id=__span-0-366>html<span class=w> </span><span class=o>{</span><span class=w> </span>color-scheme:<span class=w> </span>light<span class=w> </span>dark<span class=p>;</span><span class=w> </span><span class=o>}</span>
</span><span id=__span-0-367>body<span class=w> </span><span class=o>{</span><span class=w> </span>width:<span class=w> </span>35em<span class=p>;</span><span class=w> </span>margin:<span class=w> </span><span class=m>0</span><span class=w> </span>auto<span class=p>;</span>
</span><span id=__span-0-368>font-family:<span class=w> </span>Tahoma,<span class=w> </span>Verdana,<span class=w> </span>Arial,<span class=w> </span>sans-serif<span class=p>;</span><span class=w> </span><span class=o>}</span>
</span><span id=__span-0-369>&lt;/style&gt;
</span><span id=__span-0-370>&lt;/head&gt;
</span><span id=__span-0-371>&lt;body&gt;
</span><span id=__span-0-372>&lt;h1&gt;Welcome<span class=w> </span>to<span class=w> </span>nginx!&lt;/h1&gt;
</span><span id=__span-0-373>&lt;p&gt;If<span class=w> </span>you<span class=w> </span>see<span class=w> </span>this<span class=w> </span>page,<span class=w> </span>the<span class=w> </span>nginx<span class=w> </span>web<span class=w> </span>server<span class=w> </span>is<span class=w> </span>successfully<span class=w> </span>installed<span class=w> </span>and
</span><span id=__span-0-374>working.<span class=w> </span>Further<span class=w> </span>configuration<span class=w> </span>is<span class=w> </span>required.&lt;/p&gt;
</span><span id=__span-0-375>
</span><span id=__span-0-376>&lt;p&gt;For<span class=w> </span>online<span class=w> </span>documentation<span class=w> </span>and<span class=w> </span>support<span class=w> </span>please<span class=w> </span>refer<span class=w> </span>to
</span><span id=__span-0-377>&lt;a<span class=w> </span><span class=nv>href</span><span class=o>=</span><span class=s2>&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;
</span><span id=__span-0-378>Commercial<span class=w> </span>support<span class=w> </span>is<span class=w> </span>available<span class=w> </span>at
</span><span id=__span-0-379>&lt;a<span class=w> </span><span class=nv>href</span><span class=o>=</span><span class=s2>&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;
</span><span id=__span-0-380>
</span><span id=__span-0-381>&lt;p&gt;&lt;em&gt;Thank<span class=w> </span>you<span class=w> </span><span class=k>for</span><span class=w> </span>using<span class=w> </span>nginx.&lt;/em&gt;&lt;/p&gt;
</span><span id=__span-0-382>&lt;/body&gt;
</span><span id=__span-0-383>&lt;/html&gt;
</span><span id=__span-0-384>
</span><span id=__span-0-385>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>delete<span class=w> </span>ingress<span class=w> </span>ibtisam-ingress
</span><span id=__span-0-386>ingress.networking.k8s.io<span class=w> </span><span class=s2>&quot;ibtisam-ingress&quot;</span><span class=w> </span>deleted
</span><span id=__span-0-387>
</span><span id=__span-0-388>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>ingress
</span><span id=__span-0-389>NAME<span class=w>               </span>CLASS<span class=w>   </span>HOSTS<span class=w>            </span>ADDRESS<span class=w>        </span>PORTS<span class=w>   </span>AGE
</span><span id=__span-0-390>ibtisam-ingress2<span class=w>   </span>nginx<span class=w>   </span>ibtisam-iq.com<span class=w>   </span><span class=m>172</span>.20.36.22<span class=w>   </span><span class=m>80</span><span class=w>      </span>8m31s
</span><span id=__span-0-391>
</span><span id=__span-0-392>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>svc
</span><span id=__span-0-393>NAME<span class=w>         </span>TYPE<span class=w>        </span>CLUSTER-IP<span class=w>       </span>EXTERNAL-IP<span class=w>   </span>PORT<span class=o>(</span>S<span class=o>)</span><span class=w>   </span>AGE
</span><span id=__span-0-394>kubernetes<span class=w>   </span>ClusterIP<span class=w>   </span><span class=m>172</span>.20.0.1<span class=w>       </span>&lt;none&gt;<span class=w>        </span><span class=m>443</span>/TCP<span class=w>   </span>84m
</span><span id=__span-0-395>nginx<span class=w>        </span>ClusterIP<span class=w>   </span><span class=m>172</span>.20.17.23<span class=w>     </span>&lt;none&gt;<span class=w>        </span><span class=m>80</span>/TCP<span class=w>    </span>39m
</span><span id=__span-0-396>nginx2<span class=w>       </span>ClusterIP<span class=w>   </span><span class=m>172</span>.20.117.247<span class=w>   </span>&lt;none&gt;<span class=w>        </span><span class=m>80</span>/TCP<span class=w>    </span>3m12s
</span><span id=__span-0-397>
</span><span id=__span-0-398>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>describe<span class=w> </span>ingress<span class=w> </span>ibtisam-ingress2<span class=w> </span>
</span><span id=__span-0-399>Name:<span class=w>             </span>ibtisam-ingress2
</span><span id=__span-0-400>Labels:<span class=w>           </span>&lt;none&gt;
</span><span id=__span-0-401>Namespace:<span class=w>        </span>default
</span><span id=__span-0-402>Address:<span class=w>          </span><span class=m>172</span>.20.36.22
</span><span id=__span-0-403>Ingress<span class=w> </span>Class:<span class=w>    </span>nginx
</span><span id=__span-0-404>Default<span class=w> </span>backend:<span class=w>  </span>&lt;default&gt;
</span><span id=__span-0-405>Rules:
</span><span id=__span-0-406><span class=w>  </span>Host<span class=w>            </span>Path<span class=w>  </span>Backends
</span><span id=__span-0-407><span class=w>  </span>----<span class=w>            </span>----<span class=w>  </span>--------
</span><span id=__span-0-408><span class=w>  </span>ibtisam-iq.com<span class=w>  </span>
</span><span id=__span-0-409><span class=w>                  </span>/ibtisam<span class=w>   </span>nginx2:80<span class=w> </span><span class=o>(</span><span class=m>172</span>.17.1.6:80,172.17.2.5:80,172.17.1.7:80<span class=o>)</span>
</span><span id=__span-0-410>Annotations:<span class=w>      </span>nginx.ingress.kubernetes.io/rewrite-target:<span class=w> </span>/
</span><span id=__span-0-411>Events:
</span><span id=__span-0-412><span class=w>  </span>Type<span class=w>    </span>Reason<span class=w>  </span>Age<span class=w>                    </span>From<span class=w>                      </span>Message
</span><span id=__span-0-413><span class=w>  </span>----<span class=w>    </span>------<span class=w>  </span>----<span class=w>                   </span>----<span class=w>                      </span>-------
</span><span id=__span-0-414><span class=w>  </span>Normal<span class=w>  </span>Sync<span class=w>    </span>2m45s<span class=w> </span><span class=o>(</span>x3<span class=w> </span>over<span class=w> </span>9m13s<span class=o>)</span><span class=w>  </span>nginx-ingress-controller<span class=w>  </span>Scheduled<span class=w> </span><span class=k>for</span><span class=w> </span>sync
</span><span id=__span-0-415>
</span><span id=__span-0-416>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>k<span class=w> </span>get<span class=w> </span>svc<span class=w> </span>-n<span class=w> </span>ingress-nginx<span class=w> </span>ingress-nginx-controller
</span><span id=__span-0-417>NAME<span class=w>                       </span>TYPE<span class=w>       </span>CLUSTER-IP<span class=w>     </span>EXTERNAL-IP<span class=w>   </span>PORT<span class=o>(</span>S<span class=o>)</span><span class=w>                      </span>AGE
</span><span id=__span-0-418>ingress-nginx-controller<span class=w>   </span>NodePort<span class=w>   </span><span class=m>172</span>.20.36.22<span class=w>   </span>&lt;none&gt;<span class=w>        </span><span class=m>80</span>:31987/TCP,443:31268/TCP<span class=w>   </span>43m
</span><span id=__span-0-419>
</span><span id=__span-0-420>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>curl<span class=w> </span>http://192.168.121.223:31987/ibtisam<span class=w>        </span><span class=c1># first ingress is deleted, so it is no longer accessible.</span>
</span><span id=__span-0-421>&lt;html&gt;
</span><span id=__span-0-422>&lt;head&gt;&lt;title&gt;404<span class=w> </span>Not<span class=w> </span>Found&lt;/title&gt;&lt;/head&gt;
</span><span id=__span-0-423>&lt;body&gt;
</span><span id=__span-0-424>&lt;center&gt;&lt;h1&gt;404<span class=w> </span>Not<span class=w> </span>Found&lt;/h1&gt;&lt;/center&gt;
</span><span id=__span-0-425>&lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt;
</span><span id=__span-0-426>&lt;/body&gt;
</span><span id=__span-0-427>&lt;/html&gt;
</span><span id=__span-0-428>
</span><span id=__span-0-429>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>curl<span class=w> </span>-H<span class=w> </span><span class=s2>&quot;Host: ibtisam-iq.com&quot;</span><span class=w> </span>http://192.168.121.223:31987/ibtisam<span class=w>     </span><span class=c1># required output, accessible now with - H</span>
</span><span id=__span-0-430>&lt;!DOCTYPE<span class=w> </span>html&gt;
</span><span id=__span-0-431>&lt;html&gt;
</span><span id=__span-0-432>&lt;head&gt;
</span><span id=__span-0-433>&lt;title&gt;Welcome<span class=w> </span>to<span class=w> </span>nginx!&lt;/title&gt;
</span><span id=__span-0-434>&lt;style&gt;
</span><span id=__span-0-435>html<span class=w> </span><span class=o>{</span><span class=w> </span>color-scheme:<span class=w> </span>light<span class=w> </span>dark<span class=p>;</span><span class=w> </span><span class=o>}</span>
</span><span id=__span-0-436>body<span class=w> </span><span class=o>{</span><span class=w> </span>width:<span class=w> </span>35em<span class=p>;</span><span class=w> </span>margin:<span class=w> </span><span class=m>0</span><span class=w> </span>auto<span class=p>;</span>
</span><span id=__span-0-437>font-family:<span class=w> </span>Tahoma,<span class=w> </span>Verdana,<span class=w> </span>Arial,<span class=w> </span>sans-serif<span class=p>;</span><span class=w> </span><span class=o>}</span>
</span><span id=__span-0-438>&lt;/style&gt;
</span><span id=__span-0-439>&lt;/head&gt;
</span><span id=__span-0-440>&lt;body&gt;
</span><span id=__span-0-441>&lt;h1&gt;Welcome<span class=w> </span>to<span class=w> </span>nginx!&lt;/h1&gt;
</span><span id=__span-0-442>&lt;p&gt;If<span class=w> </span>you<span class=w> </span>see<span class=w> </span>this<span class=w> </span>page,<span class=w> </span>the<span class=w> </span>nginx<span class=w> </span>web<span class=w> </span>server<span class=w> </span>is<span class=w> </span>successfully<span class=w> </span>installed<span class=w> </span>and
</span><span id=__span-0-443>working.<span class=w> </span>Further<span class=w> </span>configuration<span class=w> </span>is<span class=w> </span>required.&lt;/p&gt;
</span><span id=__span-0-444>
</span><span id=__span-0-445>&lt;p&gt;For<span class=w> </span>online<span class=w> </span>documentation<span class=w> </span>and<span class=w> </span>support<span class=w> </span>please<span class=w> </span>refer<span class=w> </span>to
</span><span id=__span-0-446>&lt;a<span class=w> </span><span class=nv>href</span><span class=o>=</span><span class=s2>&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;
</span><span id=__span-0-447>Commercial<span class=w> </span>support<span class=w> </span>is<span class=w> </span>available<span class=w> </span>at
</span><span id=__span-0-448>&lt;a<span class=w> </span><span class=nv>href</span><span class=o>=</span><span class=s2>&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;
</span><span id=__span-0-449>
</span><span id=__span-0-450>&lt;p&gt;&lt;em&gt;Thank<span class=w> </span>you<span class=w> </span><span class=k>for</span><span class=w> </span>using<span class=w> </span>nginx.&lt;/em&gt;&lt;/p&gt;
</span><span id=__span-0-451>&lt;/body&gt;
</span><span id=__span-0-452>&lt;/html&gt;
</span><span id=__span-0-453>
</span><span id=__span-0-454>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>vi<span class=w> </span>/etc/hosts<span class=w>        </span><span class=c1># add the host to /etc/hosts, if you want to accessible it without -H flag</span>
</span><span id=__span-0-455>
</span><span id=__span-0-456>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>cat<span class=w> </span>/etc/hosts
</span><span id=__span-0-457><span class=c1># Kubernetes-managed hosts file.</span>
</span><span id=__span-0-458><span class=m>127</span>.0.0.1<span class=w>       </span>localhost
</span><span id=__span-0-459>::1<span class=w>     </span>localhost<span class=w> </span>ip6-localhost<span class=w> </span>ip6-loopback
</span><span id=__span-0-460>fe00::0<span class=w> </span>ip6-localnet
</span><span id=__span-0-461>fe00::0<span class=w> </span>ip6-mcastprefix
</span><span id=__span-0-462>fe00::1<span class=w> </span>ip6-allnodes
</span><span id=__span-0-463>fe00::2<span class=w> </span>ip6-allrouters
</span><span id=__span-0-464><span class=m>192</span>.168.121.223<span class=w> </span>controlplane
</span><span id=__span-0-465><span class=m>192</span>.168.121.223<span class=w> </span>ibtisam-iq.com
</span><span id=__span-0-466><span class=c1># Entries added by HostAliases.</span>
</span><span id=__span-0-467><span class=m>10</span>.0.0.6<span class=w>        </span>docker-registry-mirror.kodekloud.com
</span><span id=__span-0-468><span class=m>10</span>.0.0.6<span class=w> </span>docker-registry-mirror.kodekloud.com
</span><span id=__span-0-469>
</span><span id=__span-0-470>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>  </span>curl<span class=w> </span>http://ibtisam-iq.com:31987/ibtisam
</span><span id=__span-0-471>&lt;!DOCTYPE<span class=w> </span>html&gt;
</span><span id=__span-0-472>&lt;html&gt;
</span><span id=__span-0-473>&lt;head&gt;
</span><span id=__span-0-474>&lt;title&gt;Welcome<span class=w> </span>to<span class=w> </span>nginx!&lt;/title&gt;
</span><span id=__span-0-475>&lt;style&gt;
</span><span id=__span-0-476>html<span class=w> </span><span class=o>{</span><span class=w> </span>color-scheme:<span class=w> </span>light<span class=w> </span>dark<span class=p>;</span><span class=w> </span><span class=o>}</span>
</span><span id=__span-0-477>body<span class=w> </span><span class=o>{</span><span class=w> </span>width:<span class=w> </span>35em<span class=p>;</span><span class=w> </span>margin:<span class=w> </span><span class=m>0</span><span class=w> </span>auto<span class=p>;</span>
</span><span id=__span-0-478>font-family:<span class=w> </span>Tahoma,<span class=w> </span>Verdana,<span class=w> </span>Arial,<span class=w> </span>sans-serif<span class=p>;</span><span class=w> </span><span class=o>}</span>
</span><span id=__span-0-479>&lt;/style&gt;
</span><span id=__span-0-480>&lt;/head&gt;
</span><span id=__span-0-481>&lt;body&gt;
</span><span id=__span-0-482>&lt;h1&gt;Welcome<span class=w> </span>to<span class=w> </span>nginx!&lt;/h1&gt;
</span><span id=__span-0-483>&lt;p&gt;If<span class=w> </span>you<span class=w> </span>see<span class=w> </span>this<span class=w> </span>page,<span class=w> </span>the<span class=w> </span>nginx<span class=w> </span>web<span class=w> </span>server<span class=w> </span>is<span class=w> </span>successfully<span class=w> </span>installed<span class=w> </span>and
</span><span id=__span-0-484>working.<span class=w> </span>Further<span class=w> </span>configuration<span class=w> </span>is<span class=w> </span>required.&lt;/p&gt;
</span><span id=__span-0-485>
</span><span id=__span-0-486>&lt;p&gt;For<span class=w> </span>online<span class=w> </span>documentation<span class=w> </span>and<span class=w> </span>support<span class=w> </span>please<span class=w> </span>refer<span class=w> </span>to
</span><span id=__span-0-487>&lt;a<span class=w> </span><span class=nv>href</span><span class=o>=</span><span class=s2>&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;
</span><span id=__span-0-488>Commercial<span class=w> </span>support<span class=w> </span>is<span class=w> </span>available<span class=w> </span>at
</span><span id=__span-0-489>&lt;a<span class=w> </span><span class=nv>href</span><span class=o>=</span><span class=s2>&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;
</span><span id=__span-0-490>
</span><span id=__span-0-491>&lt;p&gt;&lt;em&gt;Thank<span class=w> </span>you<span class=w> </span><span class=k>for</span><span class=w> </span>using<span class=w> </span>nginx.&lt;/em&gt;&lt;/p&gt;
</span><span id=__span-0-492>&lt;/body&gt;
</span><span id=__span-0-493>&lt;/html&gt;
</span><span id=__span-0-494>
</span><span id=__span-0-495>controlplane<span class=w> </span>~<span class=w> </span>➜<span class=w>    </span>
</span></code></pre></div><a class=headerlink href=#controlplane---k-get-no--o-wide-name-status-roles-age-version-internal-ip-external-ip-os-image-kernel-version-container-runtime-controlplane-ready-control-plane-41m-v1330-192168121223--ubuntu-22045-lts-5150-1083-gcp-containerd1626-node01-ready--40m-v1330-192168102168--ubuntu-22045-lts-5150-1083-gcp-containerd1626-node02-ready--40m-v1330-192168121196--ubuntu-22045-lts-5150-1083-gcp-containerd1626--installation-controlplane---kubectl-apply--f-httpsrawgithubusercontentcomkubernetesingress-nginxcontroller-v1130deploystaticproviderclouddeployyaml-namespaceingress-nginx-created-serviceaccountingress-nginx-created-serviceaccountingress-nginx-admission-created-rolerbacauthorizationk8sioingress-nginx-created-rolerbacauthorizationk8sioingress-nginx-admission-created-clusterrolerbacauthorizationk8sioingress-nginx-created-clusterrolerbacauthorizationk8sioingress-nginx-admission-created-rolebindingrbacauthorizationk8sioingress-nginx-created-rolebindingrbacauthorizationk8sioingress-nginx-admission-created-clusterrolebindingrbacauthorizationk8sioingress-nginx-created-clusterrolebindingrbacauthorizationk8sioingress-nginx-admission-created-configmapingress-nginx-controller-created-serviceingress-nginx-controller-created-serviceingress-nginx-controller-admission-created-deploymentappsingress-nginx-controller-created-jobbatchingress-nginx-admission-create-created-jobbatchingress-nginx-admission-patch-created-ingressclassnetworkingk8sionginx-created-validatingwebhookconfigurationadmissionregistrationk8sioingress-nginx-admission-created-controlplane---k-get-all--n-ingress-nginx-name-ready-status-restarts-age-podingress-nginx-controller-95f6586c6-2mskp-11-running-0-55s-name-type-cluster-ip-external-ip-ports-age-serviceingress-nginx-controller-loadbalancer-172203622--8031987tcp44331268tcp-55s-serviceingress-nginx-controller-admission-clusterip-1722021537--443tcp-55s-name-ready-up-to-date-available-age-deploymentappsingress-nginx-controller-11-1-1-55s-name-desired-current-ready-age-replicasetappsingress-nginx-controller-95f6586c6-1-1-1-55s-controlplane---k-get-svc--n-ingress-nginx-name-type-cluster-ip-external-ip-ports-age-ingress-nginx-controller-loadbalancer-172203622--8031987tcp44331268tcp-89s-ingress-nginx-controller-admission-clusterip-1722021537--443tcp-89s-controlplane---k-create-deploy-nginx--r-3---port-80-error-required-flags-image-not-set-controlplane---k-create-deploy-nginx--r-3---port-80---image-nginx-deploymentappsnginx-created-controlplane---k-expose-deployment-nginx---port-80-servicenginx-exposed-controlplane---k-get-svc-nginx-name-type-cluster-ip-external-ip-ports-age-nginx-clusterip-172201723--80tcp-19s-controlplane---k-describe-svc-nginx-name-nginx-namespace-default-labels-appnginx-annotations--selector-appnginx-type-clusterip-ip-family-policy-singlestack-ip-families-ipv4-ip-172201723-ips-172201723-port--80tcp-targetport-80tcp-endpoints-172171480172172380172172480-session-affinity-none-internal-traffic-policy-cluster-events--controlplane---vi-ingressyaml-controlplane---k-describe-deploy--n-ingress-nginx-name-ingress-nginx-controller-namespace-ingress-nginx-args-nginx-ingress-controller---publish-servicepod_namespaceingress-nginx-controller---election-idingress-nginx-leader---controller-classk8sioingress-nginx---ingress-classnginx---configmappod_namespaceingress-nginx-controller---validating-webhook8443---validating-webhook-certificateusrlocalcertificatescert---validating-webhook-keyusrlocalcertificateskey-events-type-reason-age-from-message-------------------------------normal-scalingreplicaset-6m32s-deployment-controller-scaled-up-replica-set-ingress-nginx-controller-95f6586c6-from-0-to-1-controlplane---cat-ingressyaml-apiversion-networkingk8siov1-kind-ingress-metadata-name-ibtisam-ingress-annotations-nginxingresskubernetesiorewrite-target--spec-ingressclassname-nginx-rules---http-paths---path-ibtisam-pathtype-prefix-backend-service-name-nginx-port-number-80-controlplane---k-apply--f-ingressyaml-ingressnetworkingk8sioibtisam-ingress-created-controlplane---k-get-ingress-name-class-hosts-address-ports-age--because-service-type-of-ingress-is-loadbalancer-ibtisam-ingress-nginx--80-9s-controlplane---k-describe-ingress-ibtisam-ingress-name-ibtisam-ingress-labels--namespace-default-address-ingress-class-nginx-default-backend--rules-host-path-backends---------------------ibtisam-nginx80-172171480172172380172172480-annotations-nginxingresskubernetesiorewrite-target--events-type-reason-age-from-message-------------------------------normal-sync-24s-nginx-ingress-controller-scheduled-for-sync-controlplane---k-get-no--o-wide-name-status-roles-age-version-internal-ip-external-ip-os-image-kernel-version-container-runtime-controlplane-ready-control-plane-50m-v1330-192168121223--ubuntu-22045-lts-5150-1083-gcp-containerd1626-node01-ready--49m-v1330-192168102168--ubuntu-22045-lts-5150-1083-gcp-containerd1626-node02-ready--49m-v1330-192168121196--ubuntu-22045-lts-5150-1083-gcp-containerd1626-controlplane---k-get-svc--n-ingress-nginx-name-type-cluster-ip-external-ip-ports-age-ingress-nginx-controller-loadbalancer-172203622--8031987tcp44331268tcp-8m41s-ingress-nginx-controller-admission-clusterip-1722021537--443tcp-8m41s-controlplane---curl-http19216812122331987ibtisam--accessible-on-controlplane-node-only----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx---controlplane---curl-http19216810216831987ibtisam--ip-of-node01-c-controlplane---curl-https19216812122331987ibtisam-curl-35-error0a00010bssl-routineswrong-version-number-controlplane---k-edit-svc--n-ingress-nginx-ingress-nginx-controller--type-is-changed-serviceingress-nginx-controller-edited-controlplane---k-get-svc--n-ingress-nginx-ingress-nginx-controller--external-ip-dont-assign-even-you-changed-the-type-name-type-cluster-ip-external-ip-ports-age-ingress-nginx-controller-nodeport-172203622--8031987tcp44331268tcp-11m-controlplane---k-get-ingress-ibtisam-ingress--ip-is-assigned-after-changing-the-servive-type-name-class-hosts-address-ports-age-ibtisam-ingress-nginx--172203622-80-5m15s-controlplane---curl-http19216810216831987ibtisam-c-controlplane---k-run-testpod---image-busybox---restartnever---it----sh--we-got-the-ip-assigned-so-testing-it-from-inside-the-cluster-error-unknown-flag---it-see-kubectl-run---help-for-usage-controlplane---k-run-testpod---image-busybox---restartnever--it----sh-if-you-dont-see-a-command-prompt-try-pressing-enter---curl-172203622ibtisam-sh-curl-not-found---wget--qo-http172203622ibtisam-busybox-v1370-2024-09-26-213142-utc-multi-call-binary-usage-wget--cqs---spider--o-file--o-logfile---header-str---post-data-str----post-file-file--y-onoff---no-check-certificate--p-dir--u-agent--t-sec-url-retrieve-files-via-http-or-ftp---spider-only-check-url-existence--is-0-if-exists---header-str-add-str-of-form-header-value-to-headers---post-data-str-send-str-using-post-method---post-file-file-send-file-using-post-method---no-check-certificate-dont-validate-the-servers-certificate--c-continue-retrieval-of-aborted-transfer--q-quiet--p-dir-save-to-dir-default---s-show-server-response--t-sec-network-read-timeout-is-sec-seconds--o-file-save-to-file---for-stdout--o-logfile-log-messages-to-file--u-str-use-str-for-user-agent-header--y-onoff-use-proxy---wget--qo--http172203622ibtisam----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx-----exit-controlplane---k-describe-ingress-ibtisam-ingress-name-ibtisam-ingress-labels--namespace-default-address-172203622-ingress-class-nginx-default-backend--rules-host-path-backends---------------------ibtisam-nginx80-172171480172172380172172480-annotations-nginxingresskubernetesiorewrite-target--events-type-reason-age-from-message-------------------------------normal-sync-11m-x2-over-16m-nginx-ingress-controller-scheduled-for-sync--new-ingress-is-applied-to-test-the-host-controlplane---vi-ingress-2yaml-controlplane---cat-ingress-2yaml-apiversion-networkingk8siov1-kind-ingress-metadata-name-ibtisam-ingress2-annotations-nginxingresskubernetesiorewrite-target--spec-ingressclassname-nginx-rules--rule-1-match-with-host-ibtisam-iqcom---host-ibtisam-iqcom-http-paths---path-ibtisam-pathtype-prefix-backend-service-name-nginx-port-number-80-controlplane---k-apply--f-ingress-2yaml-ingressnetworkingk8sioibtisam-ingress2-created-controlplane---k-get-ingress-name-class-hosts-address-ports-age-ibtisam-ingress-nginx--172203622-80-26m-ibtisam-ingress2-nginx-ibtisam-iqcom-80-25s-controlplane---curl-http19216812122331987ibtisam--it-shouldnt-access-this-way-accessing-because-it-points-to-first-ingress----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx----create-new-deployment-new-service-and-update-the-2nd-ingress-accordingly-and-delete-the-first-ingress--so-that-curl-http19216812122331987ibtisam-remain-no-longer-accessible-controlplane---k-expose-create-deploy-nginx2---image-nginx--r-3-error-unknown-flag---image-see-kubectl-expose---help-for-usage-controlplane---k-create-deploy-nginx2---image-nginx--r-3-deploymentappsnginx2-created-controlplane---k-expose-deploy-nginx2---port-80-servicenginx2-exposed-controlplane---k-edit-ingress-ibtisam-ingress2-ingressnetworkingk8sioibtisam-ingress2-edited-controlplane---k-get-ingress-name-class-hosts-address-ports-age-ibtisam-ingress-nginx--172203622-80-32m-ibtisam-ingress2-nginx-ibtisam-iqcom-172203622-80-6m37s-controlplane---curl-http19216812122331987ibtisam--still-accessible-because-first-ingress-is-not-deleted-yet----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx---controlplane---k-delete-ingress-ibtisam-ingress-ingressnetworkingk8sio-ibtisam-ingress-deleted-controlplane---k-get-ingress-name-class-hosts-address-ports-age-ibtisam-ingress2-nginx-ibtisam-iqcom-172203622-80-8m31s-controlplane---k-get-svc-name-type-cluster-ip-external-ip-ports-age-kubernetes-clusterip-1722001--443tcp-84m-nginx-clusterip-172201723--80tcp-39m-nginx2-clusterip-17220117247--80tcp-3m12s-controlplane---k-describe-ingress-ibtisam-ingress2-name-ibtisam-ingress2-labels--namespace-default-address-172203622-ingress-class-nginx-default-backend--rules-host-path-backends--------------------ibtisam-iqcom-ibtisam-nginx280-172171680172172580172171780-annotations-nginxingresskubernetesiorewrite-target--events-type-reason-age-from-message-------------------------------normal-sync-2m45s-x3-over-9m13s-nginx-ingress-controller-scheduled-for-sync-controlplane---k-get-svc--n-ingress-nginx-ingress-nginx-controller-name-type-cluster-ip-external-ip-ports-age-ingress-nginx-controller-nodeport-172203622--8031987tcp44331268tcp-43m-controlplane---curl-http19216812122331987ibtisam--first-ingress-is-deleted-so-it-is-no-longer-accessible--404-not-found--404-not-found-nginx---controlplane---curl--h-host-ibtisam-iqcom-http19216812122331987ibtisam--required-output-accessible-now-with---h----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx---controlplane---vi-etchosts--add-the-host-to-etchosts-if-you-want-to-accessible-it-without--h-flag-controlplane---cat-etchosts--kubernetes-managed-hosts-file-127001-localhost-1-localhost-ip6-localhost-ip6-loopback-fe000-ip6-localnet-fe000-ip6-mcastprefix-fe001-ip6-allnodes-fe002-ip6-allrouters-192168121223-controlplane-192168121223-ibtisam-iqcom--entries-added-by-hostaliases-10006-docker-registry-mirrorkodekloudcom-10006-docker-registry-mirrorkodekloudcom-controlplane---curl-httpibtisam-iqcom31987ibtisam----welcome-to-nginx--html--color-scheme-light-dark--body--width-35em-margin-0-auto-font-family-tahoma-verdana-arial-sans-serif-----welcome-to-nginx-if-you-see-this-page-the-nginx-web-server-is-successfully-installed-and-working-further-configuration-is-required-for-online-documentation-and-support-please-refer-to-nginxorg-commercial-support-is-available-at-nginxcom-thank-you-for-using-nginx---controlplane-- title="Link to this section">&para;</a></h2> <p>Excellent observation, sweetheart — you're absolutely right to question this. Let’s break it down clearly:</p> <h2 id=-youre-accessing-this-url-successfully>✅ You're accessing this URL successfully:<a class=headerlink href=#-youre-accessing-this-url-successfully title="Link to this section">&para;</a></h2> <div class="language-text highlight"><pre><span></span><code><span id=__span-1-1>http://192.168.1.10:32111/ibtisam
</span></code></pre></div> <p>Even though the <code>Service</code> is still of type <code>LoadBalancer</code> with <code>EXTERNAL-IP = &lt;pending&gt;</code>, you can still access it via:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1>&lt;Node-IP&gt;:&lt;NodePort&gt;
</span></code></pre></div> <h2 id=-why-is-this-working-without-changing-the-service-type>💡 Why is this working without changing the service type?<a class=headerlink href=#-why-is-this-working-without-changing-the-service-type title="Link to this section">&para;</a></h2> <p>Because Kubernetes <strong>always assigns a <code>NodePort</code></strong> behind the scenes <strong>even for <code>LoadBalancer</code> services</strong> — that’s how external cloud load balancers work under the hood.</p> <p>So in your case:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-3-1>PORT<span class=o>(</span>S<span class=o>)</span>:<span class=w> </span><span class=m>80</span>:32111/TCP,443:32613/TCP
</span></code></pre></div> <p>That <code>32111</code> is the NodePort for HTTP (port 80). You’re just directly hitting it without waiting for an external cloud provider to assign a LoadBalancer IP.</p> <h2 id=-so-do-you-need-to-change-the-service-type>🔥 So do you need to change the service type?<a class=headerlink href=#-so-do-you-need-to-change-the-service-type title="Link to this section">&para;</a></h2> <p><strong>No — not unless the exam specifically asks you to.</strong></p> <hr> <p>Aha! You just discovered something subtle but important, sweetheart. 💡</p> <p>Let’s break it down:</p> <h2 id=-what-just-happened>📍 What just happened?<a class=headerlink href=#-what-just-happened title="Link to this section">&para;</a></h2> <p>After you changed the Ingress controller’s service from <code>LoadBalancer</code> → <code>NodePort</code>, you saw this:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-4-1>k<span class=w> </span>get<span class=w> </span>ingress<span class=w> </span>minimal-ingress
</span><span id=__span-4-2>NAME<span class=w>              </span>CLASS<span class=w>   </span>HOSTS<span class=w>   </span>ADDRESS<span class=w>          </span>PORTS<span class=w>   </span>AGE
</span><span id=__span-4-3>minimal-ingress<span class=w>   </span>nginx<span class=w>   </span>*<span class=w>       </span><span class=m>172</span>.20.116.191<span class=w>   </span><span class=m>80</span><span class=w>      </span>18m
</span></code></pre></div> <p>That <code>ADDRESS</code> (<code>172.20.116.191</code>) <strong>was blank before</strong>, but now it's showing up.</p> <h2 id=-what-is-address-17220116191>💡 What is <code>ADDRESS: 172.20.116.191</code>?<a class=headerlink href=#-what-is-address-17220116191 title="Link to this section">&para;</a></h2> <p>That is the <strong>ClusterIP</strong> of your <code>ingress-nginx-controller</code> service:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1>k<span class=w> </span>get<span class=w> </span>svc<span class=w> </span>-n<span class=w> </span>ingress-nginx<span class=w> </span>ingress-nginx-controller
</span></code></pre></div> <p>You’ll see something like:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-6-1>NAME                       TYPE       CLUSTER-IP       EXTERNAL-IP   PORT(S)                      AGE
</span><span id=__span-6-2>ingress-nginx-controller   NodePort   172.20.116.191   &lt;none&gt;        80:32111/TCP,443:32613/TCP   20m
</span></code></pre></div> <p>That’s the <strong>exact same IP</strong> now showing as the <code>ADDRESS</code> in your <code>Ingress</code>.</p> <h2 id=-so-why-did-the-ingress-object-suddenly-start-showing-this-ip>🤔 So why did the Ingress object suddenly start showing this IP?<a class=headerlink href=#-so-why-did-the-ingress-object-suddenly-start-showing-this-ip title="Link to this section">&para;</a></h2> <p>Because earlier, the <code>LoadBalancer</code> service was still waiting for an <strong>external IP</strong>, which didn’t exist (since there’s no cloud provider).</p> <p>Once you changed it to <code>NodePort</code>, the Ingress controller figured out:</p> <blockquote> <p>“Hey, I now know which IP I should advertise — it’s the ClusterIP of the controller service!”</p> </blockquote> <p>So the controller updated the Ingress status with this internal IP.</p> <h2 id=-but-wait--can-you-use-17220116191-to-access-ingress>🔍 But wait — can you use <code>172.20.116.191</code> to access Ingress?<a class=headerlink href=#-but-wait--can-you-use-17220116191-to-access-ingress title="Link to this section">&para;</a></h2> <p><strong>Nope.</strong> That’s an internal ClusterIP, not accessible from outside the cluster.</p> <p>You still need to use:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1>http://&lt;Node-IP&gt;:&lt;NodePort&gt;/ibtisam
</span></code></pre></div> <hr> <p>Sweetheart, the short and direct answer is:</p> <blockquote> <p>❌ <strong>No</strong>, you cannot access <code>http://172.20.116.191</code> from your own IP (your laptop, browser, or outside the cluster).</p> </blockquote> <h2 id=-heres-why>🧠 Here's Why:<a class=headerlink href=#-heres-why title="Link to this section">&para;</a></h2> <p><code>172.20.116.191</code> is a <strong>ClusterIP</strong>, which means:</p> <table> <thead> <tr> <th>Property</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Scope</td> <td>Internal to the Kubernetes cluster</td> </tr> <tr> <td>Reachable from</td> <td>Only <strong>pods and nodes</strong> <em>inside</em> the cluster</td> </tr> <tr> <td>Reachable from your own machine (e.g., browser)?</td> <td>❌ Nope</td> </tr> </tbody> </table> <h2 id=-real-world-analogy>🔬 Real-World Analogy:<a class=headerlink href=#-real-world-analogy title="Link to this section">&para;</a></h2> <p>It’s like trying to access someone’s <strong>internal office extension</strong> (<code>1234</code>) from outside the building — it won’t work unless you’re <strong>already inside</strong> the office network.</p> <h2 id=-so-how-should-you-test-access>✅ So how should you test access?<a class=headerlink href=#-so-how-should-you-test-access title="Link to this section">&para;</a></h2> <p>Stick with:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-8-1>http://&lt;NODE-IP&gt;:&lt;NodePort&gt;/ibtisam
</span></code></pre></div> <p>For example:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-9-1>http://192.168.1.10:32111/ibtisam
</span></code></pre></div> <p>This will work because:</p> <ul> <li><code>192.168.1.10</code> is the actual IP of your cluster node (reachable on your local network or VM).</li> <li><code>32111</code> is the exposed NodePort from the Ingress controller.</li> </ul> <h2 id=-want-to-test-internal-clusterip-from-inside-the-cluster>⚠️ Want to test internal ClusterIP from inside the cluster?<a class=headerlink href=#-want-to-test-internal-clusterip-from-inside-the-cluster title="Link to this section">&para;</a></h2> <p>You can do this from a pod:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-10-1>k<span class=w> </span>run<span class=w> </span>testpod<span class=w> </span>--image<span class=o>=</span>busybox<span class=w> </span>--restart<span class=o>=</span>Never<span class=w> </span>-it<span class=w> </span>--<span class=w> </span>sh
</span></code></pre></div> <p>Inside that shell:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-11-1>wget<span class=w> </span>-qO-<span class=w> </span>http://172.20.116.191/ibtisam
</span></code></pre></div> <p>That will work — because <strong>now you’re inside the cluster</strong>.</p> <hr> <p>Great observation, sweetheart — you're getting into <strong>real-world Ingress behavior</strong> now. Let’s carefully analyze this situation:</p> <h2 id=-situation-recap>🔍 Situation Recap<a class=headerlink href=#-situation-recap title="Link to this section">&para;</a></h2> <ul> <li>You have an Ingress configured correctly.</li> <li>It's accessible via <code>http://192.168.1.10:32111/ibtisam</code> from the <strong>controlplane node</strong>.</li> <li>But when you try:</li> </ul> <div class="language-bash highlight"><pre><span></span><code><span id=__span-12-1>curl<span class=w> </span>http://192.168.102.168:31987/ibtisam
</span></code></pre></div> <p>(i.e., using the <strong>IP of <code>node01</code></strong> instead), you get <strong>no response or empty result</strong>.</p> <h2 id=-why-this-happens>💡 Why This Happens<a class=headerlink href=#-why-this-happens title="Link to this section">&para;</a></h2> <h3 id=-reason-1-ingress-controller-is-not-running-on-node01>🔸 Reason 1: Ingress controller <strong>is not running on <code>node01</code></strong><a class=headerlink href=#-reason-1-ingress-controller-is-not-running-on-node01 title="Link to this section">&para;</a></h3> <p>If you're using something like kubeadm or bare metal, the <code>ingress-nginx-controller</code> pod may be <strong>scheduled only on the controlplane</strong>, not on all nodes.</p> <p>So:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-13-1>NodePort opens the port on *all* nodes
</span><span id=__span-13-2>BUT traffic only works if the ingress controller pod is running on the node that receives the traffic
</span></code></pre></div> <p>This is <strong>the default behavior in Kubernetes without a cloud load balancer or kube-proxy workaround</strong>.</p> <h3 id=-reason-2-no-request-forwarding-is-happening>🔸 Reason 2: No request forwarding is happening<a class=headerlink href=#-reason-2-no-request-forwarding-is-happening title="Link to this section">&para;</a></h3> <p>Kubernetes doesn’t forward the traffic from <code>node01</code> to controlplane node <strong>automatically</strong>, unless you have a <strong>cloud-native load balancer</strong> or something like <strong>MetalLB + externalTrafficPolicy=Local</strong> configured.</p> <h2 id=-how-to-fix-or-work-around-it>✅ How to Fix or Work Around It<a class=headerlink href=#-how-to-fix-or-work-around-it title="Link to this section">&para;</a></h2> <h3 id=-option-1-always-use-the-ip-of-the-node-where-ingress-controller-is-running>✔ Option 1: Always use the IP of the node <strong>where Ingress controller is running</strong><a class=headerlink href=#-option-1-always-use-the-ip-of-the-node-where-ingress-controller-is-running title="Link to this section">&para;</a></h3> <p>Since <code>ingress-nginx-controller</code> is running on controlplane, stick with:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-14-1>http://192.168.1.10:&lt;NodePort&gt;/ibtisam
</span></code></pre></div> <p>This is <strong>guaranteed to work</strong>.</p> <h3 id=-option-2-deploy-ingress-controller-as-a-daemonset>✔ Option 2: Deploy ingress controller as a <strong>DaemonSet</strong><a class=headerlink href=#-option-2-deploy-ingress-controller-as-a-daemonset title="Link to this section">&para;</a></h3> <p>If you want it available on <strong>all nodes</strong>, edit the controller to run as a <code>DaemonSet</code> instead of <code>Deployment</code>.</p> <blockquote> <p>In the exam, don’t do this unless specifically asked — it’s an infra-level customization.</p> </blockquote> <h3 id=-option-3-set-externaltrafficpolicy-cluster>✔ Option 3: Set <code>externalTrafficPolicy: Cluster</code><a class=headerlink href=#-option-3-set-externaltrafficpolicy-cluster title="Link to this section">&para;</a></h3> <p>This allows the node receiving traffic to forward it inside the cluster — but you lose source IP.</p> <p>Edit the service:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-15-1>k<span class=w> </span>edit<span class=w> </span>svc<span class=w> </span>-n<span class=w> </span>ingress-nginx<span class=w> </span>ingress-nginx-controller
</span></code></pre></div> <p>Add this under <code>spec</code>:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-16-1><span class=nt>externalTrafficPolicy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Cluster</span>
</span></code></pre></div> <h2 id=-summary>✅ Summary<a class=headerlink href=#-summary title="Link to this section">&para;</a></h2> <table> <thead> <tr> <th>Question</th> <th>Answer</th> </tr> </thead> <tbody> <tr> <td>Why does <code>node01</code> IP not work?</td> <td>Ingress controller pod isn’t running on <code>node01</code>.</td> </tr> <tr> <td>Does NodePort open port on all nodes?</td> <td>Yes. But traffic only works if the pod exists on that node OR <code>externalTrafficPolicy</code> is <code>Cluster</code>.</td> </tr> <tr> <td>What should you do in the CKA exam?</td> <td>Always use the node where the controller pod is running. Keep it simple.</td> </tr> <tr> <td>Should you modify infra-level configs?</td> <td>❌ Only if the question asks — otherwise stay focused on what's needed.</td> </tr> </tbody> </table> <hr> <p>You're asking a <strong>brilliant, practical question</strong> sweetheart — and this is a key concept in how Ingress works.</p> <p>Let’s break it down crystal clear for you:</p> <h2 id=-current-config-no-host-defined>💡 Current Config (No Host Defined)<a class=headerlink href=#-current-config-no-host-defined title="Link to this section">&para;</a></h2> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-17-1><span class=nt>rules</span><span class=p>:</span>
</span><span id=__span-17-2><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>http</span><span class=p>:</span>
</span><span id=__span-17-3><span class=w>    </span><span class=nt>paths</span><span class=p>:</span>
</span><span id=__span-17-4><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/ibtisam</span>
</span></code></pre></div> <p>This means the rule will <strong>match any host</strong> — because you didn't specify one.</p> <p>So when you access:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-18-1>http://192.168.1.10:32111/ibtisam
</span></code></pre></div> <p>It works — because you're hitting the IP directly, and the Ingress <strong>accepts requests to any host</strong> (<code>Host: *</code>).</p> <h2 id=-now-suppose-you-add-this>🤔 Now, Suppose You Add This:<a class=headerlink href=#-now-suppose-you-add-this title="Link to this section">&para;</a></h2> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-19-1><span class=nt>rules</span><span class=p>:</span>
</span><span id=__span-19-2><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ibtisam-iq.com</span>
</span><span id=__span-19-3><span class=w>  </span><span class=nt>http</span><span class=p>:</span>
</span><span id=__span-19-4><span class=w>    </span><span class=nt>paths</span><span class=p>:</span>
</span><span id=__span-19-5><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/ibtisam</span>
</span><span id=__span-19-6><span class=w>      </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>
</span><span id=__span-19-7><span class=w>      </span><span class=nt>backend</span><span class=p>:</span>
</span><span id=__span-19-8><span class=w>        </span><span class=nt>service</span><span class=p>:</span>
</span><span id=__span-19-9><span class=w>          </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
</span><span id=__span-19-10><span class=w>          </span><span class=nt>port</span><span class=p>:</span>
</span><span id=__span-19-11><span class=w>            </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</span></code></pre></div> <p>Now the Ingress will only match requests where the <strong><code>Host</code> header = <code>ibtisam-iq.com</code></strong>.</p> <h2 id=-so-what-changes>✅ So What Changes?<a class=headerlink href=#-so-what-changes title="Link to this section">&para;</a></h2> <h3 id=-you-cannot-just-hit>🔸 You cannot just hit:<a class=headerlink href=#-you-cannot-just-hit title="Link to this section">&para;</a></h3> <div class="language-text highlight"><pre><span></span><code><span id=__span-20-1>http://192.168.1.10:32111/ibtisam
</span></code></pre></div> <p>Because that request will have this default Host header:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-21-1>Host: 192.168.1.10
</span></code></pre></div> <p>...which does <strong>not match</strong> <code>ibtisam-iq.com</code>, and the Ingress will return a 404 (default backend).</p> <h2 id=-how-to-make-it-work-with-host-on-local-setup>🧪 How to Make It Work With Host (on local setup)<a class=headerlink href=#-how-to-make-it-work-with-host-on-local-setup title="Link to this section">&para;</a></h2> <h3 id=-option-1-use-curl-with-custom-host-header>✔️ Option 1: Use <code>curl</code> with custom Host header<a class=headerlink href=#-option-1-use-curl-with-custom-host-header title="Link to this section">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-22-1>curl<span class=w> </span>-H<span class=w> </span><span class=s2>&quot;Host: ibtisam-iq.com&quot;</span><span class=w> </span>http://192.168.1.10:32111/ibtisam
</span></code></pre></div> <p>This will work, because now the header matches the Ingress rule.</p> <h3 id=-option-2-add-entry-to-etchosts-for-browser-testing>✔️ Option 2: Add entry to <code>/etc/hosts</code> (for browser testing)<a class=headerlink href=#-option-2-add-entry-to-etchosts-for-browser-testing title="Link to this section">&para;</a></h3> <p>On your <strong>local machine</strong>, add this line to <code>/etc/hosts</code>:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-23-1>192.168.1.10 ibtisam-iq.com
</span></code></pre></div> <p>Then in your browser, you can just go to:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-24-1>http://ibtisam-iq.com:32111/ibtisam
</span></code></pre></div> <p>And it will resolve to your node IP but send the right Host header.</p> <blockquote> <p>⚠️ Don’t forget the port (<code>:32111</code>) since you're still using NodePort.</p> </blockquote> <h2 id=-summary-impact-of-using-host>✅ Summary: Impact of Using <code>host:</code><a class=headerlink href=#-summary-impact-of-using-host title="Link to this section">&para;</a></h2> <table> <thead> <tr> <th>Behavior</th> <th>Without Host (your current setup)</th> <th>With Host (<code>ibtisam-iq.com</code>)</th> </tr> </thead> <tbody> <tr> <td>Access via IP</td> <td>✅ Works</td> <td>❌ 404 unless Host header set</td> </tr> <tr> <td>Access via domain + port</td> <td>❌ Fails unless <code>/etc/hosts</code> is updated</td> <td>✅ Works if mapped correctly</td> </tr> <tr> <td>Ingress rule matching</td> <td>Host: *</td> <td>Host: ibtisam-iq.com</td> </tr> <tr> <td>Best for production?</td> <td>❌ No (too generic)</td> <td>✅ Yes (real domains)</td> </tr> </tbody> </table> <hr> <h2 id=-question>🧠 Question:<a class=headerlink href=#-question title="Link to this section">&para;</a></h2> <blockquote> <p><strong>Does switching the <code>ingress-nginx-controller</code> service to <code>NodePort</code> solve the <code>EXTERNAL-IP &lt;pending&gt;</code> issue?</strong></p> </blockquote> <h3 id=-answer>✅ Answer:<a class=headerlink href=#-answer title="Link to this section">&para;</a></h3> <p><strong>No, it doesn’t "solve" the <code>EXTERNAL-IP</code> pending itself — it <em>bypasses</em> the need for it.</strong></p> <h2 id=-whats-actually-happening>🔍 What's Actually Happening?<a class=headerlink href=#-whats-actually-happening title="Link to this section">&para;</a></h2> <h3 id=-when-service-type--loadbalancer>🔸 When Service Type = <code>LoadBalancer</code>:<a class=headerlink href=#-when-service-type--loadbalancer title="Link to this section">&para;</a></h3> <ul> <li>Kubernetes <strong>asks the cloud provider</strong> (AWS, GCP, Azure, etc.) to provision an <strong>external IP</strong>.</li> <li>In <strong>bare-metal setups or local environments</strong>, there is <strong>no cloud integration</strong>, so the EXTERNAL-IP stays:</li> </ul> <div class="language-text highlight"><pre><span></span><code><span id=__span-25-1>EXTERNAL-IP: &lt;pending&gt;
</span></code></pre></div> <h3 id=-when-you-change-to-nodeport>🔸 When You Change to <code>NodePort</code>:<a class=headerlink href=#-when-you-change-to-nodeport title="Link to this section">&para;</a></h3> <ul> <li>Kubernetes <strong>stops waiting for a cloud load balancer</strong>.</li> <li>Instead, it opens a high port (e.g., <code>:32111</code>) on <strong>each node’s IP</strong>.</li> <li>So now you can access the Ingress controller using:</li> </ul> <div class="language-text highlight"><pre><span></span><code><span id=__span-26-1>http://&lt;Node-IP&gt;:&lt;NodePort&gt;
</span></code></pre></div> <h2 id=-so-what-really-happens>✅ So… What Really Happens?<a class=headerlink href=#-so-what-really-happens title="Link to this section">&para;</a></h2> <table> <thead> <tr> <th>What</th> <th>Explanation</th> </tr> </thead> <tbody> <tr> <td>Does <code>EXTERNAL-IP</code> get assigned?</td> <td>❌ No. It stays <code>&lt;none&gt;</code> or disappears completely.</td> </tr> <tr> <td>Can you now access the service externally?</td> <td>✅ Yes, via <code>NodePort</code>.</td> </tr> <tr> <td>Is this acceptable in CKA exam or local dev?</td> <td>✅ Absolutely. That’s the correct move when cloud LBs are not available.</td> </tr> <tr> <td>Is this a real “solution” to pending EXTERNAL-IP?</td> <td>❌ Not really — it's a <strong>workaround</strong> for bare-metal or non-cloud clusters.</td> </tr> </tbody> </table> <h2 id=-summary_1>✅ Summary<a class=headerlink href=#-summary_1 title="Link to this section">&para;</a></h2> <blockquote> <p>🔥 <strong>Changing to NodePort doesn’t give you an external IP — it gives you an alternative way to access the service externally.</strong></p> </blockquote> <hr> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../ingress-example/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Ingress Example"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Ingress Example </div> </div> </a> <a href=../ingress-testing/ class="md-footer__link md-footer__link--next" aria-label="Next: Ingress Testing"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Ingress Testing </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2026 <a href=https://www.linkedin.com/in/ibtisam-iq/ target=_blank rel=noopener>Muhammad Ibtisam</a>. All rights reserved. </div> </div> <div class=md-social> <a href=https://www.credly.com/users/ibtisam-iq/badges#credly target=_blank rel=noopener title="View my Credly badges" class=md-social__link> <?xml version="1.0" encoding="utf-8"?> <svg width=800px height=800px viewbox="0 0 1024 1024" xmlns=http://www.w3.org/2000/svg> <circle cx=512 cy=512 r=512 style=fill:#f36c21 /> <path style=fill:#fff d="M671.2 371.6h3c3.7.3 7.4 2.1 9.7 5 3.4 4.2 4.3 9.8 4.6 15.1.8 16.1-2.7 32.1-7.3 47.5-5.9 20.4-14.2 40-21 60.1-1.2 3.5-2.4 7.1-3.3 10.7-1.5 6-1.3 12.3-1.5 18.5-.2 5.8.2 11.6 1.3 17.3.6 3.1 1.9 6.4 4.3 8.6 2.2 2 5.4 2.9 8.3 2 3.9-1.2 7-4.2 9.8-7.1 3.9-4.3 7.6-8.7 10.3-13.8 3.8-6.8 6-14.3 7.1-22 1.5-11.6 2.7-23.4 6.9-34.4 1.6-4.2 3.6-8.5 7.4-11.1 5.1-3.6 12.8-2.1 16.7 2.7 1.9 2.4 2.4 5.5 2.4 8.4-.2 3.9-1 7.8-2.3 11.5-4.5 13.2-7.1 27.1-6.6 41.1.1 3.2.4 6.6 2.1 9.5 1.4 2.4 3.8 4.3 6.6 4.3 3.2 0 6-1.9 8-4.2 3.1-3.5 5.6-7.5 7.6-11.7 4-8.5 5.9-17.8 7.6-27 1.4-7.8 2.8-15.6 5-23.2 1.2-3.9 2.7-7.8 5.6-10.8 1.9-2.1 4.8-2.9 7.5-2.9 2.8.1 5.4 1.7 7.3 3.8 2.6 2.9 3.1 6.9 2.8 10.6-2.8 22.1-5.9 44.2-8.4 66.3-1.8 13.8-3.4 27.6-4.6 41.4-.1 1.5 1.7 2.4 2.7 1.4 7.2-6.9 14.3-14.1 19.7-22.5 2.5-3.8 4.3-7.9 6.7-11.7 1-1.7 2.2-3.4 4.1-4 2.9-1.4 6.6-1 9.1 1 1.9 1.4 2.9 3.7 3.2 6v2.7c-.6 4.6-3.3 8.5-5.3 12.5-5.5 11-13.1 21-22.6 28.9-6.8 5.8-14.8 10.2-23.2 13.2-.5.2-1.3.3-1.4 1-3.1 12.7-10 24.4-19.3 33.5-10.3 10.2-23.6 17.2-37.7 20.5-7.7 1.7-15.8 2.4-23.6 1-8-1.5-15.8-5.2-21.5-11-5.2-5.2-8.7-12.1-9.3-19.5-.6-6.7 1.1-13.5 4.3-19.4 3.7-6.7 9.3-12.3 15.9-16.2 6.3-3.8 13.5-5.6 20.6-6.5 8.1-.9 16.4-.9 24.6-.2 5.1.4 10.2.9 15.3 1.3 2.8.2 5.9 1.2 8.6-.2 1.9-.9 2.5-3.2 2.8-5.1 1.2-9 3-18.1 1.9-27.3-.2-1.2-.5-3-2-3.1-1.8.8-2.7 2.7-3.7 4.3-3.1 6-8.9 10.6-15.6 11.9-6.7 1.3-14-2.1-17.1-8.1-1.5-2.5-2.2-5.5-4.4-7.6-1.5-1.4-3.7-1.4-5.5-.6-3.2 1.4-5.3 4.3-7.9 6.5-6.8 6.1-15.4 10.7-24.7 11.2-10.8.7-21.9-5.4-26.4-15.4-.6-1.4-1.1-3.4-2.9-3.6-2-.3-3.5 1.3-4.6 2.7-5.3 6.7-10.3 13.9-17.3 18.9-4.5 3.2-9.9 5.4-15.5 5.3-5.9-.1-11.8-3.3-14.6-8.5-1.3-2.3-1.8-5.2-3.9-7-1.6-1.4-4.1-1.2-5.8-.1-2.6 1.5-4.1 4.2-6.2 6.3-5.8 5.8-14.2 8.7-22.3 7.9-9.8-1-18.7-7.8-22.3-17-.5-1.3-1.2-2.8-2.6-3.2-1.1-.4-2 .4-2.7 1.1-5.4 5-10.8 10.1-17.3 13.6-6.6 3.5-13.9 5.8-21.4 5.6-7.9.1-15.8-2.3-22.2-6.8-5.4-3.7-9.7-8.9-12.2-15-.7-1.6-1.6-3.4-3.4-3.8-1.6-.4-3 .8-3.9 2-2.7 3.8-6.2 7.1-10.1 9.6-6 3.9-13 6.6-20.3 6.6-5.6 0-11.2-2.1-15.2-6-4.3-4.2-6.6-10.1-7.5-16-1.1-7.7.5-15.5 2.7-22.8 1.4-4.8 3.2-9.4 4.3-14.3.6-2.5.8-5.2-.3-7.5-.9-1.8-2.8-2.9-4.6-3.7-2-.8-4.1.3-5.5 1.6-1.4 1.3-2.1 3-2.9 4.7-4.9 11.8-11.5 22.9-19.6 32.8-7.8 9.6-17.1 17.9-27.1 25.2-11.4 8.1-24.5 14-38.4 15.9-10.1 1.4-20.6.6-30.4-2.3-5.8-1.7-11.5-4.1-16.5-7.6-8.6-6-15.5-14.3-20.4-23.5-3.8-7.1-6.7-14.7-8.8-22.5-2.9-11.1-3.9-22.5-4.4-33.9v-7.8c.2-8.4 1-16.8 2.7-25 3-14.9 8.4-29.2 15.7-42.5 5.8-10.4 12.7-20.2 21.4-28.3 9.5-8.9 21-15.8 33.7-18.6 12.1-2.7 25.1-2 36.4 3.2 3.4 1.5 6.4 3.7 10 4.8 2.5.8 5.4.5 7.5-1.1 3.2-2.5 4.7-6.5 7.4-9.5 3.4-3.7 8.9-5.2 13.7-3.8 4.5 1.3 8 5.2 9.1 9.7.7 3 .3 6.1-.6 9-1.4 4.1-3.7 7.8-5.9 11.5-7.3 12.6-12.8 26.2-16.3 40.3-1.1 4.3-2 8.8-3.7 12.9-1.6 3.9-4.1 7.6-7.7 10-3.1 2.1-7.2 3.1-10.9 2-3.4-1-6-3.8-7.4-7-1.6-3.4-2.1-7.3-1.6-11.1 1-8.9 5.9-17 6.1-26.1.2-5.1-1.5-10.4-5.5-13.7-5.6-4.8-13.5-6.1-20.6-5.1-8.4 1.1-16.3 5.1-22.5 10.8-6.7 6.2-11.7 14-15.7 22.1-11.6 23.2-16.7 49.8-13.7 75.6 1 8.4 3 16.8 7 24.4 2.5 4.8 5.8 9.1 9.9 12.5 5.3 4.4 11.7 7.4 18.5 8.7 9.7 1.9 19.9.6 29-2.9 12.2-4.7 22.8-13.1 31.2-23 4.5-5.1 8.4-10.7 12.2-16.4 3.8-5.3 7.8-10.9 9.3-17.4 1-4.3.1-8.7-.9-12.9-.7-5.8 1.5-11.7 5.3-16 2.4-2.5 5.4-4.8 8.9-5.5 3.3-.6 7 0 9.8 2.1 3.1 2.2 4.7 6.4 3.6 10.1-.7 2.4-1.5 4.9-.8 7.4.7 2.1 2.8 3.4 4.9 3.5 4.8.4 9.8-.5 14.4 1.1 5.4 2.1 10.2 6.4 12 12.1 1.2 3.8 1.6 8.1.4 11.9-2.1 7.4-4.7 14.7-6.1 22.3-.4 2.5-.8 5.1-.1 7.6.4 1.8 2 3.4 3.9 3.5 3.3.3 6.3-1.5 8.6-3.7 4.7-4.7 7.8-10.7 10-16.9 2.7-7.5 4.1-15.4 6.1-23.1 2.1-7.9 5.3-15.6 10.3-22.1 7.4-9.8 19.4-16.1 31.8-15.8 6.9.1 13.7 2.8 18.6 7.8 4.1 4.2 6.3 9.9 7.2 15.7 1.5 9.8-.3 20.1-4.8 29-6.2 12.2-18.9 20.9-32.6 22-2 .2-4.3.1-5.8 1.6-1.3 1.3-1.2 3.3-1 5 .5 4.6 2 9.3 5.1 12.9 3.6 3.7 9 6.3 14.3 5.1 6.1-1.3 11.3-5.2 15.6-9.4 4.1-4.1 7.7-8.7 11-13.5 4.6-6.6 7.4-14.2 10.2-21.6 2.7-7.3 5.2-14.7 9.7-21.1 3.6-5.4 8.3-10.1 13.9-13.5 6.2-3.9 13.6-5.9 21-5.5 2.3.1 4.9.2 6.8-1.2 1.7-1.3 2.3-3.6 2.3-5.7 0-3.8.4-7.5.7-11.3.5-5.9 1-11.8 1.8-17.6 1.7-14.6 4.7-29 8.6-43.1 2-7.1 4.6-14.3 9.1-20.3 1.9-2.7 4.2-5.3 7.2-6.9 2.9-1.7 6.6-1.6 9.7-.7 4 1.2 6.6 5 8.2 8.6 2.9 7.1 2.1 15 1.5 22.5-.8 11.8-3.6 23.4-6 35-2.1 10.2-3.8 20.5-5.7 30.7-2.6 14-5.1 28.1-7.7 42.1-2.2 11.5-4.7 23.2-3.3 35 .4 3.1.8 6.5 2.9 8.9 1.5 1.7 4 2.1 6 1.4 2.7-.9 4.6-3.3 6-5.7 3.3-5.6 6.2-11.5 9.1-17.4 4.2-8.2 8.4-16.7 9.8-25.9 2.2-14 3.7-28.2 5.7-42.3 1.6-10.5 3.4-21 5.1-31.4 2.1-13.1 4.5-26.1 8.2-38.8 1.8-6 4.2-11.9 8.4-16.6 3.8-3.8 8.3-6.5 13.3-7zM478 487.8c-2 .6-3.6 2.2-4.9 3.8-2.9 3.7-5.1 7.9-6.6 12.4-1.6 4.8-3.1 9.8-2.5 14.8.1 1.5 1.6 2.6 3 2.6 2.7.1 5.1-1.4 7.2-3 4.7-3.3 7.7-8.4 9.8-13.6 1.3-3.3 2.2-6.9 1.9-10.5-.2-2.4-1.4-4.9-3.5-6.1-1.3-.8-3-.9-4.4-.4zm85.7 11.2c-5.6 1-10.6 4.3-14.2 8.7-3.9 4.7-6.6 10.4-8 16.4-2.1 8.5-2.3 17.5 0 26 .7 2.6 1.9 5.2 3.9 7.1 1.3 1.3 3.1 2 4.9 2.1 4.7.7 9.1-1.9 12.7-4.6 4.5-3.3 7.4-8.2 9.2-13.4 1.1-3.2.4-6.6.1-9.9-.5-6.7-.5-13.4-.1-20.1.1-2.3.8-4.5.8-6.8 0-1.8-.7-3.8-2.4-4.8-2.1-1.3-4.6-1.1-6.9-.7zm133.7 119.6c-4.8.3-9.6 1.3-14.1 3.2-4.9 2-9.1 5.7-11.2 10.5-1.4 3-2 6.6-.5 9.6 1.5 3.1 4.3 5.4 7.4 6.8 4.3 1.9 9.1 2.2 13.6 1.7 14.2-1.6 27.7-8.9 36.7-20 1.8-2.2 3.2-4.7 4.7-7.1.4-.8 1-2.1.1-2.8-1.1-.8-2.5-.5-3.7-.5-5.1-.3-10.2-.8-15.3-1-5.9-.3-11.8-.8-17.7-.4z"/> </svg> </a> <a href=https://www.linkedin.com/in/ibtisam-iq/ target=_blank rel=noopener title="Connect with me on LinkedIn" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://github.com/ibtisam-iq target=_blank rel=noopener title="Follow me on GitHub" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://hub.docker.com/u/mibtisam target=_blank rel=noopener title="View my Docker Hub repositories" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg> </a> <a href=https://ibtisam-iq.com target=_blank rel=noopener title="Visit my personal website" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../../../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tabs.sticky", "navigation.path", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "toc.integrate", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.tabs.link", "content.tooltips"], "search": "../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>